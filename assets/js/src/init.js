$(document).ready(function() {
    $('.content').animate({opacity:1}, 300);

    // Example PR data
    // [{"url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/pulls\/49","id":8141280,"html_url":"https:\/\/github.com\/Betterment\/brochure-wp\/pull\/49","diff_url":"https:\/\/github.com\/Betterment\/brochure-wp\/pull\/49.diff","patch_url":"https:\/\/github.com\/Betterment\/brochure-wp\/pull\/49.patch","issue_url":"https:\/\/github.com\/Betterment\/brochure-wp\/pull\/49","number":49,"state":"open","title":"Kyang\/develop\/blog homepage test","user":{"login":"Had0ken","id":3179405,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/963cfda14f90e15d3b9450597583db1a?d=https%3A%2F%2Fidenticons.github.com%2Fe02793b8a947fbfcd70f9ee96aa6e8be.png","gravatar_id":"963cfda14f90e15d3b9450597583db1a","url":"https:\/\/api.github.com\/users\/Had0ken","html_url":"https:\/\/github.com\/Had0ken","followers_url":"https:\/\/api.github.com\/users\/Had0ken\/followers","following_url":"https:\/\/api.github.com\/users\/Had0ken\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Had0ken\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Had0ken\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Had0ken\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Had0ken\/orgs","repos_url":"https:\/\/api.github.com\/users\/Had0ken\/repos","events_url":"https:\/\/api.github.com\/users\/Had0ken\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Had0ken\/received_events","type":"User"},"body":"Blog homepage posts layout split-test.\r\n\r\nFor testing purposes: \r\nExperiment name: blog_homepage_posts\r\nVariations: blog_landingpage, blog_index\r\n\r\n@swhinnem - Could you please review code and test? Let me know when you are going to test so I can let you know what widgets to place into the sidebar in WP\r\n\r\n@ceslami @samandmoore - split test code sanity check\r\n\r\n","created_at":"2013-09-06T15:56:06Z","updated_at":"2013-09-17T19:50:33Z","closed_at":null,"merged_at":null,"merge_commit_sha":"d12674c9629284f06d080d7e6ed4f153654b7c15","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/brochure-wp\/pull\/49\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/brochure-wp\/pull\/49\/comments","review_comment_url":"\/repos\/Betterment\/brochure-wp\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/49\/comments","head":{"label":"Betterment:kyang\/develop\/blog-homepage-test","ref":"kyang\/develop\/blog-homepage-test","sha":"59cb5ec785b96658f64d0c0d9621938e231293c8","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":3103783,"name":"brochure-wp","full_name":"Betterment\/brochure-wp","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/brochure-wp","description":"Betterment's WordPress Install \/ Brochure Site","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/labels{\/name}","created_at":"2012-01-04T17:23:47Z","updated_at":"2013-09-20T20:04:38Z","pushed_at":"2013-09-20T20:04:37Z","git_url":"git:\/\/github.com\/Betterment\/brochure-wp.git","ssh_url":"git@github.com:Betterment\/brochure-wp.git","clone_url":"https:\/\/github.com\/Betterment\/brochure-wp.git","svn_url":"https:\/\/github.com\/Betterment\/brochure-wp","homepage":"https:\/\/betterment.com\/","size":205230,"watchers_count":0,"language":"PHP","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":1,"mirror_url":null,"open_issues_count":1,"forks":1,"open_issues":1,"watchers":0,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"35afb0d184bd0a229fd587b4b82b1cb7084ee294","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":3103783,"name":"brochure-wp","full_name":"Betterment\/brochure-wp","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/brochure-wp","description":"Betterment's WordPress Install \/ Brochure Site","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/labels{\/name}","created_at":"2012-01-04T17:23:47Z","updated_at":"2013-09-20T20:04:38Z","pushed_at":"2013-09-20T20:04:37Z","git_url":"git:\/\/github.com\/Betterment\/brochure-wp.git","ssh_url":"git@github.com:Betterment\/brochure-wp.git","clone_url":"https:\/\/github.com\/Betterment\/brochure-wp.git","svn_url":"https:\/\/github.com\/Betterment\/brochure-wp","homepage":"https:\/\/betterment.com\/","size":205230,"watchers_count":0,"language":"PHP","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":1,"mirror_url":null,"open_issues_count":1,"forks":1,"open_issues":1,"watchers":0,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/pulls\/49"},"html":{"href":"https:\/\/github.com\/Betterment\/brochure-wp\/pull\/49"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/49"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/49\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/pulls\/49\/comments"}},"merged":false,"mergeable":false,"mergeable_state":"dirty","merged_by":null,"comments":3,"review_comments":6,"commits":8,"additions":569,"deletions":178,"changed_files":10,"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/comments\/24614335","html_url":"https:\/\/github.com\/Betterment\/brochure-wp\/pull\/49#issuecomment-24614335","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/49","id":24614335,"user":{"login":"swhinnem","id":1100018,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/b727bf0f7a9617a60fc2a8d58ac96731?d=https%3A%2F%2Fidenticons.github.com%2Feee69ca6fe05783cda81fbf385f8bb25.png","gravatar_id":"b727bf0f7a9617a60fc2a8d58ac96731","url":"https:\/\/api.github.com\/users\/swhinnem","html_url":"https:\/\/github.com\/swhinnem","followers_url":"https:\/\/api.github.com\/users\/swhinnem\/followers","following_url":"https:\/\/api.github.com\/users\/swhinnem\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/swhinnem\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/swhinnem\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/swhinnem\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/swhinnem\/orgs","repos_url":"https:\/\/api.github.com\/users\/swhinnem\/repos","events_url":"https:\/\/api.github.com\/users\/swhinnem\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/swhinnem\/received_events","type":"User"},"created_at":"2013-09-17T19:06:59Z","updated_at":"2013-09-17T19:06:59Z","body":"Except for the IDs mentioned, looks\/works great. "},{"url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/comments\/24614546","html_url":"https:\/\/github.com\/Betterment\/brochure-wp\/pull\/49#issuecomment-24614546","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/49","id":24614546,"user":{"login":"Had0ken","id":3179405,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/963cfda14f90e15d3b9450597583db1a?d=https%3A%2F%2Fidenticons.github.com%2Fe02793b8a947fbfcd70f9ee96aa6e8be.png","gravatar_id":"963cfda14f90e15d3b9450597583db1a","url":"https:\/\/api.github.com\/users\/Had0ken","html_url":"https:\/\/github.com\/Had0ken","followers_url":"https:\/\/api.github.com\/users\/Had0ken\/followers","following_url":"https:\/\/api.github.com\/users\/Had0ken\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Had0ken\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Had0ken\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Had0ken\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Had0ken\/orgs","repos_url":"https:\/\/api.github.com\/users\/Had0ken\/repos","events_url":"https:\/\/api.github.com\/users\/Had0ken\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Had0ken\/received_events","type":"User"},"created_at":"2013-09-17T19:08:49Z","updated_at":"2013-09-17T19:08:49Z","body":"There was a good reason for all the IDs. I just don't remember what it is."},{"url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/comments\/24616763","html_url":"https:\/\/github.com\/Betterment\/brochure-wp\/pull\/49#issuecomment-24616763","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/brochure-wp\/issues\/49","id":24616763,"user":{"login":"swhinnem","id":1100018,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/b727bf0f7a9617a60fc2a8d58ac96731?d=https%3A%2F%2Fidenticons.github.com%2Feee69ca6fe05783cda81fbf385f8bb25.png","gravatar_id":"b727bf0f7a9617a60fc2a8d58ac96731","url":"https:\/\/api.github.com\/users\/swhinnem","html_url":"https:\/\/github.com\/swhinnem","followers_url":"https:\/\/api.github.com\/users\/swhinnem\/followers","following_url":"https:\/\/api.github.com\/users\/swhinnem\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/swhinnem\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/swhinnem\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/swhinnem\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/swhinnem\/orgs","repos_url":"https:\/\/api.github.com\/users\/swhinnem\/repos","events_url":"https:\/\/api.github.com\/users\/swhinnem\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/swhinnem\/received_events","type":"User"},"created_at":"2013-09-17T19:50:33Z","updated_at":"2013-09-17T19:50:33Z","body":":star2: "}]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/378","id":8498281,"html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/378","diff_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/378.diff","patch_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/378.patch","issue_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/378","number":378,"state":"open","title":"Bancorp RC1 Part 1","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"@matsuimp @ysoussov @nonrational @chauzer\r\n\r\nPart 2 needs to be picked from Develop","created_at":"2013-09-20T21:59:25Z","updated_at":"2013-09-21T00:03:41Z","closed_at":null,"merged_at":null,"merge_commit_sha":"d5aa6dffd6eb623f50153197daa0ea0fd914a37d","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/378\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/378\/comments","review_comment_url":"\/repos\/Betterment\/better-core\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/378\/comments","head":{"label":"Betterment:ygoldman\/ymg-bancorp-RC1","ref":"ygoldman\/ymg-bancorp-RC1","sha":"f332748944d19800cd932ab0883139a3340f9d83","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-09-21T00:03:47Z","pushed_at":"2013-09-21T00:03:40Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":236488,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":4,"forks":2,"open_issues":4,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:stage","ref":"stage","sha":"044607aa26c1d1083309ccdeda45824a14b9bf42","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-09-21T00:03:47Z","pushed_at":"2013-09-21T00:03:40Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":236488,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":4,"forks":2,"open_issues":4,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/378"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/378"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/378"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/378\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/378\/comments"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":0,"review_comments":0,"commits":38,"additions":2738,"deletions":882,"changed_files":102,"comments_list":[]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/367","id":8470054,"html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/367","diff_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/367.diff","patch_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/367.patch","issue_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/367","number":367,"state":"open","title":"Return and RFR CSV Importers","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"@jfairchild @chauzer @andrewglenn @abenke ","created_at":"2013-09-19T23:35:45Z","updated_at":"2013-09-19T23:35:45Z","closed_at":null,"merged_at":null,"merge_commit_sha":null,"assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/367\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/367\/comments","review_comment_url":"\/repos\/Betterment\/better-core\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/367\/comments","head":{"label":"Betterment:gsadowski\/develop\/er-rffc-importers","ref":"gsadowski\/develop\/er-rffc-importers","sha":"e930ed8af49e4709436f914a27b90b4d56ff0800","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-09-21T00:03:47Z","pushed_at":"2013-09-21T00:03:40Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":236488,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":4,"forks":2,"open_issues":4,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"9165a4d5b75337b0f0c1ca79afc0aa437c3e080b","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-09-21T00:03:47Z","pushed_at":"2013-09-21T00:03:40Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":236488,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":4,"forks":2,"open_issues":4,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/367"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/367"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/367"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/367\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/367\/comments"}},"merged":false,"mergeable":false,"mergeable_state":"dirty","merged_by":null,"comments":0,"review_comments":0,"commits":18,"additions":4234,"deletions":2062,"changed_files":40,"comments_list":[]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/364","id":8463035,"html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/364","diff_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/364.diff","patch_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/364.patch","issue_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/364","number":364,"state":"open","title":"Convert brochure experiences on basicUserSignup instead of userSignup","user":{"login":"ceslami","id":185070,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/8c576440848a9bfcdc71f5cb9457e075?d=https%3A%2F%2Fidenticons.github.com%2F42f415e82af75d1aec747737b932e918.png","gravatar_id":"8c576440848a9bfcdc71f5cb9457e075","url":"https:\/\/api.github.com\/users\/ceslami","html_url":"https:\/\/github.com\/ceslami","followers_url":"https:\/\/api.github.com\/users\/ceslami\/followers","following_url":"https:\/\/api.github.com\/users\/ceslami\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ceslami\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ceslami\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ceslami\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ceslami\/orgs","repos_url":"https:\/\/api.github.com\/users\/ceslami\/repos","events_url":"https:\/\/api.github.com\/users\/ceslami\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ceslami\/received_events","type":"User"},"body":"paired with @samandmoore","created_at":"2013-09-19T19:31:26Z","updated_at":"2013-09-20T21:24:11Z","closed_at":null,"merged_at":null,"merge_commit_sha":"2aeaf91da8ff185f1d0924fcaf691c860f3841bd","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/364\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/364\/comments","review_comment_url":"\/repos\/Betterment\/better-core\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/364\/comments","head":{"label":"Betterment:cse\/develop\/basic-user-signup-conversion","ref":"cse\/develop\/basic-user-signup-conversion","sha":"ea6231cdb15154b44078d914b8f83df7ddcdc642","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-09-21T00:03:47Z","pushed_at":"2013-09-21T00:03:40Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":236488,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":4,"forks":2,"open_issues":4,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"cce8c77451c41e919edc77fb848b914108aa8730","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-09-21T00:03:47Z","pushed_at":"2013-09-21T00:03:40Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":236488,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":4,"forks":2,"open_issues":4,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/364"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/364"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/364"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/364\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/364\/comments"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":1,"review_comments":0,"commits":9,"additions":474,"deletions":184,"changed_files":20,"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/24786661","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/364#issuecomment-24786661","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/364","id":24786661,"user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"created_at":"2013-09-20T02:23:15Z","updated_at":"2013-09-20T02:23:15Z","body":"@nonrational @adamlangsner @ceslami @betterdan @reustmd \r\n\r\ncan y'all take a look at this? it was supposed to be simple code relocation for a signup handler, and in order to make that work we had to clean up a ton of code"}]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/347","id":8371339,"html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/347","diff_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/347.diff","patch_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/347.patch","issue_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/347","number":347,"state":"open","title":"eradicate usages of BigDecimal's double constructor","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"@chauzer @jfairchild @andrewglenn @nonrational \r\n\r\nthoughts?","created_at":"2013-09-17T00:35:25Z","updated_at":"2013-09-17T20:50:13Z","closed_at":null,"merged_at":null,"merge_commit_sha":"a40bbf1972dd601cf57e38791515f58623532669","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/347\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/347\/comments","review_comment_url":"\/repos\/Betterment\/better-core\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/347\/comments","head":{"label":"Betterment:gsadowski\/develop\/lol-big-decimal-constructors","ref":"gsadowski\/develop\/lol-big-decimal-constructors","sha":"974142d722af68c765437e0d1ab1c0f0b7e0cc12","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-09-21T00:03:47Z","pushed_at":"2013-09-21T00:03:40Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":236488,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":4,"forks":2,"open_issues":4,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"7533d58b5b94a697c121ec7910e9a536de371a8d","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-09-21T00:03:47Z","pushed_at":"2013-09-21T00:03:40Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":236488,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":4,"forks":2,"open_issues":4,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/347"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/347"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/347"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/347\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/347\/comments"}},"merged":false,"mergeable":false,"mergeable_state":"dirty","merged_by":null,"comments":3,"review_comments":0,"commits":1,"additions":247,"deletions":256,"changed_files":59,"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/24566778","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/347#issuecomment-24566778","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/347","id":24566778,"user":{"login":"andrewglenn","id":1158277,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/984d2c6f2fd336bdd21e35bc73616c1f?d=https%3A%2F%2Fidenticons.github.com%2F686dd4e92f50c1793dc56167a6c8f49b.png","gravatar_id":"984d2c6f2fd336bdd21e35bc73616c1f","url":"https:\/\/api.github.com\/users\/andrewglenn","html_url":"https:\/\/github.com\/andrewglenn","followers_url":"https:\/\/api.github.com\/users\/andrewglenn\/followers","following_url":"https:\/\/api.github.com\/users\/andrewglenn\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/andrewglenn\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/andrewglenn\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/andrewglenn\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/andrewglenn\/orgs","repos_url":"https:\/\/api.github.com\/users\/andrewglenn\/repos","events_url":"https:\/\/api.github.com\/users\/andrewglenn\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/andrewglenn\/received_events","type":"User"},"created_at":"2013-09-17T06:33:03Z","updated_at":"2013-09-17T06:33:03Z","body":"Hah, nice branch name :) Did any unit tests fail after this change?"},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/24604640","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/347#issuecomment-24604640","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/347","id":24604640,"user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"created_at":"2013-09-17T17:00:32Z","updated_at":"2013-09-17T17:00:32Z","body":"nope, nothing failing"},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/24605676","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/347#issuecomment-24605676","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/347","id":24605676,"user":{"login":"jfairchild","id":1012652,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/7136b77872f8efd11aded1a3fc62c48a?d=https%3A%2F%2Fidenticons.github.com%2F5daa73500c0de987517d3e2cdac44dea.png","gravatar_id":"7136b77872f8efd11aded1a3fc62c48a","url":"https:\/\/api.github.com\/users\/jfairchild","html_url":"https:\/\/github.com\/jfairchild","followers_url":"https:\/\/api.github.com\/users\/jfairchild\/followers","following_url":"https:\/\/api.github.com\/users\/jfairchild\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/jfairchild\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/jfairchild\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/jfairchild\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/jfairchild\/orgs","repos_url":"https:\/\/api.github.com\/users\/jfairchild\/repos","events_url":"https:\/\/api.github.com\/users\/jfairchild\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/jfairchild\/received_events","type":"User"},"created_at":"2013-09-17T17:14:47Z","updated_at":"2013-09-17T17:14:47Z","body":":100: :100: :100: lgtm"}]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/pulls\/9","id":8430087,"html_url":"https:\/\/github.com\/Betterment\/mobile-ios\/pull\/9","diff_url":"https:\/\/github.com\/Betterment\/mobile-ios\/pull\/9.diff","patch_url":"https:\/\/github.com\/Betterment\/mobile-ios\/pull\/9.patch","issue_url":"https:\/\/github.com\/Betterment\/mobile-ios\/pull\/9","number":9,"state":"open","title":"asl\/develop\/signup-webview","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"@betterdan @reustmd @samandmoore @ceslami \r\nAdded a modal UIWebview to show signup page rather than going from Betterment app into safari","created_at":"2013-09-18T19:17:36Z","updated_at":"2013-09-20T15:07:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21c5dec14dd4da8e680a274b782707bf7639b68a","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/mobile-ios\/pull\/9\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/mobile-ios\/pull\/9\/comments","review_comment_url":"\/repos\/Betterment\/mobile-ios\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/issues\/9\/comments","head":{"label":"Betterment:asl\/develop\/signup-webview","ref":"asl\/develop\/signup-webview","sha":"bae290e4404c0d6ee01425353f58122b542714a2","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":10249749,"name":"mobile-ios","full_name":"Betterment\/mobile-ios","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/mobile-ios","description":"Betterment iPhone Application","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/labels{\/name}","created_at":"2013-05-23T17:48:57Z","updated_at":"2013-09-20T15:07:15Z","pushed_at":"2013-09-20T15:07:14Z","git_url":"git:\/\/github.com\/Betterment\/mobile-ios.git","ssh_url":"git@github.com:Betterment\/mobile-ios.git","clone_url":"https:\/\/github.com\/Betterment\/mobile-ios.git","svn_url":"https:\/\/github.com\/Betterment\/mobile-ios","homepage":null,"size":10465,"watchers_count":0,"language":"Objective-C","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":1,"mirror_url":null,"open_issues_count":1,"forks":1,"open_issues":1,"watchers":0,"master_branch":"master","default_branch":"master"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"8872955bb5879c2b35433e55255ccaba3fe54256","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":10249749,"name":"mobile-ios","full_name":"Betterment\/mobile-ios","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/mobile-ios","description":"Betterment iPhone Application","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/labels{\/name}","created_at":"2013-05-23T17:48:57Z","updated_at":"2013-09-20T15:07:15Z","pushed_at":"2013-09-20T15:07:14Z","git_url":"git:\/\/github.com\/Betterment\/mobile-ios.git","ssh_url":"git@github.com:Betterment\/mobile-ios.git","clone_url":"https:\/\/github.com\/Betterment\/mobile-ios.git","svn_url":"https:\/\/github.com\/Betterment\/mobile-ios","homepage":null,"size":10465,"watchers_count":0,"language":"Objective-C","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":1,"mirror_url":null,"open_issues_count":1,"forks":1,"open_issues":1,"watchers":0,"master_branch":"master","default_branch":"master"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/pulls\/9"},"html":{"href":"https:\/\/github.com\/Betterment\/mobile-ios\/pull\/9"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/issues\/9"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/issues\/9\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/pulls\/9\/comments"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":1,"review_comments":3,"commits":7,"additions":510,"deletions":29,"changed_files":11,"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/issues\/comments\/24770108","html_url":"https:\/\/github.com\/Betterment\/mobile-ios\/pull\/9#issuecomment-24770108","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/mobile-ios\/issues\/9","id":24770108,"user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"created_at":"2013-09-19T20:19:16Z","updated_at":"2013-09-19T20:19:16Z","body":"@reustmd @samandmoore @betterdan \r\ndeleting cookies when user logs out, doesnt prevent resuming signup session"}]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/pulls\/1","id":6376975,"html_url":"https:\/\/github.com\/Betterment\/rollaway\/pull\/1","diff_url":"https:\/\/github.com\/Betterment\/rollaway\/pull\/1.diff","patch_url":"https:\/\/github.com\/Betterment\/rollaway\/pull\/1.patch","issue_url":"https:\/\/github.com\/Betterment\/rollaway\/pull\/1","number":1,"state":"open","title":"images stored in S3","user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"body":"you need to include the proper ENV variables for this to work, but it does work.\r\n\r\nwe need to figure out how to get the import step into some sort of CLI... i wonder how hard it would be to make the eBean models and stuff a separate .jar and then just consume that in a simple CLI and this web app?\r\n\r\nalso, we would need to come up with some credentials with just S3 upload and view permissions to use for this app. I'm currently using my personal creds locally. \r\n\r\nand we're also caching the s3 response for gets and the http response for the image result (so that these images load lickedysplit.\r\n\r\n@nonrational ","created_at":"2013-06-18T03:12:31Z","updated_at":"2013-06-19T01:30:36Z","closed_at":null,"merged_at":null,"merge_commit_sha":"979706f90a49556016ca686d0f5997c6c41ef493","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/rollaway\/pull\/1\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/rollaway\/pull\/1\/comments","review_comment_url":"\/repos\/Betterment\/rollaway\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/1\/comments","head":{"label":"Betterment:s3images","ref":"s3images","sha":"e1d75d4b155a84a868d490bb36d2a37cd1718a75","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":10611269,"name":"rollaway","full_name":"Betterment\/rollaway","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/rollaway","description":"Stop, Drop, and Rollover","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/labels{\/name}","created_at":"2013-06-10T23:02:05Z","updated_at":"2013-09-19T19:17:43Z","pushed_at":"2013-06-18T03:08:02Z","git_url":"git:\/\/github.com\/Betterment\/rollaway.git","ssh_url":"git@github.com:Betterment\/rollaway.git","clone_url":"https:\/\/github.com\/Betterment\/rollaway.git","svn_url":"https:\/\/github.com\/Betterment\/rollaway","homepage":null,"size":4936,"watchers_count":0,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":0,"mirror_url":null,"open_issues_count":1,"forks":0,"open_issues":1,"watchers":0,"master_branch":"master","default_branch":"master"}},"base":{"label":"Betterment:master","ref":"master","sha":"1e9a66e8c8065badbde0e51cc93eb679d116e559","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":10611269,"name":"rollaway","full_name":"Betterment\/rollaway","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/rollaway","description":"Stop, Drop, and Rollover","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/labels{\/name}","created_at":"2013-06-10T23:02:05Z","updated_at":"2013-09-19T19:17:43Z","pushed_at":"2013-06-18T03:08:02Z","git_url":"git:\/\/github.com\/Betterment\/rollaway.git","ssh_url":"git@github.com:Betterment\/rollaway.git","clone_url":"https:\/\/github.com\/Betterment\/rollaway.git","svn_url":"https:\/\/github.com\/Betterment\/rollaway","homepage":null,"size":4936,"watchers_count":0,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":0,"mirror_url":null,"open_issues_count":1,"forks":0,"open_issues":1,"watchers":0,"master_branch":"master","default_branch":"master"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/pulls\/1"},"html":{"href":"https:\/\/github.com\/Betterment\/rollaway\/pull\/1"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/1"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/1\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/pulls\/1\/comments"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":5,"review_comments":0,"commits":4,"additions":184,"deletions":33,"changed_files":10,"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/comments\/19611040","html_url":"https:\/\/github.com\/Betterment\/rollaway\/pull\/1#issuecomment-19611040","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/1","id":19611040,"user":{"login":"chauzer","id":1203532,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/1cdbf68a19109f69a35747a1a54b3abf?d=https%3A%2F%2Fidenticons.github.com%2Fe6a3dbddcd150cb68a436b5760faf76d.png","gravatar_id":"1cdbf68a19109f69a35747a1a54b3abf","url":"https:\/\/api.github.com\/users\/chauzer","html_url":"https:\/\/github.com\/chauzer","followers_url":"https:\/\/api.github.com\/users\/chauzer\/followers","following_url":"https:\/\/api.github.com\/users\/chauzer\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/chauzer\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/chauzer\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/chauzer\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/chauzer\/orgs","repos_url":"https:\/\/api.github.com\/users\/chauzer\/repos","events_url":"https:\/\/api.github.com\/users\/chauzer\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/chauzer\/received_events","type":"User"},"created_at":"2013-06-18T13:31:08Z","updated_at":"2013-06-18T13:31:08Z","body":"any thoughts on just adding this into trapper-keeper and re-using the functionality in there? \r\n\r\ntrapper keeper can then just be used by sending and receiving json from its endpoints:\r\n\r\n# Files\r\nGET \/files controllers.Files.readAll()\r\nPOST \/files controllers.Files.create()\r\nGET \/files\/:id controllers.Files.read(id: Long)\r\nPUT \/files\/:id controllers.Files.update(id: Long)\r\nGET \/files\/:id\/content controllers.Files.readContent(id: Long)\r\nPUT \/files\/:id\/content controllers.Files.upload(id: Long)\r\n\r\ncc @adamlangsner "},{"url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/comments\/19626285","html_url":"https:\/\/github.com\/Betterment\/rollaway\/pull\/1#issuecomment-19626285","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/1","id":19626285,"user":{"login":"dustinlucien","id":48741,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/4dec79e18a8a046618a4ab71c73500c0?d=https%3A%2F%2Fidenticons.github.com%2F39169088cafa898f69c7bad07a3b09b0.png","gravatar_id":"4dec79e18a8a046618a4ab71c73500c0","url":"https:\/\/api.github.com\/users\/dustinlucien","html_url":"https:\/\/github.com\/dustinlucien","followers_url":"https:\/\/api.github.com\/users\/dustinlucien\/followers","following_url":"https:\/\/api.github.com\/users\/dustinlucien\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/dustinlucien\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/dustinlucien\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/dustinlucien\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/dustinlucien\/orgs","repos_url":"https:\/\/api.github.com\/users\/dustinlucien\/repos","events_url":"https:\/\/api.github.com\/users\/dustinlucien\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/dustinlucien\/received_events","type":"User"},"created_at":"2013-06-18T17:19:32Z","updated_at":"2013-06-18T17:19:32Z","body":"+1 for centralized, secure file storage and retrieval service. lets discuss API conventions at next better dev or other opportunity, but a good place to start hammering them out\r\n\r\nOn Jun 18, 2013, at 6:31 AM, chauzer wrote:\r\n\r\n> any thoughts on just adding this into trapper-keeper and re-using the functionality in there?\r\n> \r\n> trapper keeper can then just be used by sending and receiving json from its endpoints:\r\n> \r\n> Files\r\n> \r\n> GET \/files controllers.Files.readAll()\r\n> POST \/files controllers.Files.create()\r\n> GET \/files\/:id controllers.Files.read(id: Long)\r\n> PUT \/files\/:id controllers.Files.update(id: Long)\r\n> GET \/files\/:id\/content controllers.Files.readContent(id: Long)\r\n> PUT \/files\/:id\/content controllers.Files.upload(id: Long)\r\n> \r\n> cc @adamlangsner\r\n> \r\n> \u2014\r\n> Reply to this email directly or view it on GitHub."},{"url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/comments\/19643300","html_url":"https:\/\/github.com\/Betterment\/rollaway\/pull\/1#issuecomment-19643300","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/1","id":19643300,"user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"created_at":"2013-06-18T21:25:17Z","updated_at":"2013-06-18T21:25:17Z","body":"I'm all for that. Whenever we have that meeting, we can discuss the best\r\nway to port this over to trapper keeper. I think we can transition it with\r\nfairly little pain. Plus it will be a good opportunity to figure out how to\r\nrefactor this cleanly into a service.\r\n\r\n\r\nOn Tue, Jun 18, 2013 at 1:19 PM, Dustin Lucien wrote:\r\n\r\n> +1 for centralized, secure file storage and retrieval service. lets\r\n> discuss API conventions at next better dev or other opportunity, but a good\r\n> place to start hammering them out\r\n>\r\n> On Jun 18, 2013, at 6:31 AM, chauzer wrote:\r\n>\r\n> > any thoughts on just adding this into trapper-keeper and re-using the\r\n> functionality in there?\r\n> >\r\n> > trapper keeper can then just be used by sending and receiving json from\r\n> its endpoints:\r\n> >\r\n> > Files\r\n> >\r\n> > GET \/files controllers.Files.readAll()\r\n> > POST \/files controllers.Files.create()\r\n> > GET \/files\/:id controllers.Files.read(id: Long)\r\n> > PUT \/files\/:id controllers.Files.update(id: Long)\r\n> > GET \/files\/:id\/content controllers.Files.readContent(id: Long)\r\n> > PUT \/files\/:id\/content controllers.Files.upload(id: Long)\r\n> >\r\n> > cc @adamlangsner\r\n> >\r\n> > \u2014\r\n> > Reply to this email directly or view it on GitHub.\r\n>\r\n> \u2014\r\n> Reply to this email directly or view it on GitHub\r\n> .\r\n>"},{"url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/comments\/19643608","html_url":"https:\/\/github.com\/Betterment\/rollaway\/pull\/1#issuecomment-19643608","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/1","id":19643608,"user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"created_at":"2013-06-18T21:28:50Z","updated_at":"2013-06-18T21:28:50Z","body":"BetterDevs are every other Friday - perfect stage to discuss architecture,\r\nnew ideas, etc. Next session is July 5th (we'll be canceling this week's).\r\n Let's get you booked.\r\n\r\n\r\nOn Tue, Jun 18, 2013 at 5:25 PM, Sam Moore wrote:\r\n\r\n> I'm all for that. Whenever we have that meeting, we can discuss the best\r\n> way to port this over to trapper keeper. I think we can transition it with\r\n> fairly little pain. Plus it will be a good opportunity to figure out how\r\n> to\r\n> refactor this cleanly into a service.\r\n>\r\n>\r\n> On Tue, Jun 18, 2013 at 1:19 PM, Dustin Lucien wrote:\r\n>\r\n>\r\n> > +1 for centralized, secure file storage and retrieval service. lets\r\n> > discuss API conventions at next better dev or other opportunity, but a\r\n> good\r\n> > place to start hammering them out\r\n> >\r\n> > On Jun 18, 2013, at 6:31 AM, chauzer wrote:\r\n> >\r\n> > > any thoughts on just adding this into trapper-keeper and re-using the\r\n> > functionality in there?\r\n> > >\r\n> > > trapper keeper can then just be used by sending and receiving json\r\n> from\r\n> > its endpoints:\r\n> > >\r\n> > > Files\r\n> > >\r\n> > > GET \/files controllers.Files.readAll()\r\n> > > POST \/files controllers.Files.create()\r\n> > > GET \/files\/:id controllers.Files.read(id: Long)\r\n> > > PUT \/files\/:id controllers.Files.update(id: Long)\r\n> > > GET \/files\/:id\/content controllers.Files.readContent(id: Long)\r\n> > > PUT \/files\/:id\/content controllers.Files.upload(id: Long)\r\n> > >\r\n> > > cc @adamlangsner\r\n> > >\r\n> > > \u2014\r\n> > > Reply to this email directly or view it on GitHub.\r\n> >\r\n> > \u2014\r\n> > Reply to this email directly or view it on GitHub<\r\n> https:\/\/github.com\/Betterment\/rollaway\/pull\/1#issuecomment-19626285>\r\n> > .\r\n> >\r\n>\r\n> \u2014\r\n> Reply to this email directly or view it on GitHub\r\n> .\r\n>\r\n\r\n\r\n\r\n-- \r\n [image: Betterment]*Yuriy Goldman |* Engineer at\r\nBetterment.com |\r\nFollow us on Twitter and\r\nFacebook\r\ncontact | yuriy@betterment.com - Office: 212.228.1328 - Mobile: 917.617.3670"},{"url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/comments\/19655964","html_url":"https:\/\/github.com\/Betterment\/rollaway\/pull\/1#issuecomment-19655964","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/rollaway\/issues\/1","id":19655964,"user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"created_at":"2013-06-19T01:30:36Z","updated_at":"2013-06-19T01:30:36Z","body":"awesome. looking forward to it!"}]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls\/1","id":7509115,"html_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1","diff_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1.diff","patch_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1.patch","issue_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1","number":1,"state":"open","title":"Added google docs demo","user":{"login":"kristinahu","id":4601821,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/e32a5b1796c2a45805639eca31c1d6bc?d=https%3A%2F%2Fidenticons.github.com%2F2f2fbeae1324b1e15b1fea7344e394a0.png","gravatar_id":"e32a5b1796c2a45805639eca31c1d6bc","url":"https:\/\/api.github.com\/users\/kristinahu","html_url":"https:\/\/github.com\/kristinahu","followers_url":"https:\/\/api.github.com\/users\/kristinahu\/followers","following_url":"https:\/\/api.github.com\/users\/kristinahu\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/kristinahu\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/kristinahu\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/kristinahu\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/kristinahu\/orgs","repos_url":"https:\/\/api.github.com\/users\/kristinahu\/repos","events_url":"https:\/\/api.github.com\/users\/kristinahu\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/kristinahu\/received_events","type":"User"},"body":"@nonrational @ygoldman ","created_at":"2013-08-09T16:16:23Z","updated_at":"2013-08-09T22:59:48Z","closed_at":null,"merged_at":null,"merge_commit_sha":"0484be32eaca12ae188a7a8581e9b76c76c0449d","assignee":{"login":"nonrational","id":550903,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/97f0c80f3166a533fdadf0f014abedc0?d=https%3A%2F%2Fidenticons.github.com%2Fdc6dd57a10e767211d8b1b15491fcbe3.png","gravatar_id":"97f0c80f3166a533fdadf0f014abedc0","url":"https:\/\/api.github.com\/users\/nonrational","html_url":"https:\/\/github.com\/nonrational","followers_url":"https:\/\/api.github.com\/users\/nonrational\/followers","following_url":"https:\/\/api.github.com\/users\/nonrational\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/nonrational\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/nonrational\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/nonrational\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/nonrational\/orgs","repos_url":"https:\/\/api.github.com\/users\/nonrational\/repos","events_url":"https:\/\/api.github.com\/users\/nonrational\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/nonrational\/received_events","type":"User"},"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1\/comments","review_comment_url":"\/repos\/Betterment\/oh-i-get-it\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/1\/comments","head":{"label":"Betterment:kristina\/google-spreadsheets-java-demo","ref":"kristina\/google-spreadsheets-java-demo","sha":"b4dcf8ae11ac065545d6c83b4b23edce501ebf89","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":12004775,"name":"oh-i-get-it","full_name":"Betterment\/oh-i-get-it","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/oh-i-get-it","description":"so, you finally get it huh? now help other people get it too.","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/labels{\/name}","created_at":"2013-08-09T15:59:46Z","updated_at":"2013-09-19T19:17:43Z","pushed_at":"2013-08-09T16:27:07Z","git_url":"git:\/\/github.com\/Betterment\/oh-i-get-it.git","ssh_url":"git@github.com:Betterment\/oh-i-get-it.git","clone_url":"https:\/\/github.com\/Betterment\/oh-i-get-it.git","svn_url":"https:\/\/github.com\/Betterment\/oh-i-get-it","homepage":null,"size":562,"watchers_count":0,"language":null,"has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":0,"mirror_url":null,"open_issues_count":1,"forks":0,"open_issues":1,"watchers":0,"master_branch":"master","default_branch":"master"}},"base":{"label":"Betterment:master","ref":"master","sha":"82ada7192bd56db6518b7ce4acf5b0ae8207b132","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":12004775,"name":"oh-i-get-it","full_name":"Betterment\/oh-i-get-it","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/oh-i-get-it","description":"so, you finally get it huh? now help other people get it too.","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/labels{\/name}","created_at":"2013-08-09T15:59:46Z","updated_at":"2013-09-19T19:17:43Z","pushed_at":"2013-08-09T16:27:07Z","git_url":"git:\/\/github.com\/Betterment\/oh-i-get-it.git","ssh_url":"git@github.com:Betterment\/oh-i-get-it.git","clone_url":"https:\/\/github.com\/Betterment\/oh-i-get-it.git","svn_url":"https:\/\/github.com\/Betterment\/oh-i-get-it","homepage":null,"size":562,"watchers_count":0,"language":null,"has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":0,"mirror_url":null,"open_issues_count":1,"forks":0,"open_issues":1,"watchers":0,"master_branch":"master","default_branch":"master"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls\/1"},"html":{"href":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/1"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/1\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls\/1\/comments"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":1,"review_comments":1,"commits":3,"additions":237,"deletions":0,"changed_files":8,"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/comments\/22427987","html_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1#issuecomment-22427987","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/1","id":22427987,"user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"created_at":"2013-08-09T22:59:00Z","updated_at":"2013-08-09T22:59:00Z","body":"lgtm"}]}])

    App.collections = {};
    var pull_requests = new PullRequests([{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172","id":8862581,"html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172","diff_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172.diff","patch_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172.patch","issue_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172","number":172,"state":"open","title":"Manage upcoming transfers","user":{"login":"ceslami","id":185070,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/8c576440848a9bfcdc71f5cb9457e075?d=https%3A%2F%2Fidenticons.github.com%2F42f415e82af75d1aec747737b932e918.png","gravatar_id":"8c576440848a9bfcdc71f5cb9457e075","url":"https:\/\/api.github.com\/users\/ceslami","html_url":"https:\/\/github.com\/ceslami","followers_url":"https:\/\/api.github.com\/users\/ceslami\/followers","following_url":"https:\/\/api.github.com\/users\/ceslami\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ceslami\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ceslami\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ceslami\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ceslami\/orgs","repos_url":"https:\/\/api.github.com\/users\/ceslami\/repos","events_url":"https:\/\/api.github.com\/users\/ceslami\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ceslami\/received_events","type":"User"},"body":"@adamlangsner @samandmoore @betterdan @effron \r\n\r\nThis is the new Upcoming Transfers panel on the Transfer tab, as part of [this Trello card](https:\/\/trello.com\/c\/KXIvxYVD). A bazillion commits appear in the Commits tab, but there were only 17 files changed.\r\n\r\n","created_at":"2013-10-05T18:22:37Z","updated_at":"2013-10-07T04:54:35Z","closed_at":null,"merged_at":null,"merge_commit_sha":"82528704c61553dec4573b42cdf7bf4af6dc8f8a","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172\/comments","review_comment_url":"\/repos\/Betterment\/better-frontend\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/172\/comments","status_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/statuses\/858579cf70497d4195405f5ea5e7f143a3012383","head":{"label":"Betterment:cse\/develop\/manage-pending-deposits","ref":"cse\/develop\/manage-pending-deposits","sha":"858579cf70497d4195405f5ea5e7f143a3012383","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":5316272,"name":"better-frontend","full_name":"Betterment\/better-frontend","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-frontend","description":"HTML5\/Backbone\/Better Front End for Betterment Applications","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/labels{\/name}","created_at":"2012-08-06T16:03:17Z","updated_at":"2013-10-07T04:54:39Z","pushed_at":"2013-10-07T04:54:35Z","git_url":"git:\/\/github.com\/Betterment\/better-frontend.git","ssh_url":"git@github.com:Betterment\/better-frontend.git","clone_url":"https:\/\/github.com\/Betterment\/better-frontend.git","svn_url":"https:\/\/github.com\/Betterment\/better-frontend","homepage":null,"size":28494,"watchers_count":0,"language":"JavaScript","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":1,"mirror_url":null,"open_issues_count":2,"forks":1,"open_issues":2,"watchers":0,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"ff188cd5656cb815162f8b3f7d448880d2f0466e","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":5316272,"name":"better-frontend","full_name":"Betterment\/better-frontend","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-frontend","description":"HTML5\/Backbone\/Better Front End for Betterment Applications","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/labels{\/name}","created_at":"2012-08-06T16:03:17Z","updated_at":"2013-10-07T04:54:39Z","pushed_at":"2013-10-07T04:54:35Z","git_url":"git:\/\/github.com\/Betterment\/better-frontend.git","ssh_url":"git@github.com:Betterment\/better-frontend.git","clone_url":"https:\/\/github.com\/Betterment\/better-frontend.git","svn_url":"https:\/\/github.com\/Betterment\/better-frontend","homepage":null,"size":28494,"watchers_count":0,"language":"JavaScript","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":1,"mirror_url":null,"open_issues_count":2,"forks":1,"open_issues":2,"watchers":0,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/172"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/172\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172\/comments"},"status":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/statuses\/858579cf70497d4195405f5ea5e7f143a3012383"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":4,"review_comments":11,"commits":379,"additions":630,"deletions":23,"changed_files":16,"review_comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784836","id":6784836,"diff_hunk":"@@ -236,6 +236,7 @@ function ($, _, Backbone, BettermentViews, RothLimitView, DepositAlertChain) {\n \n this.model.save(attributes, {\n success: function() {\n+ BMT.vent.trigger(\"deposit:create\");","path":"assets\/scripts\/views\/transfer\/depositView.js","position":null,"original_position":4,"commit_id":"858579cf70497d4195405f5ea5e7f143a3012383","original_commit_id":"851a675b2ca5efdb1bb10257ba5d8de1fcfdaf95","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"I think this line should go in the `onDepositComplete` function in the options block up top. `_promiseDeposit`'s concern is just to do a task and resolve\/fail a promise","created_at":"2013-10-05T20:27:46Z","updated_at":"2013-10-07T04:54:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784836","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784836"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784836"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784842","id":6784842,"diff_hunk":"@@ -0,0 +1,64 @@\n+define(\n+[\n+ \"jquery\",\n+ \"underscore\",\n+ \"views\/activity\/transactionView\"\n+],\n+function ($, _, TransactionView) {\n+ return TransactionView.extend({\n+ template: \"transfer\/pendingDeposit\",\n+ events: {\n+ 'click .cancel-deposit': 'cancelTransaction'\n+ },\n+ toolTips: {\n+ \".cancel-deposit\": {}\n+ },\n+ cancelTransaction: function() {\n+ var self = this;\n+\n+ BMT.analytics.track('App.Transfer.ClickCancelPendingDepositButton');\n+\n+ BMT.alert({\n+ icon: 'warning',\n+ title: 'Please Confirm Deposit Cancellation',\n+ body: 'Are you sure you want to cancel a deposit of '+\n+ self.formatter.money(self.model.get('change'))+' into your '+\n+ self.model.get('accountName')+' goal?',\n+ buttons: [\n+ {\n+ id: 'ok',\n+ title: 'Confirm Cancellation'\n+ },\n+ {\n+ id: 'cancel',\n+ title: 'Cancel',","path":"assets\/scripts\/views\/transfer\/pendingDepositTransactionView.js","position":34,"original_position":34,"commit_id":"858579cf70497d4195405f5ea5e7f143a3012383","original_commit_id":"851a675b2ca5efdb1bb10257ba5d8de1fcfdaf95","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"@aschrauth @ceslami \r\nI think having 'Confirm Cancellation' and 'Cancel' as the 2 buttons on the confirmation modal could be confusing","created_at":"2013-10-05T20:30:35Z","updated_at":"2013-10-07T04:54:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784842","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784842"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784842"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784846","id":6784846,"diff_hunk":"@@ -0,0 +1,64 @@\n+define(\n+[\n+ \"jquery\",\n+ \"underscore\",\n+ \"views\/activity\/transactionView\"\n+],\n+function ($, _, TransactionView) {\n+ return TransactionView.extend({\n+ template: \"transfer\/pendingDeposit\",\n+ events: {\n+ 'click .cancel-deposit': 'cancelTransaction'\n+ },\n+ toolTips: {\n+ \".cancel-deposit\": {}\n+ },\n+ cancelTransaction: function() {\n+ var self = this;\n+\n+ BMT.analytics.track('App.Transfer.ClickCancelPendingDepositButton');\n+\n+ BMT.alert({\n+ icon: 'warning',\n+ title: 'Please Confirm Deposit Cancellation',\n+ body: 'Are you sure you want to cancel a deposit of '+\n+ self.formatter.money(self.model.get('change'))+' into your '+\n+ self.model.get('accountName')+' goal?',\n+ buttons: [\n+ {\n+ id: 'ok',\n+ title: 'Confirm Cancellation'\n+ },\n+ {\n+ id: 'cancel',\n+ title: 'Cancel',\n+ attributes: {\n+ class: 'silver'","path":"assets\/scripts\/views\/transfer\/pendingDepositTransactionView.js","position":36,"original_position":36,"commit_id":"858579cf70497d4195405f5ea5e7f143a3012383","original_commit_id":"851a675b2ca5efdb1bb10257ba5d8de1fcfdaf95","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"@ceslami @limkat \r\ni think this should be class 'cancel', that'll make it a textured grey that matches the blue button. But maybe we're trying to use the silver button more? ","created_at":"2013-10-05T20:32:52Z","updated_at":"2013-10-07T04:54:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784846","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784846"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784846"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784856","id":6784856,"diff_hunk":"@@ -0,0 +1,14 @@\n+define(\n+[\n+ \"jquery\",","path":"assets\/scripts\/views\/transfer\/pendingDepositsTableView.js","position":null,"original_position":3,"commit_id":"858579cf70497d4195405f5ea5e7f143a3012383","original_commit_id":"851a675b2ca5efdb1bb10257ba5d8de1fcfdaf95","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"first 3 dependencies are unused","created_at":"2013-10-05T20:35:25Z","updated_at":"2013-10-07T04:54:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784856","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784856"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784856"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784866","id":6784866,"diff_hunk":"@@ -63,6 +66,10 @@ function ($, _, Backbone, BettermentViews, Transaction, DepositView, WithdrawVie\n this.bindTo(BMT.vent, 'refresh:transfer', function() {\n this.render()\n }, this)\n+\n+ this.bindTo(BMT.vent, \"deposit:create\", function() {\n+ self.showUpcomingTransfers();","path":"assets\/scripts\/views\/transfer\/transferView.js","position":null,"original_position":39,"commit_id":"858579cf70497d4195405f5ea5e7f143a3012383","original_commit_id":"851a675b2ca5efdb1bb10257ba5d8de1fcfdaf95","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"why use self, if you're passing this as the context? this bind could even be simplified to:\r\n`this.bindTo(BMT.vent, \"deposit:create\", this.showUpcomingTransfers);`","created_at":"2013-10-05T20:38:58Z","updated_at":"2013-10-07T04:54:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784866","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784866"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784866"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784876","id":6784876,"diff_hunk":"@@ -46,7 +48,8 @@ function ($, _, Backbone, BettermentViews, Transaction, DepositView, WithdrawVie\n \n events: {\n \"change .account-selector\": \"accountChanged\",\n- \"click .rollover button\": \"showRolloverModal\"\n+ \"click .rollover button\": \"showRolloverModal\",\n+ \"click .change-bank-account\": \"changeBankAccount\"","path":"assets\/scripts\/views\/transfer\/transferView.js","position":null,"original_position":29,"commit_id":"858579cf70497d4195405f5ea5e7f143a3012383","original_commit_id":"851a675b2ca5efdb1bb10257ba5d8de1fcfdaf95","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"what is this event for?","created_at":"2013-10-05T20:40:46Z","updated_at":"2013-10-07T04:54:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784876","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784876"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784876"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784887","id":6784887,"diff_hunk":"@@ -0,0 +1,150 @@\n+define(\n+[\n+ \"jquery\",\n+ \"underscore\",\n+ \"common\/betterment.views\",\n+ \"views\/transfer\/pendingDepositsTableView\",\n+ \"models\/transaction\"\n+],\n+function ($, _, BettermentViews, PendingDepositsTableView, Transaction) {\n+\n+ return BettermentViews.View.extend({\n+ template: \"#transfer\/managePendingDeposits\",","path":"assets\/scripts\/views\/transfer\/upcomingTransfersView.js","position":null,"original_position":12,"commit_id":"858579cf70497d4195405f5ea5e7f143a3012383","original_commit_id":"851a675b2ca5efdb1bb10257ba5d8de1fcfdaf95","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"\\#?","created_at":"2013-10-05T20:42:55Z","updated_at":"2013-10-07T04:54:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784887","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784887"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784887"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784889","id":6784889,"diff_hunk":"@@ -877,6 +877,33 @@ input[type=\"tel\"], input[type=\"color\"],\n .bank-check {\n @include icon(188px, 63px, bank_check);\n }\n+.brandon-straight {","path":"assets\/styles\/scss\/_common.scss","position":4,"original_position":4,"commit_id":"858579cf70497d4195405f5ea5e7f143a3012383","original_commit_id":"851a675b2ca5efdb1bb10257ba5d8de1fcfdaf95","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"these dont look like they belong in this commit","created_at":"2013-10-05T20:43:33Z","updated_at":"2013-10-07T04:54:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784889","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784889"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784889"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784890","id":6784890,"diff_hunk":"@@ -2322,4 +2356,211 @@ div.guest-form {\n }\n }\n }\n+ .manage-pending-deposits {","path":"assets\/styles\/scss\/_common.scss","position":null,"original_position":56,"commit_id":"858579cf70497d4195405f5ea5e7f143a3012383","original_commit_id":"851a675b2ca5efdb1bb10257ba5d8de1fcfdaf95","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"shouldn't this go in `_trasnfer.scss`","created_at":"2013-10-05T20:44:07Z","updated_at":"2013-10-07T04:54:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784890","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784890"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784890"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784892","id":6784892,"diff_hunk":"@@ -2322,4 +2356,211 @@ div.guest-form {\n }\n }\n }\n+ .manage-pending-deposits {\n+ margin:20px 0 0;\n+ padding:15px 25px 15px 20px;\n+\n+ .heading {\n+\n+ h3 {\n+ float:left;\n+ font-size: 18px;\n+ font-weight: bold;\n+ color:#002d56;\n+\n+ .open-close {\n+ vertical-align:-8px;\n+ display:inline-block;\n+ margin:0 5px 0 0;\n+ }\n+ .open-close.hidden {\n+ visibility: hidden;\n+ width:0;\n+ }\n+ }\n+ .next-deposit {\n+ float:right;\n+ margin:7px 0 0;\n+ }\n+ }\n+\n+ #pendingDepositsTable {","path":"assets\/styles\/scss\/_common.scss","position":null,"original_position":84,"commit_id":"858579cf70497d4195405f5ea5e7f143a3012383","original_commit_id":"851a675b2ca5efdb1bb10257ba5d8de1fcfdaf95","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"shouldn't this go in `_trasnfer.scss`","created_at":"2013-10-05T20:44:15Z","updated_at":"2013-10-07T04:54:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784892","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784892"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784892"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784904","id":6784904,"diff_hunk":"@@ -0,0 +1,150 @@\n+define(\n+[\n+ \"jquery\",\n+ \"underscore\",\n+ \"common\/betterment.views\",\n+ \"views\/transfer\/pendingDepositsTableView\",\n+ \"models\/transaction\"\n+],\n+function ($, _, BettermentViews, PendingDepositsTableView, Transaction) {\n+\n+ return BettermentViews.View.extend({\n+ template: \"#transfer\/managePendingDeposits\",\n+ tagName: \"div\",\n+ collection: new Transaction.Collection(),\n+\n+ events: {\n+ 'click .heading': 'toggleTableVisibility'\n+ },\n+\n+ regions: {\n+ pendingDepositsTable: '#pendingDepositsTable'\n+ },\n+\n+ templateHelpers: {\n+ get_next_deposit_attribute: function(attribute) {\n+ var nextDeposit = _.first(this.self.getPendingDeposits());\n+ return !_.isUndefined(nextDeposit) ? nextDeposit.get(attribute) : null;\n+ },\n+ has_pending_deposits: function() {\n+ return !!this.self.getPendingDeposits().length;\n+ },\n+ get_total_deposits_for_date: function(estimatedCompletionDate) {\n+ var pendingDeposits = this.self.getPendingDeposits(),\n+ depositsForDate = _.filter(pendingDeposits, function(model) {\n+ return model.get('estimatedCompletionDate') === estimatedCompletionDate;\n+ }),\n+ totalDepositAmount = _.reduce(depositsForDate, function(memo, model) {\n+ return memo + parseFloat(model.get('change'), 10);\n+ }, 0);\n+\n+ return this.self.formatter.money(totalDepositAmount, 2);\n+ },\n+\n+ \/***\n+ * We pull this out into a helper that concatenates strings\n+ * because it is used again after the Upcoming Transfers panel\n+ * is rendered. This is particularly useful for updating the\n+ * pending deposit status without re-rendering the Upcoming\n+ * Transfers panel, which can create a jolty UX.\n+ *\/\n+ pending_deposit_status: function() {\n+ if (this.has_pending_deposits()) {\n+ return \"The next transfer is \"+\n+ \"$\"+this.get_next_deposit_attribute('change')+\"<\/span> \"+\n+ \"on \"+this.get_next_deposit_attribute('estimatedCompletionDate')+\"<\/span> for your \"+\n+ this.get_next_deposit_attribute('accountName')+\" goal\";\n+ } else {\n+ return \"Nothing right now.\";\n+ }\n+ }\n+ },\n+\n+ onInitialize: function() {\n+ var self = this;\n+\n+ BMT.selectedAccount = BMT.selectedAccount || BMT.accounts().at(0);\n+ this.collection.accountID = (BMT.selectedAccount && BMT.selectedAccount.getIdOrCid()) || '';","path":"assets\/scripts\/views\/transfer\/upcomingTransfersView.js","position":67,"original_position":67,"commit_id":"858579cf70497d4195405f5ea5e7f143a3012383","original_commit_id":"851a675b2ca5efdb1bb10257ba5d8de1fcfdaf95","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"the line above ensures that `BMT.selectedAccount` is not null","created_at":"2013-10-05T20:46:58Z","updated_at":"2013-10-07T04:54:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784904","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784904"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#discussion_r6784904"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/172"}}}],"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/comments\/25755290","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#issuecomment-25755290","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/172","id":25755290,"user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"created_at":"2013-10-05T19:26:34Z","updated_at":"2013-10-05T19:26:34Z","body":"i think you need to rebase or something. there are tons of other people's commits in here."},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/comments\/25755312","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#issuecomment-25755312","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/172","id":25755312,"user":{"login":"ceslami","id":185070,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/8c576440848a9bfcdc71f5cb9457e075?d=https%3A%2F%2Fidenticons.github.com%2F42f415e82af75d1aec747737b932e918.png","gravatar_id":"8c576440848a9bfcdc71f5cb9457e075","url":"https:\/\/api.github.com\/users\/ceslami","html_url":"https:\/\/github.com\/ceslami","followers_url":"https:\/\/api.github.com\/users\/ceslami\/followers","following_url":"https:\/\/api.github.com\/users\/ceslami\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ceslami\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ceslami\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ceslami\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ceslami\/orgs","repos_url":"https:\/\/api.github.com\/users\/ceslami\/repos","events_url":"https:\/\/api.github.com\/users\/ceslami\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ceslami\/received_events","type":"User"},"created_at":"2013-10-05T19:27:21Z","updated_at":"2013-10-05T19:27:21Z","body":"@samandmoore the commits are there but they are not represented in the diffs. this happened as a result of rebasing. what's the best move?"},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/comments\/25755403","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#issuecomment-25755403","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/172","id":25755403,"user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"created_at":"2013-10-05T19:32:59Z","updated_at":"2013-10-05T19:32:59Z","body":"hmm, did you rebase on origin\/develop or were you merging?"},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/comments\/25755682","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/172#issuecomment-25755682","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/172","id":25755682,"user":{"login":"nonrational","id":550903,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/97f0c80f3166a533fdadf0f014abedc0?d=https%3A%2F%2Fidenticons.github.com%2Fdc6dd57a10e767211d8b1b15491fcbe3.png","gravatar_id":"97f0c80f3166a533fdadf0f014abedc0","url":"https:\/\/api.github.com\/users\/nonrational","html_url":"https:\/\/github.com\/nonrational","followers_url":"https:\/\/api.github.com\/users\/nonrational\/followers","following_url":"https:\/\/api.github.com\/users\/nonrational\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/nonrational\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/nonrational\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/nonrational\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/nonrational\/orgs","repos_url":"https:\/\/api.github.com\/users\/nonrational\/repos","events_url":"https:\/\/api.github.com\/users\/nonrational\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/nonrational\/received_events","type":"User"},"created_at":"2013-10-05T19:48:20Z","updated_at":"2013-10-05T19:48:48Z","body":"> this happened as a result of rebasing. \r\n\r\nthat doesn't make sense to me. we should walk through exactly how you got into this state... \r\n\r\nfor the time being, you can patch merge to make this nice and clean.\r\n\r\n```bash\r\ngit checkout develop\r\n# new branch off develop\r\ngit checkout -b cse\/develop\/lets-try-this-again\r\n# apply the diff from MPD as one big diff and stage it in the index\r\ngit merge --squash cse\/develop\/manage-pending-deposits\r\n# commit the staged index to your new branch\r\ngit commit -m\"one big commit for managing pending deposits\"\r\n# your delta against develop is now in one big commit\r\n# push up the changes and open a new PR\r\ngit push origin cse\/develop\/lets-try-this-again\r\n```"}]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","id":8856352,"html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171","diff_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171.diff","patch_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171.patch","issue_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171","number":171,"state":"open","title":"Portfolio set loading stuff","user":{"login":"betterdan","id":4417974,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/98e271785b6f5c89256b2d8fa85afd6e?d=https%3A%2F%2Fidenticons.github.com%2Fdc577cb0080bcb0f5a55e804a601adf7.png","gravatar_id":"98e271785b6f5c89256b2d8fa85afd6e","url":"https:\/\/api.github.com\/users\/betterdan","html_url":"https:\/\/github.com\/betterdan","followers_url":"https:\/\/api.github.com\/users\/betterdan\/followers","following_url":"https:\/\/api.github.com\/users\/betterdan\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/betterdan\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/betterdan\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/betterdan\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/betterdan\/orgs","repos_url":"https:\/\/api.github.com\/users\/betterdan\/repos","events_url":"https:\/\/api.github.com\/users\/betterdan\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/betterdan\/received_events","type":"User"},"body":"@samandmoore more like this?","created_at":"2013-10-04T22:55:23Z","updated_at":"2013-10-06T04:06:35Z","closed_at":null,"merged_at":null,"merge_commit_sha":"8c292dab04aa9ae6208d8fcdf7098360e3c3e2aa","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171\/comments","review_comment_url":"\/repos\/Betterment\/better-frontend\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/171\/comments","status_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/statuses\/1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","head":{"label":"Betterment:djs\/assetFlex\/load-portfolioset","ref":"djs\/assetFlex\/load-portfolioset","sha":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":5316272,"name":"better-frontend","full_name":"Betterment\/better-frontend","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-frontend","description":"HTML5\/Backbone\/Better Front End for Betterment Applications","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/labels{\/name}","created_at":"2012-08-06T16:03:17Z","updated_at":"2013-10-07T04:54:39Z","pushed_at":"2013-10-07T04:54:35Z","git_url":"git:\/\/github.com\/Betterment\/better-frontend.git","ssh_url":"git@github.com:Betterment\/better-frontend.git","clone_url":"https:\/\/github.com\/Betterment\/better-frontend.git","svn_url":"https:\/\/github.com\/Betterment\/better-frontend","homepage":null,"size":28494,"watchers_count":0,"language":"JavaScript","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":1,"mirror_url":null,"open_issues_count":2,"forks":1,"open_issues":2,"watchers":0,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:assetFlex","ref":"assetFlex","sha":"ac47373058b10d8166f3d8458cf25a9fd8ea3f68","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":5316272,"name":"better-frontend","full_name":"Betterment\/better-frontend","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-frontend","description":"HTML5\/Backbone\/Better Front End for Betterment Applications","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/labels{\/name}","created_at":"2012-08-06T16:03:17Z","updated_at":"2013-10-07T04:54:39Z","pushed_at":"2013-10-07T04:54:35Z","git_url":"git:\/\/github.com\/Betterment\/better-frontend.git","ssh_url":"git@github.com:Betterment\/better-frontend.git","clone_url":"https:\/\/github.com\/Betterment\/better-frontend.git","svn_url":"https:\/\/github.com\/Betterment\/better-frontend","homepage":null,"size":28494,"watchers_count":0,"language":"JavaScript","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":1,"mirror_url":null,"open_issues_count":2,"forks":1,"open_issues":2,"watchers":0,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/171"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/171\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171\/comments"},"status":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/statuses\/1ab88f7ec36d492837d3b2b5d3f3eb997559cab6"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":3,"review_comments":14,"commits":2,"additions":57,"deletions":7,"changed_files":2,"review_comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6782872","id":6782872,"diff_hunk":"@@ -0,0 +1,34 @@\n+define(\n+[\n+\"common\/betterment.models\"\n+], function(BettermentModels) {\n+ var loaded = {};\n+\n+ var PortfolioSet = BettermentModels.Model.extend({\n+ urlRoot: '\/portfolioSet',\n+\n+ url: function() {\n+ return this.urlRoot + '?id=' + encodeURIComponent(this.id);\n+ }\n+ }, {\n+ getById: function(id) {\n+ var $promise = new $.Deferred();\n+\n+ if (loaded[id]) {","path":"assets\/scripts\/models\/portfolioSet.js","position":17,"original_position":17,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"6dc736f195185941eaecfaab4e6ebdbd15981a33","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"where do we update `loaded` with these ids?","created_at":"2013-10-05T04:23:02Z","updated_at":"2013-10-05T05:29:20Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6782872","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6782872"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6782872"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6783028","id":6783028,"diff_hunk":"@@ -0,0 +1,34 @@\n+define(\n+[\n+\"common\/betterment.models\"\n+], function(BettermentModels) {\n+ var loaded = {};\n+\n+ var PortfolioSet = BettermentModels.Model.extend({\n+ urlRoot: '\/portfolioSet',\n+\n+ url: function() {\n+ return this.urlRoot + '?id=' + encodeURIComponent(this.id);\n+ }\n+ }, {\n+ getById: function(id) {\n+ var $promise = new $.Deferred();\n+\n+ if (loaded[id]) {","path":"assets\/scripts\/models\/portfolioSet.js","position":17,"original_position":17,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"6dc736f195185941eaecfaab4e6ebdbd15981a33","user":{"login":"betterdan","id":4417974,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/98e271785b6f5c89256b2d8fa85afd6e?d=https%3A%2F%2Fidenticons.github.com%2Fdc577cb0080bcb0f5a55e804a601adf7.png","gravatar_id":"98e271785b6f5c89256b2d8fa85afd6e","url":"https:\/\/api.github.com\/users\/betterdan","html_url":"https:\/\/github.com\/betterdan","followers_url":"https:\/\/api.github.com\/users\/betterdan\/followers","following_url":"https:\/\/api.github.com\/users\/betterdan\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/betterdan\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/betterdan\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/betterdan\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/betterdan\/orgs","repos_url":"https:\/\/api.github.com\/users\/betterdan\/repos","events_url":"https:\/\/api.github.com\/users\/betterdan\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/betterdan\/received_events","type":"User"},"body":"totally right -- updated as such.\r\n\r\nalso, drunk.","created_at":"2013-10-05T05:30:03Z","updated_at":"2013-10-05T05:30:03Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6783028","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6783028"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6783028"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6783997","id":6783997,"diff_hunk":"@@ -0,0 +1,34 @@\n+define(\n+[\n+\"common\/betterment.models\"\n+], function(BettermentModels) {\n+ var loaded = {};\n+\n+ var PortfolioSet = BettermentModels.Model.extend({\n+ urlRoot: '\/portfolioSet',\n+\n+ url: function() {\n+ return this.urlRoot + '?id=' + encodeURIComponent(this.id);\n+ }\n+ }, {\n+ getById: function(id) {\n+ var $promise = new $.Deferred();\n+\n+ if (loaded[id]) {","path":"assets\/scripts\/models\/portfolioSet.js","position":17,"original_position":17,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"6dc736f195185941eaecfaab4e6ebdbd15981a33","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"I was too, it took me like 20 minutes to write that comment","created_at":"2013-10-05T14:45:31Z","updated_at":"2013-10-05T14:45:31Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6783997","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6783997"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6783997"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784271","id":6784271,"diff_hunk":"@@ -0,0 +1,34 @@\n+define(\n+[\n+\"common\/betterment.models\"\n+], function(BettermentModels) {\n+ var loaded = {};\n+\n+ var PortfolioSet = BettermentModels.Model.extend({\n+ urlRoot: '\/portfolioSet',\n+\n+ url: function() {\n+ return this.urlRoot + '?id=' + encodeURIComponent(this.id);\n+ }\n+ }, {\n+ getById: function(id) {\n+ var $promise = new $.Deferred();\n+\n+ if (loaded[id]) {","path":"assets\/scripts\/models\/portfolioSet.js","position":17,"original_position":17,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"6dc736f195185941eaecfaab4e6ebdbd15981a33","user":{"login":"ceslami","id":185070,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/8c576440848a9bfcdc71f5cb9457e075?d=https%3A%2F%2Fidenticons.github.com%2F42f415e82af75d1aec747737b932e918.png","gravatar_id":"8c576440848a9bfcdc71f5cb9457e075","url":"https:\/\/api.github.com\/users\/ceslami","html_url":"https:\/\/github.com\/ceslami","followers_url":"https:\/\/api.github.com\/users\/ceslami\/followers","following_url":"https:\/\/api.github.com\/users\/ceslami\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ceslami\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ceslami\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ceslami\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ceslami\/orgs","repos_url":"https:\/\/api.github.com\/users\/ceslami\/repos","events_url":"https:\/\/api.github.com\/users\/ceslami\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ceslami\/received_events","type":"User"},"body":"hahah :beers:","created_at":"2013-10-05T17:08:37Z","updated_at":"2013-10-05T17:08:37Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784271","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784271"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784271"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784278","id":6784278,"diff_hunk":"@@ -0,0 +1,35 @@\n+define(\n+[\n+\"common\/betterment.models\"\n+], function(BettermentModels) {\n+ var loaded = {};\n+\n+ var PortfolioSet = BettermentModels.Model.extend({\n+ urlRoot: '\/portfolioSet',\n+\n+ url: function() {\n+ return this.urlRoot + '?id=' + encodeURIComponent(this.id);","path":"assets\/scripts\/models\/portfolioSet.js","position":11,"original_position":11,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","user":{"login":"ceslami","id":185070,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/8c576440848a9bfcdc71f5cb9457e075?d=https%3A%2F%2Fidenticons.github.com%2F42f415e82af75d1aec747737b932e918.png","gravatar_id":"8c576440848a9bfcdc71f5cb9457e075","url":"https:\/\/api.github.com\/users\/ceslami","html_url":"https:\/\/github.com\/ceslami","followers_url":"https:\/\/api.github.com\/users\/ceslami\/followers","following_url":"https:\/\/api.github.com\/users\/ceslami\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ceslami\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ceslami\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ceslami\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ceslami\/orgs","repos_url":"https:\/\/api.github.com\/users\/ceslami\/repos","events_url":"https:\/\/api.github.com\/users\/ceslami\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ceslami\/received_events","type":"User"},"body":"``PortfolioSet``'s have integer ``id``'s right? why do you need ``encodeURIComponent`` here?","created_at":"2013-10-05T17:14:24Z","updated_at":"2013-10-05T17:14:24Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784278","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784278"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784278"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784290","id":6784290,"diff_hunk":"@@ -0,0 +1,35 @@\n+define(\n+[\n+\"common\/betterment.models\"\n+], function(BettermentModels) {\n+ var loaded = {};\n+\n+ var PortfolioSet = BettermentModels.Model.extend({","path":"assets\/scripts\/models\/portfolioSet.js","position":7,"original_position":7,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","user":{"login":"ceslami","id":185070,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/8c576440848a9bfcdc71f5cb9457e075?d=https%3A%2F%2Fidenticons.github.com%2F42f415e82af75d1aec747737b932e918.png","gravatar_id":"8c576440848a9bfcdc71f5cb9457e075","url":"https:\/\/api.github.com\/users\/ceslami","html_url":"https:\/\/github.com\/ceslami","followers_url":"https:\/\/api.github.com\/users\/ceslami\/followers","following_url":"https:\/\/api.github.com\/users\/ceslami\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ceslami\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ceslami\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ceslami\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ceslami\/orgs","repos_url":"https:\/\/api.github.com\/users\/ceslami\/repos","events_url":"https:\/\/api.github.com\/users\/ceslami\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ceslami\/received_events","type":"User"},"body":"unless there is going to be a ``Collection`` for ``PortfolioSet``'s, you just return this directly. it would be a bit more inline with the style of other Model-only domain objects","created_at":"2013-10-05T17:19:13Z","updated_at":"2013-10-05T17:19:13Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784290","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784290"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784290"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784319","id":6784319,"diff_hunk":"@@ -237,13 +239,25 @@ function ($, _, Backbone, Marionette, Router, ErrorHandler, ModalRegion, UserLin\n BMT.selectedAccount = BMT.accounts().at(0);\n }\n \n- BMT.router.navigate(page, true); \/\/ go page\n- delete BMT.router.initialPage; \/\/ prevent redirect on future logins\n+ Async.every(BMT.accounts().models, function(account) {","path":"assets\/scripts\/app.js","position":26,"original_position":26,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","user":{"login":"ceslami","id":185070,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/8c576440848a9bfcdc71f5cb9457e075?d=https%3A%2F%2Fidenticons.github.com%2F42f415e82af75d1aec747737b932e918.png","gravatar_id":"8c576440848a9bfcdc71f5cb9457e075","url":"https:\/\/api.github.com\/users\/ceslami","html_url":"https:\/\/github.com\/ceslami","followers_url":"https:\/\/api.github.com\/users\/ceslami\/followers","following_url":"https:\/\/api.github.com\/users\/ceslami\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ceslami\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ceslami\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ceslami\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ceslami\/orgs","repos_url":"https:\/\/api.github.com\/users\/ceslami\/repos","events_url":"https:\/\/api.github.com\/users\/ceslami\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ceslami\/received_events","type":"User"},"body":"is it correct that we need to retrieve the ``PortfolioSet`` for each account whenever ``.refreshAccounts()`` is called? there are a few other places in the app where it is called but this functionality is not included it the ``success`` handler","created_at":"2013-10-05T17:32:03Z","updated_at":"2013-10-05T17:32:03Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784319","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784319"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784319"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784607","id":6784607,"diff_hunk":"@@ -237,13 +239,25 @@ function ($, _, Backbone, Marionette, Router, ErrorHandler, ModalRegion, UserLin\n BMT.selectedAccount = BMT.accounts().at(0);\n }\n \n- BMT.router.navigate(page, true); \/\/ go page\n- delete BMT.router.initialPage; \/\/ prevent redirect on future logins\n+ Async.every(BMT.accounts().models, function(account) {","path":"assets\/scripts\/app.js","position":26,"original_position":26,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"body":"we really should only have to retrieve these once. we should discuss in person.","created_at":"2013-10-05T19:25:35Z","updated_at":"2013-10-05T19:25:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784607","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784607"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784607"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784950","id":6784950,"diff_hunk":"@@ -237,13 +239,25 @@ function ($, _, Backbone, Marionette, Router, ErrorHandler, ModalRegion, UserLin\n BMT.selectedAccount = BMT.accounts().at(0);\n }\n \n- BMT.router.navigate(page, true); \/\/ go page\n- delete BMT.router.initialPage; \/\/ prevent redirect on future logins\n+ Async.every(BMT.accounts().models, function(account) {","path":"assets\/scripts\/app.js","position":26,"original_position":26,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"but since we cache them doesn't it not matter? most accounts have the same portfolio set so we'll only hit the server once fro most users","created_at":"2013-10-05T21:00:32Z","updated_at":"2013-10-05T21:00:32Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784950","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784950"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784950"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784959","id":6784959,"diff_hunk":"@@ -0,0 +1,35 @@\n+define(\n+[\n+\"common\/betterment.models\"\n+], function(BettermentModels) {\n+ var loaded = {};\n+\n+ var PortfolioSet = BettermentModels.Model.extend({\n+ urlRoot: '\/portfolioSet',\n+\n+ url: function() {\n+ return this.urlRoot + '?id=' + encodeURIComponent(this.id);\n+ }\n+ }, {\n+ getById: function(id) {\n+ var $promise = new $.Deferred();\n+\n+ if (loaded[id]) {\n+ $promise.resolve(loaded[id]);\n+ return $promise.promise();","path":"assets\/scripts\/models\/portfolioSet.js","position":19,"original_position":19,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","user":{"login":"adamlangsner","id":915091,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/42f55e50947e30bcc0a67a21ccd63d14?d=https%3A%2F%2Fidenticons.github.com%2F7d76df9eb3663359c8135a0f87614e98.png","gravatar_id":"42f55e50947e30bcc0a67a21ccd63d14","url":"https:\/\/api.github.com\/users\/adamlangsner","html_url":"https:\/\/github.com\/adamlangsner","followers_url":"https:\/\/api.github.com\/users\/adamlangsner\/followers","following_url":"https:\/\/api.github.com\/users\/adamlangsner\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/adamlangsner\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/adamlangsner\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/adamlangsner\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/adamlangsner\/orgs","repos_url":"https:\/\/api.github.com\/users\/adamlangsner\/repos","events_url":"https:\/\/api.github.com\/users\/adamlangsner\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/adamlangsner\/received_events","type":"User"},"body":"i think `if(loaded[i]) {` should be an if else so that there is only the one return statement at the bottom of the function","created_at":"2013-10-05T21:02:03Z","updated_at":"2013-10-05T21:02:03Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784959","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6784959"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6784959"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6785778","id":6785778,"diff_hunk":"@@ -0,0 +1,35 @@\n+define(\n+[\n+\"common\/betterment.models\"\n+], function(BettermentModels) {\n+ var loaded = {};\n+\n+ var PortfolioSet = BettermentModels.Model.extend({","path":"assets\/scripts\/models\/portfolioSet.js","position":7,"original_position":7,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","user":{"login":"betterdan","id":4417974,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/98e271785b6f5c89256b2d8fa85afd6e?d=https%3A%2F%2Fidenticons.github.com%2Fdc577cb0080bcb0f5a55e804a601adf7.png","gravatar_id":"98e271785b6f5c89256b2d8fa85afd6e","url":"https:\/\/api.github.com\/users\/betterdan","html_url":"https:\/\/github.com\/betterdan","followers_url":"https:\/\/api.github.com\/users\/betterdan\/followers","following_url":"https:\/\/api.github.com\/users\/betterdan\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/betterdan\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/betterdan\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/betterdan\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/betterdan\/orgs","repos_url":"https:\/\/api.github.com\/users\/betterdan\/repos","events_url":"https:\/\/api.github.com\/users\/betterdan\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/betterdan\/received_events","type":"User"},"body":"It has to be like this so it can be referred to in the class methods, see line 22.","created_at":"2013-10-06T04:00:24Z","updated_at":"2013-10-06T04:00:24Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6785778","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6785778"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6785778"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6785781","id":6785781,"diff_hunk":"@@ -0,0 +1,35 @@\n+define(\n+[\n+\"common\/betterment.models\"\n+], function(BettermentModels) {\n+ var loaded = {};\n+\n+ var PortfolioSet = BettermentModels.Model.extend({\n+ urlRoot: '\/portfolioSet',\n+\n+ url: function() {\n+ return this.urlRoot + '?id=' + encodeURIComponent(this.id);","path":"assets\/scripts\/models\/portfolioSet.js","position":11,"original_position":11,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","user":{"login":"betterdan","id":4417974,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/98e271785b6f5c89256b2d8fa85afd6e?d=https%3A%2F%2Fidenticons.github.com%2Fdc577cb0080bcb0f5a55e804a601adf7.png","gravatar_id":"98e271785b6f5c89256b2d8fa85afd6e","url":"https:\/\/api.github.com\/users\/betterdan","html_url":"https:\/\/github.com\/betterdan","followers_url":"https:\/\/api.github.com\/users\/betterdan\/followers","following_url":"https:\/\/api.github.com\/users\/betterdan\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/betterdan\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/betterdan\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/betterdan\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/betterdan\/orgs","repos_url":"https:\/\/api.github.com\/users\/betterdan\/repos","events_url":"https:\/\/api.github.com\/users\/betterdan\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/betterdan\/received_events","type":"User"},"body":"Yeah, I just copied Backbone's implementation and replaced the parts I needed, I can simplify it.","created_at":"2013-10-06T04:01:00Z","updated_at":"2013-10-06T04:01:00Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6785781","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6785781"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6785781"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6785783","id":6785783,"diff_hunk":"@@ -0,0 +1,35 @@\n+define(\n+[\n+\"common\/betterment.models\"\n+], function(BettermentModels) {\n+ var loaded = {};\n+\n+ var PortfolioSet = BettermentModels.Model.extend({\n+ urlRoot: '\/portfolioSet',\n+\n+ url: function() {\n+ return this.urlRoot + '?id=' + encodeURIComponent(this.id);\n+ }\n+ }, {\n+ getById: function(id) {\n+ var $promise = new $.Deferred();\n+\n+ if (loaded[id]) {\n+ $promise.resolve(loaded[id]);\n+ return $promise.promise();","path":"assets\/scripts\/models\/portfolioSet.js","position":19,"original_position":19,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","user":{"login":"betterdan","id":4417974,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/98e271785b6f5c89256b2d8fa85afd6e?d=https%3A%2F%2Fidenticons.github.com%2Fdc577cb0080bcb0f5a55e804a601adf7.png","gravatar_id":"98e271785b6f5c89256b2d8fa85afd6e","url":"https:\/\/api.github.com\/users\/betterdan","html_url":"https:\/\/github.com\/betterdan","followers_url":"https:\/\/api.github.com\/users\/betterdan\/followers","following_url":"https:\/\/api.github.com\/users\/betterdan\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/betterdan\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/betterdan\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/betterdan\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/betterdan\/orgs","repos_url":"https:\/\/api.github.com\/users\/betterdan\/repos","events_url":"https:\/\/api.github.com\/users\/betterdan\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/betterdan\/received_events","type":"User"},"body":"Yeah, I'll do that","created_at":"2013-10-06T04:01:43Z","updated_at":"2013-10-06T04:01:43Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6785783","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6785783"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6785783"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6785793","id":6785793,"diff_hunk":"@@ -237,13 +239,25 @@ function ($, _, Backbone, Marionette, Router, ErrorHandler, ModalRegion, UserLin\n BMT.selectedAccount = BMT.accounts().at(0);\n }\n \n- BMT.router.navigate(page, true); \/\/ go page\n- delete BMT.router.initialPage; \/\/ prevent redirect on future logins\n+ Async.every(BMT.accounts().models, function(account) {","path":"assets\/scripts\/app.js","position":26,"original_position":26,"commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","original_commit_id":"1ab88f7ec36d492837d3b2b5d3f3eb997559cab6","user":{"login":"betterdan","id":4417974,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/98e271785b6f5c89256b2d8fa85afd6e?d=https%3A%2F%2Fidenticons.github.com%2Fdc577cb0080bcb0f5a55e804a601adf7.png","gravatar_id":"98e271785b6f5c89256b2d8fa85afd6e","url":"https:\/\/api.github.com\/users\/betterdan","html_url":"https:\/\/github.com\/betterdan","followers_url":"https:\/\/api.github.com\/users\/betterdan\/followers","following_url":"https:\/\/api.github.com\/users\/betterdan\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/betterdan\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/betterdan\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/betterdan\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/betterdan\/orgs","repos_url":"https:\/\/api.github.com\/users\/betterdan\/repos","events_url":"https:\/\/api.github.com\/users\/betterdan\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/betterdan\/received_events","type":"User"},"body":"I'll go with Sam, we should talk about the loading strategy on Monday, this PR is more of a demo of one possible route.","created_at":"2013-10-06T04:06:35Z","updated_at":"2013-10-06T04:06:35Z","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6785793","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/comments\/6785793"},"html":{"href":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#discussion_r6785793"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/pulls\/171"}}}],"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/comments\/25737393","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#issuecomment-25737393","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/171","id":25737393,"user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"created_at":"2013-10-04T23:48:20Z","updated_at":"2013-10-04T23:48:20Z","body":"Yea. Something like that. I don't know which way sucks less hah.\n\n\/Sam - from mobile\nOn Oct 4, 2013 6:55 PM, \"betterdan\" wrote:\n\n> @samandmoore more like this?\n> ------------------------------\n> You can merge this Pull Request by running\n>\n> git pull https:\/\/github.com\/Betterment\/better-frontend djs\/assetFlex\/load-portfolioset\n>\n> Or view, comment on, or merge it at:\n>\n> https:\/\/github.com\/Betterment\/better-frontend\/pull\/171\n> Commit Summary\n>\n> - Load portfolio sets when user logs in\n>\n> File Changes\n>\n> - *M* assets\/scripts\/app.js(29)\n> - *A* assets\/scripts\/models\/portfolioSet.js(34)\n>\n> Patch Links:\n>\n> - https:\/\/github.com\/Betterment\/better-frontend\/pull\/171.patch\n> - https:\/\/github.com\/Betterment\/better-frontend\/pull\/171.diff\n>\n>"},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/comments\/25739016","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#issuecomment-25739016","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/171","id":25739016,"user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"created_at":"2013-10-05T00:57:15Z","updated_at":"2013-10-05T00:57:15Z","body":"i think i kinda like this. @ceslami @adamlangsner @effron what do you guys think?"},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/comments\/25739019","html_url":"https:\/\/github.com\/Betterment\/better-frontend\/pull\/171#issuecomment-25739019","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-frontend\/issues\/171","id":25739019,"user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"created_at":"2013-10-05T00:57:24Z","updated_at":"2013-10-05T00:57:24Z","body":"and @reustmd "}]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/448","id":8873028,"html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/448","diff_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/448.diff","patch_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/448.patch","issue_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/448","number":448,"state":"open","title":"Enable customers to cancel pending deposits","user":{"login":"ceslami","id":185070,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/8c576440848a9bfcdc71f5cb9457e075?d=https%3A%2F%2Fidenticons.github.com%2F42f415e82af75d1aec747737b932e918.png","gravatar_id":"8c576440848a9bfcdc71f5cb9457e075","url":"https:\/\/api.github.com\/users\/ceslami","html_url":"https:\/\/github.com\/ceslami","followers_url":"https:\/\/api.github.com\/users\/ceslami\/followers","following_url":"https:\/\/api.github.com\/users\/ceslami\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ceslami\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ceslami\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ceslami\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ceslami\/orgs","repos_url":"https:\/\/api.github.com\/users\/ceslami\/repos","events_url":"https:\/\/api.github.com\/users\/ceslami\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ceslami\/received_events","type":"User"},"body":"This work is the backend component of the new Upcoming Transfers panel on the Transfer tab of the webapp. From this panel, customers can cancel pending automatic and one-time deposits. \r\n\r\nUsing a new method on the ``AccountTransactionStageService``, we add an additional attribute to each ``Transaction`` in the response from the ``TransactionsController`` indicating whether or not a transaction can be canceled by the customer. This is also verified when a customer attempts to cancel a deposit through the exposed controls in the webapp.\r\n\r\nSorry about all the random commits that snuck in there, I'm going to sort that out before I merge.\r\n\r\n@ygoldman @adamlangsner @samandmoore @betterdan @effron ","created_at":"2013-10-07T05:58:23Z","updated_at":"2013-10-07T05:58:24Z","closed_at":null,"merged_at":null,"merge_commit_sha":"a8bde04a19d9231bb962f7816e6a979dcb3b34e4","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/448\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/448\/comments","review_comment_url":"\/repos\/Betterment\/better-core\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/448\/comments","status_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/7d7e1adfccd5b0e76f8a37d06cffe816ed9f6fa7","head":{"label":"Betterment:cse\/develop\/cancel-pending-deposit","ref":"cse\/develop\/cancel-pending-deposit","sha":"7d7e1adfccd5b0e76f8a37d06cffe816ed9f6fa7","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"723a2705c871bacf2a8e14318971f1a9a08c0cc1","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/448"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/448"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/448"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/448\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/448\/comments"},"status":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/7d7e1adfccd5b0e76f8a37d06cffe816ed9f6fa7"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":0,"review_comments":0,"commits":33,"additions":208,"deletions":20,"changed_files":9,"review_comments_list":[],"comments_list":[]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","id":8841633,"html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442","diff_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442.diff","patch_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442.patch","issue_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442","number":442,"state":"open","title":"Added experimentID to Experiences schema and added unique constraint to ...","user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"body":"...prevent dupes per visitor within an experiment\r\n\r\n@reustmd @ygoldman @andrewglenn @nonrational \r\n\r\nthis is what we were talking about doing yesterday. i think this is all that we need to do. i tested everything and it works properly like this.\r\n\r\n\r\nTODO:\r\n- [ ] test the split-testing dashboard\r\n- [ ] figure out how\/when to run the sql statements\r\n- [ ] determine if\/where we need to catch potential `ConstraintViolationExceptions`\r\n- [x] fix the invalid test db dataset","created_at":"2013-10-04T14:44:10Z","updated_at":"2013-10-04T21:17:06Z","closed_at":null,"merged_at":null,"merge_commit_sha":"14acb055246e89c3bea8a42d4aad33c93944df9f","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442\/comments","review_comment_url":"\/repos\/Betterment\/better-core\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/442\/comments","status_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","head":{"label":"Betterment:smoore\/develop\/experiment-visitor","ref":"smoore\/develop\/experiment-visitor","sha":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"3d309fcbe0e7dfcc771bf449bc326ce0afb69158","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/442"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/442\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442\/comments"},"status":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":3,"review_comments":16,"commits":3,"additions":95,"deletions":30,"changed_files":7,"review_comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6769471","id":6769471,"diff_hunk":"@@ -417,6 +417,10 @@\n ","path":"etc\/databases\/BettermentDB-schema.sql","position":1,"original_position":1,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"1691b2cf0bc62be9d2b8c2c5ae5222958f1e840c","user":{"login":"reustmd","id":986962,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/dd23b2608fd173a2e252e03912480990?d=https%3A%2F%2Fidenticons.github.com%2Ff059754a3ffdd6e055eb44ddd28e151a.png","gravatar_id":"dd23b2608fd173a2e252e03912480990","url":"https:\/\/api.github.com\/users\/reustmd","html_url":"https:\/\/github.com\/reustmd","followers_url":"https:\/\/api.github.com\/users\/reustmd\/followers","following_url":"https:\/\/api.github.com\/users\/reustmd\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/reustmd\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/reustmd\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/reustmd\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/reustmd\/orgs","repos_url":"https:\/\/api.github.com\/users\/reustmd\/repos","events_url":"https:\/\/api.github.com\/users\/reustmd\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/reustmd\/received_events","type":"User"},"body":"@ygoldman @nonrational why does this file exist? Won't hibernate generate a db for you based on mapping files?","created_at":"2013-10-04T14:46:43Z","updated_at":"2013-10-04T19:22:53Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6769471","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6769471"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6769471"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6769503","id":6769503,"diff_hunk":"@@ -0,0 +1,17 @@\n+\/*\n+* Add experimentID column to Experiences table and add unique constraint\n+* to prevent duplicate assignment for a visitor within a single experiment\n+* @author Sam Moore\n+* @since 10\/04\/2013\n+*\/\n+\n+ALTER TABLE Experiences\n+ ADD COLUMN experimentID BIGINT NULL;\n+\n+UPDATE Experiences x\n+INNER JOIN Variations v ON v.id = x.variationID\n+SET x.experimentID = v.experimentID;\n+\n+ALTER TABLE Experiences\n+ ADD CONSTRAINT Experiences_experiment_visitor_uq UNIQUE (visitorID, experimentID);","path":"etc\/databases\/patches\/bettermentdb-2.experiences.sql","position":16,"original_position":16,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"1691b2cf0bc62be9d2b8c2c5ae5222958f1e840c","user":{"login":"reustmd","id":986962,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/dd23b2608fd173a2e252e03912480990?d=https%3A%2F%2Fidenticons.github.com%2Ff059754a3ffdd6e055eb44ddd28e151a.png","gravatar_id":"dd23b2608fd173a2e252e03912480990","url":"https:\/\/api.github.com\/users\/reustmd","html_url":"https:\/\/github.com\/reustmd","followers_url":"https:\/\/api.github.com\/users\/reustmd\/followers","following_url":"https:\/\/api.github.com\/users\/reustmd\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/reustmd\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/reustmd\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/reustmd\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/reustmd\/orgs","repos_url":"https:\/\/api.github.com\/users\/reustmd\/repos","events_url":"https:\/\/api.github.com\/users\/reustmd\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/reustmd\/received_events","type":"User"},"body":"How long did this take to run?","created_at":"2013-10-04T14:47:56Z","updated_at":"2013-10-04T19:22:53Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6769503","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6769503"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6769503"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6769536","id":6769536,"diff_hunk":"@@ -170,6 +176,14 @@ public void setVisitor(Visitor visitor) {\n this.visitor = visitor;\n }\n \n+ public Experiment getExperiment() {\n+ return experiment;\n+ }\n+\n+ public void setExperiment(Experiment experiment) {\n+ this.experiment = experiment;\n+ }","path":"src\/main\/java\/com\/betterment\/common\/bo\/pilot\/Experience.java","position":null,"original_position":41,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"1691b2cf0bc62be9d2b8c2c5ae5222958f1e840c","user":{"login":"reustmd","id":986962,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/dd23b2608fd173a2e252e03912480990?d=https%3A%2F%2Fidenticons.github.com%2Ff059754a3ffdd6e055eb44ddd28e151a.png","gravatar_id":"dd23b2608fd173a2e252e03912480990","url":"https:\/\/api.github.com\/users\/reustmd","html_url":"https:\/\/github.com\/reustmd","followers_url":"https:\/\/api.github.com\/users\/reustmd\/followers","following_url":"https:\/\/api.github.com\/users\/reustmd\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/reustmd\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/reustmd\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/reustmd\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/reustmd\/orgs","repos_url":"https:\/\/api.github.com\/users\/reustmd\/repos","events_url":"https:\/\/api.github.com\/users\/reustmd\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/reustmd\/received_events","type":"User"},"body":"Sees weird that this exists, since the object could get into a weird state where this.variation.Experiment != this.exeriment","created_at":"2013-10-04T14:49:03Z","updated_at":"2013-10-04T19:22:53Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6769536","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6769536"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6769536"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6769613","id":6769613,"diff_hunk":"@@ -3,25 +3,33 @@\n \"http:\/\/www.hibernate.org\/dtd\/hibernate-mapping-3.0.dtd\">","path":"src\/main\/resources\/hbm\/pilot\/Experience.hbm.xml","position":1,"original_position":1,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"1691b2cf0bc62be9d2b8c2c5ae5222958f1e840c","user":{"login":"reustmd","id":986962,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/dd23b2608fd173a2e252e03912480990?d=https%3A%2F%2Fidenticons.github.com%2Ff059754a3ffdd6e055eb44ddd28e151a.png","gravatar_id":"dd23b2608fd173a2e252e03912480990","url":"https:\/\/api.github.com\/users\/reustmd","html_url":"https:\/\/github.com\/reustmd","followers_url":"https:\/\/api.github.com\/users\/reustmd\/followers","following_url":"https:\/\/api.github.com\/users\/reustmd\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/reustmd\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/reustmd\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/reustmd\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/reustmd\/orgs","repos_url":"https:\/\/api.github.com\/users\/reustmd\/repos","events_url":"https:\/\/api.github.com\/users\/reustmd\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/reustmd\/received_events","type":"User"},"body":"anyone else who reads this, use w=1 to make it much cleaner","created_at":"2013-10-04T14:51:21Z","updated_at":"2013-10-04T19:22:53Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6769613","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6769613"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6769613"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6770321","id":6770321,"diff_hunk":"@@ -0,0 +1,17 @@\n+\/*\n+* Add experimentID column to Experiences table and add unique constraint\n+* to prevent duplicate assignment for a visitor within a single experiment\n+* @author Sam Moore\n+* @since 10\/04\/2013\n+*\/\n+\n+ALTER TABLE Experiences\n+ ADD COLUMN experimentID BIGINT NULL;\n+\n+UPDATE Experiences x\n+INNER JOIN Variations v ON v.id = x.variationID\n+SET x.experimentID = v.experimentID;\n+\n+ALTER TABLE Experiences\n+ ADD CONSTRAINT Experiences_experiment_visitor_uq UNIQUE (visitorID, experimentID);","path":"etc\/databases\/patches\/bettermentdb-2.experiences.sql","position":16,"original_position":16,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"1691b2cf0bc62be9d2b8c2c5ae5222958f1e840c","user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"body":"0.0ms because my db only has 10 rows in that table :trollface: will have to get a new dump from sandbox. whenever we figure that bit out.","created_at":"2013-10-04T15:15:20Z","updated_at":"2013-10-04T19:22:53Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6770321","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6770321"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6770321"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6770345","id":6770345,"diff_hunk":"@@ -170,6 +176,14 @@ public void setVisitor(Visitor visitor) {\n this.visitor = visitor;\n }\n \n+ public Experiment getExperiment() {\n+ return experiment;\n+ }\n+\n+ public void setExperiment(Experiment experiment) {\n+ this.experiment = experiment;\n+ }","path":"src\/main\/java\/com\/betterment\/common\/bo\/pilot\/Experience.java","position":null,"original_position":41,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"1691b2cf0bc62be9d2b8c2c5ae5222958f1e840c","user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"body":"i think it needs to be there for hibernate to work.","created_at":"2013-10-04T15:16:16Z","updated_at":"2013-10-04T19:22:53Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6770345","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6770345"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6770345"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6770381","id":6770381,"diff_hunk":"@@ -170,6 +176,14 @@ public void setVisitor(Visitor visitor) {\n this.visitor = visitor;\n }\n \n+ public Experiment getExperiment() {\n+ return experiment;\n+ }\n+\n+ public void setExperiment(Experiment experiment) {\n+ this.experiment = experiment;\n+ }","path":"src\/main\/java\/com\/betterment\/common\/bo\/pilot\/Experience.java","position":null,"original_position":41,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"1691b2cf0bc62be9d2b8c2c5ae5222958f1e840c","user":{"login":"samandmoore","id":407586,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/d379fa277879875cb280782165cf3bbc?d=https%3A%2F%2Fidenticons.github.com%2Fe5de27029245f899216ddbc2a9661abd.png","gravatar_id":"d379fa277879875cb280782165cf3bbc","url":"https:\/\/api.github.com\/users\/samandmoore","html_url":"https:\/\/github.com\/samandmoore","followers_url":"https:\/\/api.github.com\/users\/samandmoore\/followers","following_url":"https:\/\/api.github.com\/users\/samandmoore\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/samandmoore\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/samandmoore\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/samandmoore\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/samandmoore\/orgs","repos_url":"https:\/\/api.github.com\/users\/samandmoore\/repos","events_url":"https:\/\/api.github.com\/users\/samandmoore\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/samandmoore\/received_events","type":"User"},"body":"and it is weird.","created_at":"2013-10-04T15:17:13Z","updated_at":"2013-10-04T19:22:53Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6770381","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6770381"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6770381"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6770691","id":6770691,"diff_hunk":"@@ -417,6 +417,10 @@\n ","path":"etc\/databases\/BettermentDB-schema.sql","position":1,"original_position":1,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"1691b2cf0bc62be9d2b8c2c5ae5222958f1e840c","user":{"login":"nonrational","id":550903,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/97f0c80f3166a533fdadf0f014abedc0?d=https%3A%2F%2Fidenticons.github.com%2Fdc6dd57a10e767211d8b1b15491fcbe3.png","gravatar_id":"97f0c80f3166a533fdadf0f014abedc0","url":"https:\/\/api.github.com\/users\/nonrational","html_url":"https:\/\/github.com\/nonrational","followers_url":"https:\/\/api.github.com\/users\/nonrational\/followers","following_url":"https:\/\/api.github.com\/users\/nonrational\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/nonrational\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/nonrational\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/nonrational\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/nonrational\/orgs","repos_url":"https:\/\/api.github.com\/users\/nonrational\/repos","events_url":"https:\/\/api.github.com\/users\/nonrational\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/nonrational\/received_events","type":"User"},"body":"the schema generation is imperfect, so we generate a version beside this one and then merge in the changes.","created_at":"2013-10-04T15:27:54Z","updated_at":"2013-10-04T19:22:53Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6770691","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6770691"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6770691"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6770793","id":6770793,"diff_hunk":"@@ -417,6 +417,10 @@\n ","path":"etc\/databases\/BettermentDB-schema.sql","position":1,"original_position":1,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"1691b2cf0bc62be9d2b8c2c5ae5222958f1e840c","user":{"login":"reustmd","id":986962,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/dd23b2608fd173a2e252e03912480990?d=https%3A%2F%2Fidenticons.github.com%2Ff059754a3ffdd6e055eb44ddd28e151a.png","gravatar_id":"dd23b2608fd173a2e252e03912480990","url":"https:\/\/api.github.com\/users\/reustmd","html_url":"https:\/\/github.com\/reustmd","followers_url":"https:\/\/api.github.com\/users\/reustmd\/followers","following_url":"https:\/\/api.github.com\/users\/reustmd\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/reustmd\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/reustmd\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/reustmd\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/reustmd\/orgs","repos_url":"https:\/\/api.github.com\/users\/reustmd\/repos","events_url":"https:\/\/api.github.com\/users\/reustmd\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/reustmd\/received_events","type":"User"},"body":"bummer","created_at":"2013-10-04T15:31:02Z","updated_at":"2013-10-04T19:22:53Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6770793","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6770793"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6770793"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6771375","id":6771375,"diff_hunk":"@@ -170,6 +176,14 @@ public void setVisitor(Visitor visitor) {\n this.visitor = visitor;\n }\n \n+ public Experiment getExperiment() {\n+ return experiment;\n+ }\n+\n+ public void setExperiment(Experiment experiment) {\n+ this.experiment = experiment;\n+ }","path":"src\/main\/java\/com\/betterment\/common\/bo\/pilot\/Experience.java","position":null,"original_position":41,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"1691b2cf0bc62be9d2b8c2c5ae5222958f1e840c","user":{"login":"nonrational","id":550903,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/97f0c80f3166a533fdadf0f014abedc0?d=https%3A%2F%2Fidenticons.github.com%2Fdc6dd57a10e767211d8b1b15491fcbe3.png","gravatar_id":"97f0c80f3166a533fdadf0f014abedc0","url":"https:\/\/api.github.com\/users\/nonrational","html_url":"https:\/\/github.com\/nonrational","followers_url":"https:\/\/api.github.com\/users\/nonrational\/followers","following_url":"https:\/\/api.github.com\/users\/nonrational\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/nonrational\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/nonrational\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/nonrational\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/nonrational\/orgs","repos_url":"https:\/\/api.github.com\/users\/nonrational\/repos","events_url":"https:\/\/api.github.com\/users\/nonrational\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/nonrational\/received_events","type":"User"},"body":"I think it's only weird because it mirrors the weirdness in the new data model change...\r\n```\r\n[Experiment0 <--] Experience0 --> Variation0 --> Experiment1 \r\n \\\r\n Visitor0\r\n```\r\nis totally possible.\r\n\r\nMaybe we can set `insert='true' update='false'` on the field and only modify it during the constructor.","created_at":"2013-10-04T15:50:23Z","updated_at":"2013-10-04T19:22:53Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6771375","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6771375"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6771375"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6771553","id":6771553,"diff_hunk":"@@ -170,6 +176,14 @@ public void setVisitor(Visitor visitor) {\n this.visitor = visitor;\n }\n \n+ public Experiment getExperiment() {\n+ return experiment;\n+ }\n+\n+ public void setExperiment(Experiment experiment) {\n+ this.experiment = experiment;\n+ }","path":"src\/main\/java\/com\/betterment\/common\/bo\/pilot\/Experience.java","position":null,"original_position":41,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"1691b2cf0bc62be9d2b8c2c5ae5222958f1e840c","user":{"login":"reustmd","id":986962,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/dd23b2608fd173a2e252e03912480990?d=https%3A%2F%2Fidenticons.github.com%2Ff059754a3ffdd6e055eb44ddd28e151a.png","gravatar_id":"dd23b2608fd173a2e252e03912480990","url":"https:\/\/api.github.com\/users\/reustmd","html_url":"https:\/\/github.com\/reustmd","followers_url":"https:\/\/api.github.com\/users\/reustmd\/followers","following_url":"https:\/\/api.github.com\/users\/reustmd\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/reustmd\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/reustmd\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/reustmd\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/reustmd\/orgs","repos_url":"https:\/\/api.github.com\/users\/reustmd\/repos","events_url":"https:\/\/api.github.com\/users\/reustmd\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/reustmd\/received_events","type":"User"},"body":"It's not really a data model change, it's a persistence model change. It's just a slight denomormalization from something that was already accessible via the object hierarchy. I'm surprised the ORM doesn't allow us to do so without any java class changes. Nonetheless, I'm not going to lose any sleep over it.\r\n\r\n\/whine ","created_at":"2013-10-04T15:57:33Z","updated_at":"2013-10-04T19:22:53Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6771553","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6771553"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6771553"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6779379","id":6779379,"diff_hunk":"@@ -0,0 +1,17 @@\n+\/*","path":"etc\/databases\/patches\/bettermentdb-2.experiences.sql","position":1,"original_position":1,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","user":{"login":"nonrational","id":550903,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/97f0c80f3166a533fdadf0f014abedc0?d=https%3A%2F%2Fidenticons.github.com%2Fdc6dd57a10e767211d8b1b15491fcbe3.png","gravatar_id":"97f0c80f3166a533fdadf0f014abedc0","url":"https:\/\/api.github.com\/users\/nonrational","html_url":"https:\/\/github.com\/nonrational","followers_url":"https:\/\/api.github.com\/users\/nonrational\/followers","following_url":"https:\/\/api.github.com\/users\/nonrational\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/nonrational\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/nonrational\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/nonrational\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/nonrational\/orgs","repos_url":"https:\/\/api.github.com\/users\/nonrational\/repos","events_url":"https:\/\/api.github.com\/users\/nonrational\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/nonrational\/received_events","type":"User"},"body":"what's up with this filename? ","created_at":"2013-10-04T21:12:20Z","updated_at":"2013-10-04T21:12:20Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6779379","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6779379"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6779379"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6779398","id":6779398,"diff_hunk":"@@ -84,6 +89,7 @@ public Experience(Visitor visitor, Variation variation) {\n this.createdDateTime = new DateTime();\n this.visitor = visitor;\n this.variation = variation;\n+ this.setExperiment(variation.getExperiment());","path":"src\/main\/java\/com\/betterment\/common\/bo\/pilot\/Experience.java","position":27,"original_position":27,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","user":{"login":"nonrational","id":550903,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/97f0c80f3166a533fdadf0f014abedc0?d=https%3A%2F%2Fidenticons.github.com%2Fdc6dd57a10e767211d8b1b15491fcbe3.png","gravatar_id":"97f0c80f3166a533fdadf0f014abedc0","url":"https:\/\/api.github.com\/users\/nonrational","html_url":"https:\/\/github.com\/nonrational","followers_url":"https:\/\/api.github.com\/users\/nonrational\/followers","following_url":"https:\/\/api.github.com\/users\/nonrational\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/nonrational\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/nonrational\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/nonrational\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/nonrational\/orgs","repos_url":"https:\/\/api.github.com\/users\/nonrational\/repos","events_url":"https:\/\/api.github.com\/users\/nonrational\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/nonrational\/received_events","type":"User"},"body":"null-check on variation? `Validate.notNull` on both args?","created_at":"2013-10-04T21:13:16Z","updated_at":"2013-10-04T21:13:16Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6779398","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6779398"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6779398"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6779414","id":6779414,"diff_hunk":"@@ -170,6 +176,14 @@ public void setVisitor(Visitor visitor) {\n this.visitor = visitor;\n }\n \n+ public Experiment getExperiment() {","path":"src\/main\/java\/com\/betterment\/common\/bo\/pilot\/Experience.java","position":35,"original_position":35,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","user":{"login":"nonrational","id":550903,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/97f0c80f3166a533fdadf0f014abedc0?d=https%3A%2F%2Fidenticons.github.com%2Fdc6dd57a10e767211d8b1b15491fcbe3.png","gravatar_id":"97f0c80f3166a533fdadf0f014abedc0","url":"https:\/\/api.github.com\/users\/nonrational","html_url":"https:\/\/github.com\/nonrational","followers_url":"https:\/\/api.github.com\/users\/nonrational\/followers","following_url":"https:\/\/api.github.com\/users\/nonrational\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/nonrational\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/nonrational\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/nonrational\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/nonrational\/orgs","repos_url":"https:\/\/api.github.com\/users\/nonrational\/repos","events_url":"https:\/\/api.github.com\/users\/nonrational\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/nonrational\/received_events","type":"User"},"body":":speech_balloon: :speech_balloon: :speech_balloon: \r\n\r\nthis is gnarly. let's explain why it's a decent solution to the problem?","created_at":"2013-10-04T21:14:08Z","updated_at":"2013-10-04T21:14:08Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6779414","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6779414"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6779414"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6779418","id":6779418,"diff_hunk":"@@ -170,6 +176,14 @@ public void setVisitor(Visitor visitor) {\n this.visitor = visitor;\n }\n \n+ public Experiment getExperiment() {\n+ return this.variation != null ? this.getVariation().getExperiment() : this.experiment;\n+ }\n+\n+ public void setExperiment(Experiment experiment) {","path":"src\/main\/java\/com\/betterment\/common\/bo\/pilot\/Experience.java","position":39,"original_position":39,"commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","original_commit_id":"cb1fe6d5f2e1306784ca59af62f6cb9e6774e7db","user":{"login":"nonrational","id":550903,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/97f0c80f3166a533fdadf0f014abedc0?d=https%3A%2F%2Fidenticons.github.com%2Fdc6dd57a10e767211d8b1b15491fcbe3.png","gravatar_id":"97f0c80f3166a533fdadf0f014abedc0","url":"https:\/\/api.github.com\/users\/nonrational","html_url":"https:\/\/github.com\/nonrational","followers_url":"https:\/\/api.github.com\/users\/nonrational\/followers","following_url":"https:\/\/api.github.com\/users\/nonrational\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/nonrational\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/nonrational\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/nonrational\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/nonrational\/orgs","repos_url":"https:\/\/api.github.com\/users\/nonrational\/repos","events_url":"https:\/\/api.github.com\/users\/nonrational\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/nonrational\/received_events","type":"User"},"body":":speech_balloon::speech_balloon::speech_balloon:","created_at":"2013-10-04T21:14:15Z","updated_at":"2013-10-04T21:14:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6779418","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6779418"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/442#discussion_r6779418"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/442"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6779456","id":6779456,"diff_hunk":"@@ -3,25 +3,34 @@\n \"http:\/\/www.hibernate.org\/dtd\/hibernate-mapping-3.0.dtd\">\n \n \n- \n- \n- \n- <\/id>\n- \t\n- \n- \n-\t\n- \n-\t\n- \n- \n- \n+ \n+ \n+ \n+ <\/id>\n+ \n+ \n \n- <\/class>\n+ \n+ \n+ determine if\/where we need to catch potential `ConstraintViolationExceptions`\r\n\r\nhmmm. yeah let's think this through."}]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/441","id":8840526,"html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/441","diff_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/441.diff","patch_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/441.patch","issue_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/441","number":441,"state":"open","title":"Effron\/develop\/add db lock logging","user":{"login":"effron","id":3477650,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/4c9d6324a4479dda139ab922ea6e29f2?d=https%3A%2F%2Fidenticons.github.com%2F81877e84ec3d1cec93073f03b511c062.png","gravatar_id":"4c9d6324a4479dda139ab922ea6e29f2","url":"https:\/\/api.github.com\/users\/effron","html_url":"https:\/\/github.com\/effron","followers_url":"https:\/\/api.github.com\/users\/effron\/followers","following_url":"https:\/\/api.github.com\/users\/effron\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/effron\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/effron\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/effron\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/effron\/orgs","repos_url":"https:\/\/api.github.com\/users\/effron\/repos","events_url":"https:\/\/api.github.com\/users\/effron\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/effron\/received_events","type":"User"},"body":"Add additional logging when LockAcquisitionException is thrown to better help diagnose the issue.\r\n\r\n- Logs all info on db locks using the queries found here : http:\/\/confluence.betterment.com\/confluence\/display\/BetterEng\/MySQL+Tricks\r\n\r\nTODO: Needs Process privilege in order to run queries\r\n\r\n@reustmd ","created_at":"2013-10-04T14:09:13Z","updated_at":"2013-10-04T14:45:26Z","closed_at":null,"merged_at":null,"merge_commit_sha":"40b12f77a7b123f2f07ba5dd91e9b8862f469709","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/441\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/441\/comments","review_comment_url":"\/repos\/Betterment\/better-core\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/441\/comments","status_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/5d1940e4b12baee6ef6940768b4bae801ac3949d","head":{"label":"Betterment:effron\/develop\/add-db-lock-logging","ref":"effron\/develop\/add-db-lock-logging","sha":"5d1940e4b12baee6ef6940768b4bae801ac3949d","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"58ef237918ae77b2a4349f39ccce50eded5d5c08","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/441"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/441"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/441"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/441\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/441\/comments"},"status":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/5d1940e4b12baee6ef6940768b4bae801ac3949d"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":1,"review_comments":2,"commits":5,"additions":113,"deletions":1,"changed_files":5,"review_comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6768546","id":6768546,"diff_hunk":"@@ -0,0 +1,12 @@\n+package com.betterment.util;\n+\n+\/**\n+ * Created with IntelliJ IDEA.\n+ * User: harriseffron\n+ * Date: 10\/2\/13\n+ * Time: 4:52 PM\n+ * To change this template use File | Settings | File Templates.","path":"src\/main\/java\/com\/betterment\/util\/MySqlUtil.java","position":null,"original_position":8,"commit_id":"5d1940e4b12baee6ef6940768b4bae801ac3949d","original_commit_id":"b4615e0301d0bb194c327d2af608ac36dc2fde11","user":{"login":"reustmd","id":986962,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/dd23b2608fd173a2e252e03912480990?d=https%3A%2F%2Fidenticons.github.com%2Ff059754a3ffdd6e055eb44ddd28e151a.png","gravatar_id":"dd23b2608fd173a2e252e03912480990","url":"https:\/\/api.github.com\/users\/reustmd","html_url":"https:\/\/github.com\/reustmd","followers_url":"https:\/\/api.github.com\/users\/reustmd\/followers","following_url":"https:\/\/api.github.com\/users\/reustmd\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/reustmd\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/reustmd\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/reustmd\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/reustmd\/orgs","repos_url":"https:\/\/api.github.com\/users\/reustmd\/repos","events_url":"https:\/\/api.github.com\/users\/reustmd\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/reustmd\/received_events","type":"User"},"body":"Prolly don't need the intellij instructions in the annotation","created_at":"2013-10-04T14:13:30Z","updated_at":"2013-10-04T14:45:25Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/441#discussion_r6768546","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/441","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6768546"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/441#discussion_r6768546"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/441"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6768639","id":6768639,"diff_hunk":"@@ -0,0 +1,81 @@\n+package com.betterment.util;\n+\n+import com.google.common.base.Joiner;\n+import org.hibernate.Session;\n+import org.hibernate.SessionFactory;\n+import org.hibernate.Query;\n+\n+\/**\n+ * Created with IntelliJ IDEA.\n+ * User: harriseffron\n+ * Date: 10\/2\/13\n+ * Time: 3:20 PM\n+ * To change this template use File | Settings | File Templates.\n+ *\/\n+public class MySqlUtilImpl implements MySqlUtil {\n+\n+ private SessionFactory sessionFactory;\n+ private Joiner joiner = Joiner.on(\" | \").useForNull(\"NULL\");\n+\n+ \/\/ Queries from Locks section of http:\/\/confluence.betterment.com\/confluence\/display\/BetterEng\/MySQL+Tricks\n+ @Override\n+ public String getCurrentLockInformation(){\n+ Session session = getSession();\n+ StringBuilder lockInformation = new StringBuilder();\n+\n+ String innodbLocksQueryString = \"SELECT * FROM information_schema.INNODB_LOCKS;\" ;\n+ appendSystemQueryResults(session, lockInformation, innodbLocksQueryString, \"INNODB_LOCKS\", \"\");\n+\n+ String innodbTrxQueryString = \"SELECT * FROM information_schema.INNODB_TRX;\";\n+ appendSystemQueryResults(session, lockInformation, innodbTrxQueryString, \"INNODB_TRX\", \"\");\n+\n+ String innodbLockWaitsQueryString = \"SELECT r.trx_id waiting_trx_id, r.trx_mysql_thread_id waiting_thread,r.trx_query waiting_query,b.trx_id blocking_trx_id, b.trx_mysql_thread_id blocking_thread,b.trx_query blocking_query FROM information_schema.innodb_lock_waits w\" +\n+ \" INNER JOIN information_schema.innodb_trx b ON b.trx_id = w.blocking_trx_id INNER JOIN information_schema.innodb_trx r ON r.trx_id = w.requesting_trx_id;\";\n+ String hardCodedSchema = \"waiting_trx_id | waiting_thread | waiting_query | blocking_trx_id | blocking_thread | blocking_query\";","path":"src\/main\/java\/com\/betterment\/util\/MySqlUtilImpl.java","position":null,"original_position":34,"commit_id":"5d1940e4b12baee6ef6940768b4bae801ac3949d","original_commit_id":"b4615e0301d0bb194c327d2af608ac36dc2fde11","user":{"login":"reustmd","id":986962,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/dd23b2608fd173a2e252e03912480990?d=https%3A%2F%2Fidenticons.github.com%2Ff059754a3ffdd6e055eb44ddd28e151a.png","gravatar_id":"dd23b2608fd173a2e252e03912480990","url":"https:\/\/api.github.com\/users\/reustmd","html_url":"https:\/\/github.com\/reustmd","followers_url":"https:\/\/api.github.com\/users\/reustmd\/followers","following_url":"https:\/\/api.github.com\/users\/reustmd\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/reustmd\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/reustmd\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/reustmd\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/reustmd\/orgs","repos_url":"https:\/\/api.github.com\/users\/reustmd\/repos","events_url":"https:\/\/api.github.com\/users\/reustmd\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/reustmd\/received_events","type":"User"},"body":"I would change the other queries from select *, to select c1, c2, ... as well. Then you can hard-code them as well. I don't think the risk of those columns changing is very high, so I'm not concerned about the hard-coding.\r\n\r\nThis prevents the need for the app db user to need select rights on the mysql system db.","created_at":"2013-10-04T14:16:45Z","updated_at":"2013-10-04T14:45:25Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/441#discussion_r6768639","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/441","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6768639"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/441#discussion_r6768639"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/441"}}}],"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/25701735","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/441#issuecomment-25701735","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/441","id":25701735,"user":{"login":"reustmd","id":986962,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/dd23b2608fd173a2e252e03912480990?d=https%3A%2F%2Fidenticons.github.com%2Ff059754a3ffdd6e055eb44ddd28e151a.png","gravatar_id":"dd23b2608fd173a2e252e03912480990","url":"https:\/\/api.github.com\/users\/reustmd","html_url":"https:\/\/github.com\/reustmd","followers_url":"https:\/\/api.github.com\/users\/reustmd\/followers","following_url":"https:\/\/api.github.com\/users\/reustmd\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/reustmd\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/reustmd\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/reustmd\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/reustmd\/orgs","repos_url":"https:\/\/api.github.com\/users\/reustmd\/repos","events_url":"https:\/\/api.github.com\/users\/reustmd\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/reustmd\/received_events","type":"User"},"created_at":"2013-10-04T14:17:47Z","updated_at":"2013-10-04T14:17:47Z","body":"@ygoldman, you should look at this too"}]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/439","id":8821390,"html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/439","diff_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/439.diff","patch_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/439.patch","issue_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/439","number":439,"state":"open","title":"Improved cash ledger cli to be able to update accounts\/account locations","user":{"login":"ysoussov","id":2412644,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/736ab39f31a1358b82359f2f1f301d14?d=https%3A%2F%2Fidenticons.github.com%2F210265368bcd89e5a39556b7e2572b59.png","gravatar_id":"736ab39f31a1358b82359f2f1f301d14","url":"https:\/\/api.github.com\/users\/ysoussov","html_url":"https:\/\/github.com\/ysoussov","followers_url":"https:\/\/api.github.com\/users\/ysoussov\/followers","following_url":"https:\/\/api.github.com\/users\/ysoussov\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ysoussov\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ysoussov\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ysoussov\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ysoussov\/orgs","repos_url":"https:\/\/api.github.com\/users\/ysoussov\/repos","events_url":"https:\/\/api.github.com\/users\/ysoussov\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ysoussov\/received_events","type":"User"},"body":"@ygoldman @matsuimp ","created_at":"2013-10-03T20:55:09Z","updated_at":"2013-10-04T20:42:56Z","closed_at":null,"merged_at":null,"merge_commit_sha":"5ad27be6fb50b0b56f84222ad34a1cb7d840820d","assignee":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/439\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/439\/comments","review_comment_url":"\/repos\/Betterment\/better-core\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/439\/comments","status_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/6a73f27d335e4f89dc606c0e99f90a99a7aee9d1","head":{"label":"Betterment:ysoussov\/develop\/cash-ledger-adjustment-cli-improvement","ref":"ysoussov\/develop\/cash-ledger-adjustment-cli-improvement","sha":"6a73f27d335e4f89dc606c0e99f90a99a7aee9d1","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"3dfdd335871399672162103fbf81ba0c96d23ac9","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/439"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/439"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/439"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/439\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/439\/comments"},"status":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/6a73f27d335e4f89dc606c0e99f90a99a7aee9d1"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":1,"review_comments":2,"commits":2,"additions":156,"deletions":9,"changed_files":6,"review_comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754053","id":6754053,"diff_hunk":"@@ -208,6 +211,33 @@ public IReadonlyTCashLedgerEntry updateTCashLedgerEntryAmount(TCashLedgerEntry t\n return recalculateTCashLedgerEntriesStartingWith(tLedger, BuilderUpdateMode.TRUST_AMOUNT, settings, auditTask);\n }\n \n+ @Override\n+ public IReadonlyTCashLedgerEntry updateTCashLedgerAccountAndLocation(TCashLedgerEntry tLedger, long accountID,","path":"src\/main\/java\/com\/betterment\/service\/cashtracking\/impl\/DualEntryAccountingServiceImpl.java","position":null,"original_position":20,"commit_id":"6a73f27d335e4f89dc606c0e99f90a99a7aee9d1","original_commit_id":"c8a7c5deb98a26714d1b0f0b73bb501d18ccd1c7","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"how is this handling subsequent updates for previous and new account location? ","created_at":"2013-10-03T21:00:47Z","updated_at":"2013-10-04T17:35:05Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/439#discussion_r6754053","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/439","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754053"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/439#discussion_r6754053"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/439"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6771584","id":6771584,"diff_hunk":"@@ -208,6 +211,33 @@ public IReadonlyTCashLedgerEntry updateTCashLedgerEntryAmount(TCashLedgerEntry t\n return recalculateTCashLedgerEntriesStartingWith(tLedger, BuilderUpdateMode.TRUST_AMOUNT, settings, auditTask);\n }\n \n+ @Override\n+ public IReadonlyTCashLedgerEntry updateTCashLedgerAccountAndLocation(TCashLedgerEntry tLedger, long accountID,","path":"src\/main\/java\/com\/betterment\/service\/cashtracking\/impl\/DualEntryAccountingServiceImpl.java","position":null,"original_position":20,"commit_id":"6a73f27d335e4f89dc606c0e99f90a99a7aee9d1","original_commit_id":"c8a7c5deb98a26714d1b0f0b73bb501d18ccd1c7","user":{"login":"ysoussov","id":2412644,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/736ab39f31a1358b82359f2f1f301d14?d=https%3A%2F%2Fidenticons.github.com%2F210265368bcd89e5a39556b7e2572b59.png","gravatar_id":"736ab39f31a1358b82359f2f1f301d14","url":"https:\/\/api.github.com\/users\/ysoussov","html_url":"https:\/\/github.com\/ysoussov","followers_url":"https:\/\/api.github.com\/users\/ysoussov\/followers","following_url":"https:\/\/api.github.com\/users\/ysoussov\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ysoussov\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ysoussov\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ysoussov\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ysoussov\/orgs","repos_url":"https:\/\/api.github.com\/users\/ysoussov\/repos","events_url":"https:\/\/api.github.com\/users\/ysoussov\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ysoussov\/received_events","type":"User"},"body":"its not, the z-check corrector will adjust subsequents I will add some logging to indicate this and comments. ","created_at":"2013-10-04T15:58:34Z","updated_at":"2013-10-04T17:35:05Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/439#discussion_r6771584","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/439","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6771584"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/439#discussion_r6771584"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/439"}}}],"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/25728712","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/439#issuecomment-25728712","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/439","id":25728712,"user":{"login":"ysoussov","id":2412644,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/736ab39f31a1358b82359f2f1f301d14?d=https%3A%2F%2Fidenticons.github.com%2F210265368bcd89e5a39556b7e2572b59.png","gravatar_id":"736ab39f31a1358b82359f2f1f301d14","url":"https:\/\/api.github.com\/users\/ysoussov","html_url":"https:\/\/github.com\/ysoussov","followers_url":"https:\/\/api.github.com\/users\/ysoussov\/followers","following_url":"https:\/\/api.github.com\/users\/ysoussov\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ysoussov\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ysoussov\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ysoussov\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ysoussov\/orgs","repos_url":"https:\/\/api.github.com\/users\/ysoussov\/repos","events_url":"https:\/\/api.github.com\/users\/ysoussov\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ysoussov\/received_events","type":"User"},"created_at":"2013-10-04T20:42:56Z","updated_at":"2013-10-04T20:42:56Z","body":"are we all good here?"}]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","id":8812399,"html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432","diff_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432.diff","patch_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432.patch","issue_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432","number":432,"state":"open","title":"Fee and Verification Location Fix","user":{"login":"ysoussov","id":2412644,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/736ab39f31a1358b82359f2f1f301d14?d=https%3A%2F%2Fidenticons.github.com%2F210265368bcd89e5a39556b7e2572b59.png","gravatar_id":"736ab39f31a1358b82359f2f1f301d14","url":"https:\/\/api.github.com\/users\/ysoussov","html_url":"https:\/\/github.com\/ysoussov","followers_url":"https:\/\/api.github.com\/users\/ysoussov\/followers","following_url":"https:\/\/api.github.com\/users\/ysoussov\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ysoussov\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ysoussov\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ysoussov\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ysoussov\/orgs","repos_url":"https:\/\/api.github.com\/users\/ysoussov\/repos","events_url":"https:\/\/api.github.com\/users\/ysoussov\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ysoussov\/received_events","type":"User"},"body":"@ygoldman @matsuimp ","created_at":"2013-10-03T16:21:58Z","updated_at":"2013-10-04T22:35:15Z","closed_at":null,"merged_at":null,"merge_commit_sha":"6740898865613d307d898c1d1a63502ff734f265","assignee":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432\/comments","review_comment_url":"\/repos\/Betterment\/better-core\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/432\/comments","status_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/b5b39c33c96cceed6a85363d81633868bfa6aa5d","head":{"label":"Betterment:ysoussov\/develop\/fi-fee-location-fix","ref":"ysoussov\/develop\/fi-fee-location-fix","sha":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"71f150c71cae88821cc3494cf09801c8fc9b44d1","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/432"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/432\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432\/comments"},"status":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/b5b39c33c96cceed6a85363d81633868bfa6aa5d"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":2,"review_comments":56,"commits":11,"additions":535,"deletions":181,"changed_files":24,"review_comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6753818","id":6753818,"diff_hunk":"@@ -103,8 +103,13 @@ protected boolean processOptions() throws Exception {\n }\n \n acctId = Long.parseLong(commandLine.getOptionValue(ACCOUNT_OPT));\n- bankAcctId = Long.parseLong(commandLine.getOptionValue(BANK_ACCOUNT_OPT));\n- institutionalIdentifier = commandLine.getOptionValue(INSTITUTIONAL_IDENTIFIER);\n+ if (commandLine.hasOption(BANK_ACCOUNT_OPT)) {\n+ bankAcctId = Long.parseLong(commandLine.getOptionValue(BANK_ACCOUNT_OPT));\n+ institutionalIdentifier = commandLine.getOptionValue(INSTITUTIONAL_IDENTIFIER);\n+ } else {","path":"src\/main\/java\/com\/betterment\/batch\/institution\/InstitutionalAccountCLI.java","position":null,"original_position":24,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"not a big deal since we never use this CLI, but i don't see a reason for restricting institutional accounts to only be setup in certain ways. this is very much an admin task to setup institutional accounts. i.e, if we specify a bank account but not a inst. identified via the command line, go ahead and set the institutional account up w\/ what we passed in and trust that the person using the CLI knows what they're doing in this case.","created_at":"2013-10-03T20:51:31Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6753818","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6753818"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6753818"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6753898","id":6753898,"diff_hunk":"@@ -157,9 +166,10 @@ public boolean equals(Object obj) {\n \n @Override\n public String toString() {\n- return \"InstitutionalAccount [financialInstitution=\" + (financialInstitution != null ? financialInstitution.getInstitution() : \"null\") + \", sweep=\"\n- + sweep + \", accountNumber=\" + getRedactedAccountNumber() + \", account=\" + account.getId()\n- + \", bankAccount=\" + bankAccount.getId() + \", createdDateTime=\" + createdDateTime\n+ return \"InstitutionalAccount [financialInstitution=\"\n+ + (financialInstitution != null ? financialInstitution.getInstitution() : \"null\") + \", sweep=\" + sweep","path":"src\/main\/java\/com\/betterment\/common\/bo\/institution\/InstitutionalAccount.java","position":57,"original_position":57,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"i realize you didn't change this, but can we just do the id of the financial institution here? i think effectively doing ```financialInstitution.toString()``` causes too much wanted noise when printing out the ```InstitutionalAccount```","created_at":"2013-10-03T20:54:43Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6753898","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6753898"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6753898"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754128","id":6754128,"diff_hunk":"@@ -425,4 +426,30 @@ public Account getAccount(AccountType accountType, OmnibusAccount omnibusAccount\n return (Account) q.uniqueResult();\n }\n \n+ @Override\n+ public Account loadOpsAccountForACHFI(AccountType accountType, FinancialInstitution fi) {\n+ if (fi == null || fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.BROKERAGE)) {","path":"src\/main\/java\/com\/betterment\/dao\/account\/impl\/AccountDAOImpl.java","position":null,"original_position":23,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"maybe just check if ```!fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.ACH)``` so you don't have to do the second check below.","created_at":"2013-10-03T21:03:29Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754128","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754128"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754128"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754171","id":6754171,"diff_hunk":"@@ -425,4 +426,30 @@ public Account getAccount(AccountType accountType, OmnibusAccount omnibusAccount\n return (Account) q.uniqueResult();\n }\n \n+ @Override\n+ public Account loadOpsAccountForACHFI(AccountType accountType, FinancialInstitution fi) {\n+ if (fi == null || fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.BROKERAGE)) {\n+ throw new IllegalArgumentException(\n+ \"You must specify the omnibus account if trying to load brokerage accounts, passed fi was \" + fi\n+ + \" and passed accountType was \" + accountType);\n+ }\n+ Validate.notNull(accountType, \"You must specify which accountType to load\");\n+ if (fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.ACH)) {\n+ if (!(accountType.equals(AccountType.ADVISORY_FEES) || accountType.equals(AccountType.OPERATIONAL_CHARGES)\n+ || accountType.equals(AccountType.MICRO_VERIFICATIONS) || accountType.equals(AccountType.MTG_OPS))) {\n+ throw new IllegalArgumentException(\n+ \"You cannot load an account of this type without specifing the omnibus account for account type \"","path":"src\/main\/java\/com\/betterment\/dao\/account\/impl\/AccountDAOImpl.java","position":null,"original_position":33,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"i don't understand the error message. what does the omnibus account have to do w\/ it?","created_at":"2013-10-03T21:04:58Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754171","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754171"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754171"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754245","id":6754245,"diff_hunk":"@@ -425,4 +426,30 @@ public Account getAccount(AccountType accountType, OmnibusAccount omnibusAccount\n return (Account) q.uniqueResult();\n }\n \n+ @Override\n+ public Account loadOpsAccountForACHFI(AccountType accountType, FinancialInstitution fi) {\n+ if (fi == null || fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.BROKERAGE)) {\n+ throw new IllegalArgumentException(\n+ \"You must specify the omnibus account if trying to load brokerage accounts, passed fi was \" + fi\n+ + \" and passed accountType was \" + accountType);\n+ }\n+ Validate.notNull(accountType, \"You must specify which accountType to load\");\n+ if (fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.ACH)) {\n+ if (!(accountType.equals(AccountType.ADVISORY_FEES) || accountType.equals(AccountType.OPERATIONAL_CHARGES)\n+ || accountType.equals(AccountType.MICRO_VERIFICATIONS) || accountType.equals(AccountType.MTG_OPS))) {\n+ throw new IllegalArgumentException(\n+ \"You cannot load an account of this type without specifing the omnibus account for account type \"","path":"src\/main\/java\/com\/betterment\/dao\/account\/impl\/AccountDAOImpl.java","position":null,"original_position":33,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"also maybe pull AccountType.ADVISORY_FEES, AccountType.MICRO_VERIFICATIONS etc, into a HashSet called something like, ```opsSpecificAccountTypes``` to make things a little more readable. i.e, ```if (opsSpecificAccountTypes.contains(accountType))``` instead of the long if statement","created_at":"2013-10-03T21:06:53Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754245","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754245"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754245"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754341","id":6754341,"diff_hunk":"@@ -425,4 +426,30 @@ public Account getAccount(AccountType accountType, OmnibusAccount omnibusAccount\n return (Account) q.uniqueResult();\n }\n \n+ @Override\n+ public Account loadOpsAccountForACHFI(AccountType accountType, FinancialInstitution fi) {\n+ if (fi == null || fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.BROKERAGE)) {\n+ throw new IllegalArgumentException(\n+ \"You must specify the omnibus account if trying to load brokerage accounts, passed fi was \" + fi\n+ + \" and passed accountType was \" + accountType);\n+ }\n+ Validate.notNull(accountType, \"You must specify which accountType to load\");\n+ if (fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.ACH)) {\n+ if (!(accountType.equals(AccountType.ADVISORY_FEES) || accountType.equals(AccountType.OPERATIONAL_CHARGES)\n+ || accountType.equals(AccountType.MICRO_VERIFICATIONS) || accountType.equals(AccountType.MTG_OPS))) {\n+ throw new IllegalArgumentException(\n+ \"You cannot load an account of this type without specifing the omnibus account for account type \"","path":"src\/main\/java\/com\/betterment\/dao\/account\/impl\/AccountDAOImpl.java","position":null,"original_position":33,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"still going back and forth on this, but maybe we separate out ACH providers versus brokerages somehow. in general, really not a fan of having constraints on the arguments that can be passed into a method if they're anything more than null checks. ","created_at":"2013-10-03T21:09:44Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754341","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754341"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754341"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754401","id":6754401,"diff_hunk":"@@ -425,4 +426,30 @@ public Account getAccount(AccountType accountType, OmnibusAccount omnibusAccount\n return (Account) q.uniqueResult();\n }\n \n+ @Override\n+ public Account loadOpsAccountForACHFI(AccountType accountType, FinancialInstitution fi) {\n+ if (fi == null || fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.BROKERAGE)) {\n+ throw new IllegalArgumentException(\n+ \"You must specify the omnibus account if trying to load brokerage accounts, passed fi was \" + fi\n+ + \" and passed accountType was \" + accountType);\n+ }\n+ Validate.notNull(accountType, \"You must specify which accountType to load\");\n+ if (fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.ACH)) {\n+ if (!(accountType.equals(AccountType.ADVISORY_FEES) || accountType.equals(AccountType.OPERATIONAL_CHARGES)\n+ || accountType.equals(AccountType.MICRO_VERIFICATIONS) || accountType.equals(AccountType.MTG_OPS))) {\n+ throw new IllegalArgumentException(\n+ \"You cannot load an account of this type without specifing the omnibus account for account type \"\n+ + accountType + \" for financial institution \" + fi);\n+ }\n+ }\n+ Query q = getSession()\n+ .createSQLQuery(\n+ \"select a.* from Accounts a join InstitutionalAccounts ia on ia.accountID=a.id where accountTypeID = :accountTypeID and closedDateTime is null and ia.financialInstitutionID=:institutionID\")","path":"src\/main\/java\/com\/betterment\/dao\/account\/impl\/AccountDAOImpl.java","position":null,"original_position":39,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"completely nit-picking here, but maybe qualify accountTypeID and closedDateTime. i.e, ```a.accountTypeID``` and ```a.closedDateTime``` ","created_at":"2013-10-03T21:12:07Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754401","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754401"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754401"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754425","id":6754425,"diff_hunk":"@@ -425,4 +426,30 @@ public Account getAccount(AccountType accountType, OmnibusAccount omnibusAccount\n return (Account) q.uniqueResult();\n }\n \n+ @Override\n+ public Account loadOpsAccountForACHFI(AccountType accountType, FinancialInstitution fi) {\n+ if (fi == null || fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.BROKERAGE)) {\n+ throw new IllegalArgumentException(\n+ \"You must specify the omnibus account if trying to load brokerage accounts, passed fi was \" + fi\n+ + \" and passed accountType was \" + accountType);\n+ }\n+ Validate.notNull(accountType, \"You must specify which accountType to load\");\n+ if (fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.ACH)) {\n+ if (!(accountType.equals(AccountType.ADVISORY_FEES) || accountType.equals(AccountType.OPERATIONAL_CHARGES)\n+ || accountType.equals(AccountType.MICRO_VERIFICATIONS) || accountType.equals(AccountType.MTG_OPS))) {\n+ throw new IllegalArgumentException(\n+ \"You cannot load an account of this type without specifing the omnibus account for account type \"\n+ + accountType + \" for financial institution \" + fi);\n+ }\n+ }\n+ Query q = getSession()\n+ .createSQLQuery(\n+ \"select a.* from Accounts a join InstitutionalAccounts ia on ia.accountID=a.id where accountTypeID = :accountTypeID and closedDateTime is null and ia.financialInstitutionID=:institutionID\")\n+ .addEntity(Account.class);\n+\n+ q.setCharacter(\"accountTypeID\", accountType.getId());\n+ q.setParameter(\"institutionID\", fi.getId());\n+ q.setMaxResults(1);","path":"src\/main\/java\/com\/betterment\/dao\/account\/impl\/AccountDAOImpl.java","position":null,"original_position":44,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"i think we want this to blow up if there isn't a unique result?","created_at":"2013-10-03T21:12:45Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754425","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754425"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754425"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754527","id":6754527,"diff_hunk":"@@ -726,37 +721,48 @@ public Account getOmnibusClearingChargesCashAccountFromOmnibusAccount(OmnibusAcc\n \/** Ops Accounts **\/\n \n @Override\n- public Account getOpsProprietaryCashAccountFromUserAccount(Account userAccount) {\n- if (userAccount.isTypeOf(AccountType.MTG_OPS)) {\n+ public Account getACHOpsAccountFromChildIOATByType(UserTransaction userTxn, AccountType type) {","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/AccountServiceImpl.java","position":null,"original_position":18,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"nit-picking and entirely personal preference here, but i feel like the \"ByType\" portion of the method name is just extra noise given that you're passing it in as a parameter.","created_at":"2013-10-03T21:16:24Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754527","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6754527"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6754527"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758269","id":6758269,"diff_hunk":"@@ -425,4 +426,30 @@ public Account getAccount(AccountType accountType, OmnibusAccount omnibusAccount\n return (Account) q.uniqueResult();\n }\n \n+ @Override\n+ public Account loadOpsAccountForACHFI(AccountType accountType, FinancialInstitution fi) {\n+ if (fi == null || fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.BROKERAGE)) {\n+ throw new IllegalArgumentException(\n+ \"You must specify the omnibus account if trying to load brokerage accounts, passed fi was \" + fi\n+ + \" and passed accountType was \" + accountType);\n+ }\n+ Validate.notNull(accountType, \"You must specify which accountType to load\");\n+ if (fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.ACH)) {\n+ if (!(accountType.equals(AccountType.ADVISORY_FEES) || accountType.equals(AccountType.OPERATIONAL_CHARGES)\n+ || accountType.equals(AccountType.MICRO_VERIFICATIONS) || accountType.equals(AccountType.MTG_OPS))) {\n+ throw new IllegalArgumentException(\n+ \"You cannot load an account of this type without specifing the omnibus account for account type \"","path":"src\/main\/java\/com\/betterment\/dao\/account\/impl\/AccountDAOImpl.java","position":null,"original_position":33,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"I agree and this should go on the AccountType object...\r\n\r\n\r\nOn Thu, Oct 3, 2013 at 5:06 PM, Mike Matsui wrote:\r\n\r\n> In src\/main\/java\/com\/betterment\/dao\/account\/impl\/AccountDAOImpl.java:\r\n>\r\n> > @@ -425,4 +426,30 @@ public Account getAccount(AccountType accountType, OmnibusAccount omnibusAccount\r\n> > return (Account) q.uniqueResult();\r\n> > }\r\n> >\r\n> > + @Override\r\n> > + public Account loadOpsAccountForACHFI(AccountType accountType, FinancialInstitution fi) {\r\n> > + if (fi == null || fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.BROKERAGE)) {\r\n> > + throw new IllegalArgumentException(\r\n> > + \"You must specify the omnibus account if trying to load brokerage accounts, passed fi was \" + fi\r\n> > + + \" and passed accountType was \" + accountType);\r\n> > + }\r\n> > + Validate.notNull(accountType, \"You must specify which accountType to load\");\r\n> > + if (fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.ACH)) {\r\n> > + if (!(accountType.equals(AccountType.ADVISORY_FEES) || accountType.equals(AccountType.OPERATIONAL_CHARGES)\r\n> > + || accountType.equals(AccountType.MICRO_VERIFICATIONS) || accountType.equals(AccountType.MTG_OPS))) {\r\n> > + throw new IllegalArgumentException(\r\n> > + \"You cannot load an account of this type without specifing the omnibus account for account type \"\r\n>\r\n> also maybe pull AccountType.ADVISORY_FEES, AccountType.MICRO_VERIFICATIONS\r\n> etc, into a HashSet called something like, opsSpecificAccountTypes to\r\n> make things a little more readable. i.e, if\r\n> (opsSpecificAccountTypes.contains(accountType)) instead of the long if\r\n> statement\r\n>\r\n> \u2014\r\n> Reply to this email directly or view it on GitHub\r\n> .\r\n>\r\n\r\n\r\n\r\n-- \r\n [image: Betterment]*Yuriy Goldman |* Engineer at\r\nBetterment.com |\r\nFollow us on Twitter and\r\nFacebook\r\ncontact | yuriy@betterment.com - Office: 212.228.1328 - Mobile: 917.617.3670","created_at":"2013-10-04T00:12:47Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758269","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758269"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758269"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758300","id":6758300,"diff_hunk":"@@ -425,4 +426,30 @@ public Account getAccount(AccountType accountType, OmnibusAccount omnibusAccount\n return (Account) q.uniqueResult();\n }\n \n+ @Override\n+ public Account loadOpsAccountForACHFI(AccountType accountType, FinancialInstitution fi) {\n+ if (fi == null || fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.BROKERAGE)) {\n+ throw new IllegalArgumentException(\n+ \"You must specify the omnibus account if trying to load brokerage accounts, passed fi was \" + fi\n+ + \" and passed accountType was \" + accountType);\n+ }\n+ Validate.notNull(accountType, \"You must specify which accountType to load\");\n+ if (fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.ACH)) {\n+ if (!(accountType.equals(AccountType.ADVISORY_FEES) || accountType.equals(AccountType.OPERATIONAL_CHARGES)\n+ || accountType.equals(AccountType.MICRO_VERIFICATIONS) || accountType.equals(AccountType.MTG_OPS))) {\n+ throw new IllegalArgumentException(\n+ \"You cannot load an account of this type without specifing the omnibus account for account type \"\n+ + accountType + \" for financial institution \" + fi);\n+ }\n+ }\n+ Query q = getSession()\n+ .createSQLQuery(\n+ \"select a.* from Accounts a join InstitutionalAccounts ia on ia.accountID=a.id where accountTypeID = :accountTypeID and closedDateTime is null and ia.financialInstitutionID=:institutionID\")","path":"src\/main\/java\/com\/betterment\/dao\/account\/impl\/AccountDAOImpl.java","position":null,"original_position":39,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"i think this is not nit-picking but a good practice - if we ever add\r\nclosedDateTime to Account, query will be ambiguous and will break - why\r\nleave yourself open for that.\r\n\r\n\r\nOn Thu, Oct 3, 2013 at 5:12 PM, Mike Matsui wrote:\r\n\r\n> In src\/main\/java\/com\/betterment\/dao\/account\/impl\/AccountDAOImpl.java:\r\n>\r\n> > + throw new IllegalArgumentException(\r\n> > + \"You must specify the omnibus account if trying to load brokerage accounts, passed fi was \" + fi\r\n> > + + \" and passed accountType was \" + accountType);\r\n> > + }\r\n> > + Validate.notNull(accountType, \"You must specify which accountType to load\");\r\n> > + if (fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.ACH)) {\r\n> > + if (!(accountType.equals(AccountType.ADVISORY_FEES) || accountType.equals(AccountType.OPERATIONAL_CHARGES)\r\n> > + || accountType.equals(AccountType.MICRO_VERIFICATIONS) || accountType.equals(\r\n> AccountType.MTG_OPS))) {\r\n> > + throw new IllegalArgumentException(\r\n> > + \"You cannot load an account of this type without specifing the omnibus account for account type \"\r\n> > + + accountType + \" for financial institution \" + fi);\r\n> > + }\r\n> > + }\r\n> > + Query q = getSession()\r\n> > + .createSQLQuery(\r\n> > + \"select a.* from Accounts a join InstitutionalAccounts ia on ia.accountID=a.id where accountTypeID = :accountTypeID and closedDateTime is null and ia.financialInstitutionID=:institutionID\")\r\n>\r\n> completely nit-picking here, but maybe qualify accountTypeID and\r\n> closedDateTime. i.e, a.accountTypeID and a.closedDateTime\r\n>\r\n> \u2014\r\n> Reply to this email directly or view it on GitHub\r\n> .\r\n>\r\n\r\n\r\n\r\n-- \r\n [image: Betterment]*Yuriy Goldman |* Engineer at\r\nBetterment.com |\r\nFollow us on Twitter and\r\nFacebook\r\ncontact | yuriy@betterment.com - Office: 212.228.1328 - Mobile: 917.617.3670","created_at":"2013-10-04T00:14:13Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758300","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758300"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758300"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758326","id":6758326,"diff_hunk":"@@ -726,37 +721,48 @@ public Account getOmnibusClearingChargesCashAccountFromOmnibusAccount(OmnibusAcc\n \/** Ops Accounts **\/\n \n @Override\n- public Account getOpsProprietaryCashAccountFromUserAccount(Account userAccount) {\n- if (userAccount.isTypeOf(AccountType.MTG_OPS)) {\n+ public Account getACHOpsAccountFromChildIOATByType(UserTransaction userTxn, AccountType type) {","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/AccountServiceImpl.java","position":null,"original_position":18,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"+1","created_at":"2013-10-04T00:16:09Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758326","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758326"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758326"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758334","id":6758334,"diff_hunk":"@@ -726,37 +721,48 @@ public Account getOmnibusClearingChargesCashAccountFromOmnibusAccount(OmnibusAcc\n \/** Ops Accounts **\/\n \n @Override\n- public Account getOpsProprietaryCashAccountFromUserAccount(Account userAccount) {\n- if (userAccount.isTypeOf(AccountType.MTG_OPS)) {\n+ public Account getACHOpsAccountFromChildIOATByType(UserTransaction userTxn, AccountType type) {\n+ Validate.notNull(userTxn, \"User Transaction cannot be null\");\n+ Validate.notNull(type, \"Account Type must be specified\");\n+ Account userAccount = userTxn.getAccount();\n+ if (userAccount.isTypeOf(type)) {\n return userAccount;\n }\n- return getAccountFromOmnibusAccountType(AccountType.MTG_OPS, omnibusAccountService.getOpsOmnibusAccount());\n- }\n-\n- @Override\n- public Account getOpsMicroVerificationCashAccountFromUserAccount(Account userAccount) {\n- if (userAccount.isTypeOf(AccountType.MICRO_VERIFICATIONS)) {\n- return userAccount;\n+ IndividualOmnibusAccountTransaction ioat = ioatService\n+ .getIndividualOmnibusAccountTransactionByUserTransaction(userTxn);\n+ if (ioat == null) {\n+ log.warn(\"No ioat found for user txn: \" + userTxn.getId());\n+ throw new IllegalArgumentException(\n+ \" There is no ioat for this user transaction so we cannot get the ops account for it. UserTxn.id = \"\n+ + userTxn.getId());\n }\n- return getAccountFromOmnibusAccountType(AccountType.MICRO_VERIFICATIONS,\n- omnibusAccountService.getOpsOmnibusAccount());\n+ FinancialInstitution achFI = ioat.getFinancialInstitutionOfType(FinancialInstitutionType.ACH);","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/AccountServiceImpl.java","position":42,"original_position":42,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"nice","created_at":"2013-10-04T00:16:30Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758334","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758334"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758334"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758346","id":6758346,"diff_hunk":"@@ -726,37 +721,48 @@ public Account getOmnibusClearingChargesCashAccountFromOmnibusAccount(OmnibusAcc\n \/** Ops Accounts **\/\n \n @Override\n- public Account getOpsProprietaryCashAccountFromUserAccount(Account userAccount) {\n- if (userAccount.isTypeOf(AccountType.MTG_OPS)) {\n+ public Account getACHOpsAccountFromChildIOATByType(UserTransaction userTxn, AccountType type) {\n+ Validate.notNull(userTxn, \"User Transaction cannot be null\");\n+ Validate.notNull(type, \"Account Type must be specified\");\n+ Account userAccount = userTxn.getAccount();\n+ if (userAccount.isTypeOf(type)) {\n return userAccount;\n }\n- return getAccountFromOmnibusAccountType(AccountType.MTG_OPS, omnibusAccountService.getOpsOmnibusAccount());\n- }\n-\n- @Override\n- public Account getOpsMicroVerificationCashAccountFromUserAccount(Account userAccount) {\n- if (userAccount.isTypeOf(AccountType.MICRO_VERIFICATIONS)) {\n- return userAccount;\n+ IndividualOmnibusAccountTransaction ioat = ioatService\n+ .getIndividualOmnibusAccountTransactionByUserTransaction(userTxn);\n+ if (ioat == null) {\n+ log.warn(\"No ioat found for user txn: \" + userTxn.getId());\n+ throw new IllegalArgumentException(\n+ \" There is no ioat for this user transaction so we cannot get the ops account for it. UserTxn.id = \"\n+ + userTxn.getId());\n }\n- return getAccountFromOmnibusAccountType(AccountType.MICRO_VERIFICATIONS,\n- omnibusAccountService.getOpsOmnibusAccount());\n+ FinancialInstitution achFI = ioat.getFinancialInstitutionOfType(FinancialInstitutionType.ACH);\n+ Validate.notNull(\"The ach financial institution cannot be null otherwise we do not know which ops account to load for ioat id \"\n+ + ioat.getId());\n+ return loadOpsAccountForACHFI(type, achFI);\n }\n \n @Override\n- public Account getOpsBankingChargesCashAccountFromUserAccount(Account userAccount) {\n- if (userAccount.isTypeOf(AccountType.OPERATIONAL_CHARGES)) {\n- return userAccount;\n- }\n- return getAccountFromOmnibusAccountType(AccountType.OPERATIONAL_CHARGES,\n- omnibusAccountService.getOpsOmnibusAccount());\n- }\n+ public Account getACHOpsAccountFromChildACHTransactionByType(UserTransaction userTxn, AccountType type) {\n+ Account associatedAccount = userTxn.getAccount();\n \n- @Override\n- public Account getOpsAdvisoryFeesCashAccountFromUserAccount(Account userAccount) {\n- if (userAccount.isTypeOf(AccountType.ADVISORY_FEES)) {\n- return userAccount;\n+ if (associatedAccount.isTypeOf(type)) {\n+ return associatedAccount;\n }\n- return getAccountFromOmnibusAccountType(AccountType.ADVISORY_FEES, userAccount.getOmnibusAccount());\n+ List associatedTransaction = achTransactionDAO.getACHTransactionsForParentTransaction(userTxn);","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/AccountServiceImpl.java","position":null,"original_position":67,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"the looping here is unnecessary complexity - add a method to achTransactionDAO to vie you but one ACH child.","created_at":"2013-10-04T00:17:25Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758346","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758346"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758346"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758349","id":6758349,"diff_hunk":"@@ -200,7 +201,7 @@ public Account apply(UserTransaction userTxn) {\n }\n };\n \n- \/** TD ACH ACCOUNT FUNCTIONS **\/","path":"src\/main\/java\/com\/betterment\/service\/cashtracking\/impl\/DualEntryRulesEngine.java","position":12,"original_position":12,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"nice","created_at":"2013-10-04T00:17:39Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758349","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758349"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758349"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758355","id":6758355,"diff_hunk":"@@ -215,32 +216,46 @@ public Account apply(UserTransaction userTxn) {\n }\n };\n \n- \/** TD OPS ACCOUNT FUNCTIONS **\/\n- final private Function externalTDOpsAccountFunction = new Function() {\n+ \/** OPS ACCOUNT FUNCTIONS **\/\n+ final private Function externalOpsAccountFunction = new Function() {\n @Override\n public Account apply(UserTransaction userTxn) {\n- return accountService.getOpsProprietaryCashAccountFromUserAccount(userTxn.getAccount());\n+ return accountService.getACHOpsAccountFromChildACHTransactionByType(userTxn, AccountType.MTG_OPS);\n }\n };\n \n- final private Function internalTDMicroVerificationsOpsAccountFunction = new Function() {\n+ final private Function externalOpsAccountFromIOATFunction = new Function() {\n @Override\n public Account apply(UserTransaction userTxn) {\n- return accountService.getOpsMicroVerificationCashAccountFromUserAccount(userTxn.getAccount());\n+ return accountService.getACHOpsAccountFromChildIOATByType(userTxn, AccountType.MTG_OPS);\n }\n };\n \n- final private Function internalTDBankingChargesOpsAccountFunction = new Function() {\n+ final private Function internalMicroVerificationsOpsAccountFunction = new Function() {","path":"src\/main\/java\/com\/betterment\/service\/cashtracking\/impl\/DualEntryRulesEngine.java","position":42,"original_position":42,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"nice","created_at":"2013-10-04T00:17:53Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758355","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758355"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758355"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758373","id":6758373,"diff_hunk":"@@ -189,6 +189,7 @@ public void markACHTxnSentAndTryToPost(final Long achTxnId, final ACHProcessorSe\n \n if (ach.getAchProvider() == null) {\n ach.setAchProvider(financialInstitutionService.getFI(achProcessorSettings.getACHProvider()));\n+ achTransactionService.save(ach);","path":"src\/main\/java\/com\/betterment\/service\/transaction\/impl\/ACHManagerImpl.java","position":4,"original_position":4,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"nice","created_at":"2013-10-04T00:18:49Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758373","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758373"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758373"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758381","id":6758381,"diff_hunk":"@@ -11,7 +11,7 @@\n \t\t\t\n \t\t<\/id>\n \t\t\n-\t\t\n+\t\t","path":"src\/main\/resources\/hbm\/institution\/InstitutionalAccount.hbm.xml","position":5,"original_position":5,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"why do we want this to be nullable?","created_at":"2013-10-04T00:19:07Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758381","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758381"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758381"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758385","id":6758385,"diff_hunk":"@@ -1,47 +1,153 @@\n package com.betterment.service.account;","path":"src\/test\/java\/com\/betterment\/service\/account\/AccountServiceTest.java","position":1,"original_position":1,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":":+1: unit test!","created_at":"2013-10-04T00:19:39Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758385","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758385"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758385"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758472","id":6758472,"diff_hunk":"@@ -425,4 +426,30 @@ public Account getAccount(AccountType accountType, OmnibusAccount omnibusAccount\n return (Account) q.uniqueResult();\n }\n \n+ @Override\n+ public Account loadOpsAccountForACHFI(AccountType accountType, FinancialInstitution fi) {\n+ if (fi == null || fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.BROKERAGE)) {\n+ throw new IllegalArgumentException(\n+ \"You must specify the omnibus account if trying to load brokerage accounts, passed fi was \" + fi\n+ + \" and passed accountType was \" + accountType);\n+ }\n+ Validate.notNull(accountType, \"You must specify which accountType to load\");\n+ if (fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.ACH)) {\n+ if (!(accountType.equals(AccountType.ADVISORY_FEES) || accountType.equals(AccountType.OPERATIONAL_CHARGES)\n+ || accountType.equals(AccountType.MICRO_VERIFICATIONS) || accountType.equals(AccountType.MTG_OPS))) {\n+ throw new IllegalArgumentException(\n+ \"You cannot load an account of this type without specifing the omnibus account for account type \"","path":"src\/main\/java\/com\/betterment\/dao\/account\/impl\/AccountDAOImpl.java","position":null,"original_position":33,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"also, @matsuimp maybe a solution for the cumbersome FI validation is to generalize this method a bit - why don't we just do loadOpsAccount(AccountType, FI). If given FI does not have an account of given type, we return null. The caller should worry about the rest...","created_at":"2013-10-04T00:25:20Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758472","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758472"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758472"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758539","id":6758539,"diff_hunk":"@@ -647,6 +651,13 @@ protected BankAccount createTestBankAccount(User user) {\n return ba;\r\n }\r\n \r\n+ public FinancialInstitution createTestFI(String firmID, FinancialInstitutionEnum fiEnum,\r","path":"src\/test\/java\/com\/betterment\/AbstractTestCase.java","position":null,"original_position":15,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"If my memory serves me, this is redundant functionality - there should be a FIBuilder in our test package. In general, we should start moving toward the Builder approach for fixture data. ","created_at":"2013-10-04T00:29:36Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758539","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758539"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758539"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758563","id":6758563,"diff_hunk":"@@ -7,6 +7,7 @@\n import org.mockito.Mockito;","path":"src\/test\/java\/com\/betterment\/service\/cashtracking\/impl\/DualEntryRuleEngineTest.java","position":1,"original_position":1,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"Given our production bugs around Micro-Deposits and Fees, it would be a fail to not get some unit tests in place for such txn types...","created_at":"2013-10-04T00:31:01Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758563","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758563"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758563"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758870","id":6758870,"diff_hunk":"@@ -11,7 +11,7 @@\n \t\t\t\n \t\t<\/id>\n \t\t\n-\t\t\n+\t\t","path":"src\/main\/resources\/hbm\/institution\/InstitutionalAccount.hbm.xml","position":5,"original_position":5,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"we needed a way to tie records in the Accounts table back that would have no inst. identifier to a financial institution. in other words, we are tying non-external accounts back to a financial institution. going this route seemed like the least of all evils (versus creating a new table or hard coding values).","created_at":"2013-10-04T00:53:51Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758870","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6758870"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6758870"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6774937","id":6774937,"diff_hunk":"@@ -103,8 +103,13 @@ protected boolean processOptions() throws Exception {\n }\n \n acctId = Long.parseLong(commandLine.getOptionValue(ACCOUNT_OPT));\n- bankAcctId = Long.parseLong(commandLine.getOptionValue(BANK_ACCOUNT_OPT));\n- institutionalIdentifier = commandLine.getOptionValue(INSTITUTIONAL_IDENTIFIER);\n+ if (commandLine.hasOption(BANK_ACCOUNT_OPT)) {\n+ bankAcctId = Long.parseLong(commandLine.getOptionValue(BANK_ACCOUNT_OPT));\n+ institutionalIdentifier = commandLine.getOptionValue(INSTITUTIONAL_IDENTIFIER);\n+ } else {","path":"src\/main\/java\/com\/betterment\/batch\/institution\/InstitutionalAccountCLI.java","position":null,"original_position":24,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ysoussov","id":2412644,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/736ab39f31a1358b82359f2f1f301d14?d=https%3A%2F%2Fidenticons.github.com%2F210265368bcd89e5a39556b7e2572b59.png","gravatar_id":"736ab39f31a1358b82359f2f1f301d14","url":"https:\/\/api.github.com\/users\/ysoussov","html_url":"https:\/\/github.com\/ysoussov","followers_url":"https:\/\/api.github.com\/users\/ysoussov\/followers","following_url":"https:\/\/api.github.com\/users\/ysoussov\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ysoussov\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ysoussov\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ysoussov\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ysoussov\/orgs","repos_url":"https:\/\/api.github.com\/users\/ysoussov\/repos","events_url":"https:\/\/api.github.com\/users\/ysoussov\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ysoussov\/received_events","type":"User"},"body":"fair point, fixed","created_at":"2013-10-04T18:09:31Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6774937","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6774937"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6774937"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6774978","id":6774978,"diff_hunk":"@@ -157,9 +166,10 @@ public boolean equals(Object obj) {\n \n @Override\n public String toString() {\n- return \"InstitutionalAccount [financialInstitution=\" + (financialInstitution != null ? financialInstitution.getInstitution() : \"null\") + \", sweep=\"\n- + sweep + \", accountNumber=\" + getRedactedAccountNumber() + \", account=\" + account.getId()\n- + \", bankAccount=\" + bankAccount.getId() + \", createdDateTime=\" + createdDateTime\n+ return \"InstitutionalAccount [financialInstitution=\"\n+ + (financialInstitution != null ? financialInstitution.getInstitution() : \"null\") + \", sweep=\" + sweep","path":"src\/main\/java\/com\/betterment\/common\/bo\/institution\/InstitutionalAccount.java","position":57,"original_position":57,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"ysoussov","id":2412644,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/736ab39f31a1358b82359f2f1f301d14?d=https%3A%2F%2Fidenticons.github.com%2F210265368bcd89e5a39556b7e2572b59.png","gravatar_id":"736ab39f31a1358b82359f2f1f301d14","url":"https:\/\/api.github.com\/users\/ysoussov","html_url":"https:\/\/github.com\/ysoussov","followers_url":"https:\/\/api.github.com\/users\/ysoussov\/followers","following_url":"https:\/\/api.github.com\/users\/ysoussov\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ysoussov\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ysoussov\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ysoussov\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ysoussov\/orgs","repos_url":"https:\/\/api.github.com\/users\/ysoussov\/repos","events_url":"https:\/\/api.github.com\/users\/ysoussov\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ysoussov\/received_events","type":"User"},"body":"Why do you think that this causes financial institution to string?","created_at":"2013-10-04T18:10:34Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6774978","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6774978"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6774978"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6775064","id":6775064,"diff_hunk":"@@ -726,37 +721,48 @@ public Account getOmnibusClearingChargesCashAccountFromOmnibusAccount(OmnibusAcc\n \/** Ops Accounts **\/\n \n @Override\n- public Account getOpsProprietaryCashAccountFromUserAccount(Account userAccount) {\n- if (userAccount.isTypeOf(AccountType.MTG_OPS)) {\n+ public Account getACHOpsAccountFromChildIOATByType(UserTransaction userTxn, AccountType type) {","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/AccountServiceImpl.java","position":null,"original_position":18,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"the more i think about, if i didn't know what you're trying to do here, i would be awfully confused by the method name. throwing out another suggestion, ```getAchProviderAccountFromUnderlyingIOAT```","created_at":"2013-10-04T18:13:44Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6775064","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6775064"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6775064"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6775209","id":6775209,"diff_hunk":"@@ -425,4 +426,30 @@ public Account getAccount(AccountType accountType, OmnibusAccount omnibusAccount\n return (Account) q.uniqueResult();\n }\n \n+ @Override\n+ public Account loadOpsAccountForACHFI(AccountType accountType, FinancialInstitution fi) {\n+ if (fi == null || fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.BROKERAGE)) {\n+ throw new IllegalArgumentException(\n+ \"You must specify the omnibus account if trying to load brokerage accounts, passed fi was \" + fi\n+ + \" and passed accountType was \" + accountType);\n+ }\n+ Validate.notNull(accountType, \"You must specify which accountType to load\");\n+ if (fi.getType().equals(com.betterment.common.bo.institution.FinancialInstitutionType.ACH)) {\n+ if (!(accountType.equals(AccountType.ADVISORY_FEES) || accountType.equals(AccountType.OPERATIONAL_CHARGES)\n+ || accountType.equals(AccountType.MICRO_VERIFICATIONS) || accountType.equals(AccountType.MTG_OPS))) {\n+ throw new IllegalArgumentException(\n+ \"You cannot load an account of this type without specifing the omnibus account for account type \"","path":"src\/main\/java\/com\/betterment\/dao\/account\/impl\/AccountDAOImpl.java","position":null,"original_position":33,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":":+1: ","created_at":"2013-10-04T18:18:00Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6775209","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6775209"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6775209"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6775256","id":6775256,"diff_hunk":"@@ -215,32 +216,46 @@ public Account apply(UserTransaction userTxn) {\n }\n };\n \n- \/** TD OPS ACCOUNT FUNCTIONS **\/\n- final private Function externalTDOpsAccountFunction = new Function() {\n+ \/** OPS ACCOUNT FUNCTIONS **\/\n+ final private Function externalOpsAccountFunction = new Function() {\n @Override\n public Account apply(UserTransaction userTxn) {\n- return accountService.getOpsProprietaryCashAccountFromUserAccount(userTxn.getAccount());\n+ return accountService.getACHOpsAccountFromChildACHTransactionByType(userTxn, AccountType.MTG_OPS);","path":"src\/main\/java\/com\/betterment\/service\/cashtracking\/impl\/DualEntryRulesEngine.java","position":null,"original_position":28,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":":+1: ","created_at":"2013-10-04T18:19:32Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6775256","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6775256"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6775256"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6775382","id":6775382,"diff_hunk":"@@ -215,32 +216,46 @@ public Account apply(UserTransaction userTxn) {\n }\n };\n \n- \/** TD OPS ACCOUNT FUNCTIONS **\/\n- final private Function externalTDOpsAccountFunction = new Function() {\n+ \/** OPS ACCOUNT FUNCTIONS **\/\n+ final private Function externalOpsAccountFunction = new Function() {\n @Override\n public Account apply(UserTransaction userTxn) {\n- return accountService.getOpsProprietaryCashAccountFromUserAccount(userTxn.getAccount());\n+ return accountService.getACHOpsAccountFromChildACHTransactionByType(userTxn, AccountType.MTG_OPS);\n }\n };\n \n- final private Function internalTDMicroVerificationsOpsAccountFunction = new Function() {\n+ final private Function externalOpsAccountFromIOATFunction = new Function() {\n @Override\n public Account apply(UserTransaction userTxn) {\n- return accountService.getOpsMicroVerificationCashAccountFromUserAccount(userTxn.getAccount());\n+ return accountService.getACHOpsAccountFromChildIOATByType(userTxn, AccountType.MTG_OPS);\n }\n };\n \n- final private Function internalTDBankingChargesOpsAccountFunction = new Function() {\n+ final private Function internalMicroVerificationsOpsAccountFunction = new Function() {\n @Override\n public Account apply(UserTransaction userTxn) {\n- return accountService.getOpsBankingChargesCashAccountFromUserAccount(userTxn.getAccount());\n+ return accountService.getACHOpsAccountFromChildACHTransactionByType(userTxn, AccountType.MICRO_VERIFICATIONS);\n }\n };\n \n- final private Function internalTDAdvisoryFeesOpsAccountFunction = new Function() {\n+ final private Function internalBankingChargesOpsAccountFunction = new Function() {\n @Override\n public Account apply(UserTransaction userTxn) {\n- return accountService.getOpsAdvisoryFeesCashAccountFromUserAccount(userTxn.getAccount());\n+ return accountService.getACHOpsAccountFromChildACHTransactionByType(userTxn, AccountType.OPERATIONAL_CHARGES);\n+ }\n+ };\n+\n+ final private Function internalAdvisoryFeesOpsAccountFunction = new Function() {\n+ @Override\n+ public Account apply(UserTransaction userTxn) {\n+ return accountService.getACHOpsAccountFromChildACHTransactionByType(userTxn, AccountType.ADVISORY_FEES);","path":"src\/main\/java\/com\/betterment\/service\/cashtracking\/impl\/DualEntryRulesEngine.java","position":null,"original_position":62,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"@ygoldman - nothing wrong here, but just curious why we don't just record everything going against the main ops account in the first place? it's like we're creating buckets in the ops accounts for reporting purposes, and that seemingly can be done by joining ledgers back to the user transaction. if we get to the point when we're reconciling the ops account, we would have to sum up all of these separate accounts?","created_at":"2013-10-04T18:23:43Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6775382","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6775382"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6775382"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6775469","id":6775469,"diff_hunk":"@@ -37,10 +37,9 @@ public InstitutionalAccount createInstitution(long acctId, long bankAcctId, Stri\n private void setPropertiesOnInstAccount(long acctId, long bankAcctId, String institutionalIdentifier,\n long financialInstId, AuditTask auditTask, InstitutionalAccount unattachedAccount) {\n Account proposedAccount = accountService.getByAccountID(acctId);\n- \/\/TODO: check for external account?\n Assert.notNull(proposedAccount, \"There is no account matching the passed account id\");\n BankAccount proposedBankAccount = bankAccountService.getByID(bankAcctId);\n- Assert.notNull(proposedBankAccount, \"There is no bank account matching the passed bank account id\");\n+ \/\/ Assert.notNull(proposedBankAccount, \"There is no bank account matching the passed bank account id\");","path":"src\/main\/java\/com\/betterment\/service\/institution\/impl\/InstitutionalAccountServiceImpl.java","position":null,"original_position":8,"commit_id":"b5b39c33c96cceed6a85363d81633868bfa6aa5d","original_commit_id":"363aa18c4b51644a9aab27f993812ed3d77ddddc","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"just kill this line.","created_at":"2013-10-04T18:26:56Z","updated_at":"2013-10-04T22:35:15Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6775469","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6775469"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#discussion_r6775469"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/432"}}}],"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/25721792","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#issuecomment-25721792","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/432","id":25721792,"user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"created_at":"2013-10-04T18:48:36Z","updated_at":"2013-10-04T18:48:36Z","body":"functionally, everything looks pretty good to me. still working on the actual patch (sql) file?"},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/25732553","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/432#issuecomment-25732553","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/432","id":25732553,"user":{"login":"ysoussov","id":2412644,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/736ab39f31a1358b82359f2f1f301d14?d=https%3A%2F%2Fidenticons.github.com%2F210265368bcd89e5a39556b7e2572b59.png","gravatar_id":"736ab39f31a1358b82359f2f1f301d14","url":"https:\/\/api.github.com\/users\/ysoussov","html_url":"https:\/\/github.com\/ysoussov","followers_url":"https:\/\/api.github.com\/users\/ysoussov\/followers","following_url":"https:\/\/api.github.com\/users\/ysoussov\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ysoussov\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ysoussov\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ysoussov\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ysoussov\/orgs","repos_url":"https:\/\/api.github.com\/users\/ysoussov\/repos","events_url":"https:\/\/api.github.com\/users\/ysoussov\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ysoussov\/received_events","type":"User"},"created_at":"2013-10-04T21:51:48Z","updated_at":"2013-10-04T21:51:48Z","body":"accountDaoIMPL-> loadOpsAccountForACHFI - the last remaining item. "}]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/413","id":8743230,"html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/413","diff_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/413.diff","patch_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/413.patch","issue_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/413","number":413,"state":"open","title":"Marketing report fixes","user":{"login":"alederman","id":1158333,"avatar_url":"https:\/\/identicons.github.com\/ea57ab35d9ed3dc2fc98bbd9ab8fc630.png","gravatar_id":null,"url":"https:\/\/api.github.com\/users\/alederman","html_url":"https:\/\/github.com\/alederman","followers_url":"https:\/\/api.github.com\/users\/alederman\/followers","following_url":"https:\/\/api.github.com\/users\/alederman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/alederman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/alederman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/alederman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/alederman\/orgs","repos_url":"https:\/\/api.github.com\/users\/alederman\/repos","events_url":"https:\/\/api.github.com\/users\/alederman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/alederman\/received_events","type":"User"},"body":"* hide referral sources with no activity\r\n* add host to referring urls for users with no source\r\n\r\n@ygoldman ","created_at":"2013-10-01T15:36:17Z","updated_at":"2013-10-01T15:36:17Z","closed_at":null,"merged_at":null,"merge_commit_sha":"eadce04508de2cd67d10bd9c47d7dbd2b6f22665","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/413\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/413\/comments","review_comment_url":"\/repos\/Betterment\/better-core\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/413\/comments","status_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/19542d58bdf8caf9fd8cb62fab592289e5dc4df7","head":{"label":"Betterment:aml\/develop\/marketing-report","ref":"aml\/develop\/marketing-report","sha":"19542d58bdf8caf9fd8cb62fab592289e5dc4df7","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"0a43f7e2f8ef1e67455438681868367054041b94","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/413"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/413"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/413"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/413\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/413\/comments"},"status":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/19542d58bdf8caf9fd8cb62fab592289e5dc4df7"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":0,"review_comments":0,"commits":1,"additions":16,"deletions":37,"changed_files":2,"review_comments_list":[],"comments_list":[]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/404","id":8673474,"html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/404","diff_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/404.diff","patch_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/404.patch","issue_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/404","number":404,"state":"open","title":"Removed hard coded account numbers","user":{"login":"ysoussov","id":2412644,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/736ab39f31a1358b82359f2f1f301d14?d=https%3A%2F%2Fidenticons.github.com%2F210265368bcd89e5a39556b7e2572b59.png","gravatar_id":"736ab39f31a1358b82359f2f1f301d14","url":"https:\/\/api.github.com\/users\/ysoussov","html_url":"https:\/\/github.com\/ysoussov","followers_url":"https:\/\/api.github.com\/users\/ysoussov\/followers","following_url":"https:\/\/api.github.com\/users\/ysoussov\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ysoussov\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ysoussov\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ysoussov\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ysoussov\/orgs","repos_url":"https:\/\/api.github.com\/users\/ysoussov\/repos","events_url":"https:\/\/api.github.com\/users\/ysoussov\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ysoussov\/received_events","type":"User"},"body":"@matsuimp @ygoldman ","created_at":"2013-09-27T19:49:59Z","updated_at":"2013-09-27T20:25:23Z","closed_at":null,"merged_at":null,"merge_commit_sha":"55a40e89f67161e5171b56ce9d7cae617b3237ff","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/404\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/404\/comments","review_comment_url":"\/repos\/Betterment\/better-core\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/404\/comments","status_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/f91f48f59a42d667179be455d7c213c75b0bf46f","head":{"label":"Betterment:ysoussov\/develop\/ach-fi-upgrade","ref":"ysoussov\/develop\/ach-fi-upgrade","sha":"f91f48f59a42d667179be455d7c213c75b0bf46f","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"16beacfbe2b6da85f745aecb9820ac9821466d92","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/404"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/404"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/404"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/404\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/404\/comments"},"status":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/f91f48f59a42d667179be455d7c213c75b0bf46f"}},"merged":false,"mergeable":false,"mergeable_state":"dirty","merged_by":null,"comments":0,"review_comments":4,"commits":2,"additions":171,"deletions":57,"changed_files":12,"review_comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6638383","id":6638383,"diff_hunk":"@@ -176,6 +176,18 @@ public int getBankAccountCount(User user) {\n return ((Number) q.uniqueResult()).intValue();\r\n }\r\n \r\n+ @Override\r\n+ public BankAccount loadByFIAndOmnibus(FinancialInstitution fi, OmnibusAccount oa) {\r\n+ Validate.notNull(fi, \"This method requires an fi to be passed to it\");\r\n+ Validate.notNull(oa, \"This method requires an omnibus account to be passed\");\r\n+ Query q = getSession()\r\n+ .createQuery(\r\n+ \"select ia.bankAccount from InstitutionalAccount ia where ia.financialInstitution = :fi and ia.account.omnibusAccount.id = :oaID\");\r\n+ q.setParameter(\"fi\", fi);\r\n+ q.setParameter(\"oaID\", oa.getId());\r","path":"src\/main\/java\/com\/betterment\/dao\/user\/impl\/BankAccountDAOImpl.java","position":68,"original_position":68,"commit_id":"f91f48f59a42d667179be455d7c213c75b0bf46f","original_commit_id":"f91f48f59a42d667179be455d7c213c75b0bf46f","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"Bank Account DAO should not know about Financial Institutions. I thinks this should move into the fi domain.","created_at":"2013-09-27T20:19:56Z","updated_at":"2013-09-27T20:19:56Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/404#discussion_r6638383","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/404","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6638383"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/404#discussion_r6638383"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/404"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6638431","id":6638431,"diff_hunk":"@@ -159,10 +164,16 @@ private AbstractACHBatchFile buildACHTransferFile(ACHTransactionFilter achTransa\n \/\/BANCORP TODO - we'll want to strategize these at some point\n switch (achProvider.getInstitution()) {\n case BANCORP:\n- achFile = new BancorpACHBatchFile(pendingACHDebits, pendingACHCredits, achProcessorSettings);\n+ achFile = new BancorpACHBatchFile(pendingACHDebits, pendingACHCredits, achProcessorSettings,\n+ bankAccountService.loadByFIAndOmnibus(achProvider, OmnibusAccountEnum.INVESTMENT.bo()),\n+ bankAccountService.loadByFIAndOmnibus(achProvider, OmnibusAccountEnum.IRA.bo()),\n+ bankAccountService.loadByFIAndOmnibus(achProvider, OmnibusAccountEnum.OPS.bo()));\n break;\n case TD:\n- achFile = new TDBankACHBatchFile(pendingACHDebits, pendingACHCredits, achProcessorSettings, report);\n+ achFile = new TDBankACHBatchFile(pendingACHDebits, pendingACHCredits, achProcessorSettings, report,\n+ bankAccountService.loadByFIAndOmnibus(achProvider, OmnibusAccountEnum.INVESTMENT.bo()),\n+ bankAccountService.loadByFIAndOmnibus(achProvider, OmnibusAccountEnum.IRA.bo()),","path":"src\/main\/java\/com\/betterment\/service\/transaction\/impl\/ACHManagerImpl.java","position":47,"original_position":47,"commit_id":"f91f48f59a42d667179be455d7c213c75b0bf46f","original_commit_id":"f91f48f59a42d667179be455d7c213c75b0bf46f","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"Similarly I think this should just call FI service. Let's keep FI functionality to as few services as possible so that concerns are kept apart.","created_at":"2013-09-27T20:22:06Z","updated_at":"2013-09-27T20:22:24Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/404#discussion_r6638431","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/404","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6638431"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/404#discussion_r6638431"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/404"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6638454","id":6638454,"diff_hunk":"@@ -54,10 +55,15 @@\n private final PGPCryptographyUtil pgpCryptographyUtil;\n \n public BancorpACHBatchFile(Collection achTransactionDeposits,\n- Collection achTransactionWithdrawals, ACHProcessorSettings processorSettings) {\n+ Collection achTransactionWithdrawals, ACHProcessorSettings processorSettings,\n+ BankAccount investmentAccount, BankAccount iraAccount, BankAccount opsAccount) {\n super(achTransactionDeposits, achTransactionWithdrawals, processorSettings);\n pgpCryptographyUtil = com.betterment.common.AppContext.getApplicationContext().getBean(\n PGPCryptographyUtil.class);\n+ INV_ACCOUNT_NUM = investmentAccount.getAccountNumber();\n+ IRA_ACCOUNT_NUM = iraAccount.getAccountNumber();\n+ EXPENSES_ACCOUNT_NUM = opsAccount.getAccountNumber();","path":"src\/main\/java\/com\/betterment\/common\/ach\/BancorpACHBatchFile.java","position":35,"original_position":35,"commit_id":"f91f48f59a42d667179be455d7c213c75b0bf46f","original_commit_id":"f91f48f59a42d667179be455d7c213c75b0bf46f","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"turns out we should not be using the account number here --- it should be ```institutionalAccount.getInstitutionalIdentifier()```","created_at":"2013-09-27T20:23:00Z","updated_at":"2013-09-27T20:23:00Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/404#discussion_r6638454","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/404","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6638454"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/404#discussion_r6638454"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/404"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6638509","id":6638509,"diff_hunk":"@@ -37,10 +38,10 @@\n *\/\n public class BancorpACHBatchFile extends AbstractACHBatchFile {","path":"src\/main\/java\/com\/betterment\/common\/ach\/BancorpACHBatchFile.java","position":10,"original_position":10,"commit_id":"f91f48f59a42d667179be455d7c213c75b0bf46f","original_commit_id":"f91f48f59a42d667179be455d7c213c75b0bf46f","user":{"login":"matsuimp","id":1613972,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/f5038f7dbe3c99ae9bd2e96bcae1d442?d=https%3A%2F%2Fidenticons.github.com%2Fa9a24a2ce9dc9158430df4e3fe3bf1df.png","gravatar_id":"f5038f7dbe3c99ae9bd2e96bcae1d442","url":"https:\/\/api.github.com\/users\/matsuimp","html_url":"https:\/\/github.com\/matsuimp","followers_url":"https:\/\/api.github.com\/users\/matsuimp\/followers","following_url":"https:\/\/api.github.com\/users\/matsuimp\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/matsuimp\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/matsuimp\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/matsuimp\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/matsuimp\/orgs","repos_url":"https:\/\/api.github.com\/users\/matsuimp\/repos","events_url":"https:\/\/api.github.com\/users\/matsuimp\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/matsuimp\/received_events","type":"User"},"body":"also kind of feel like these belong in the service layer. you could then have the specific TD and Bancorp impls load and pass their FI's down to ```AbstractACHBatchFile``` and have the AbstractACHBatchFile pick apart the FI for the specific investing, ira, and ops accounts.","created_at":"2013-09-27T20:25:23Z","updated_at":"2013-09-27T20:25:23Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/404#discussion_r6638509","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/404","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6638509"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/404#discussion_r6638509"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/404"}}}],"comments_list":[]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","id":8538748,"html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385","diff_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385.diff","patch_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385.patch","issue_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385","number":385,"state":"open","title":"Updating Portfolio\/Component\/Account balance calculations","user":{"login":"jfairchild","id":1012652,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/7136b77872f8efd11aded1a3fc62c48a?d=https%3A%2F%2Fidenticons.github.com%2F5daa73500c0de987517d3e2cdac44dea.png","gravatar_id":"7136b77872f8efd11aded1a3fc62c48a","url":"https:\/\/api.github.com\/users\/jfairchild","html_url":"https:\/\/github.com\/jfairchild","followers_url":"https:\/\/api.github.com\/users\/jfairchild\/followers","following_url":"https:\/\/api.github.com\/users\/jfairchild\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/jfairchild\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/jfairchild\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/jfairchild\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/jfairchild\/orgs","repos_url":"https:\/\/api.github.com\/users\/jfairchild\/repos","events_url":"https:\/\/api.github.com\/users\/jfairchild\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/jfairchild\/received_events","type":"User"},"body":"PortfolioService methods should not be used for balance calculations any more.\r\n\r\n@gsadowski ","created_at":"2013-09-23T20:56:56Z","updated_at":"2013-09-30T20:21:35Z","closed_at":null,"merged_at":null,"merge_commit_sha":"c9e3f146f24d1d4573223474d7bf1946d194bb93","assignee":{"login":"chauzer","id":1203532,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/1cdbf68a19109f69a35747a1a54b3abf?d=https%3A%2F%2Fidenticons.github.com%2Fe6a3dbddcd150cb68a436b5760faf76d.png","gravatar_id":"1cdbf68a19109f69a35747a1a54b3abf","url":"https:\/\/api.github.com\/users\/chauzer","html_url":"https:\/\/github.com\/chauzer","followers_url":"https:\/\/api.github.com\/users\/chauzer\/followers","following_url":"https:\/\/api.github.com\/users\/chauzer\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/chauzer\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/chauzer\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/chauzer\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/chauzer\/orgs","repos_url":"https:\/\/api.github.com\/users\/chauzer\/repos","events_url":"https:\/\/api.github.com\/users\/chauzer\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/chauzer\/received_events","type":"User"},"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385\/comments","review_comment_url":"\/repos\/Betterment\/better-core\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/385\/comments","status_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/f148cbaf3196f58a876cf75babdb2b05bb90b55f","head":{"label":"Betterment:jeff\/balance-calculations","ref":"jeff\/balance-calculations","sha":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"base":{"label":"Betterment:develop","ref":"develop","sha":"1fdd7ba4ebfb3f3f739003cb5860f8980daf1952","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8756519,"name":"better-core","full_name":"Betterment\/better-core","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-core","description":"core\/batch\/webapp","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/labels{\/name}","created_at":"2013-03-13T16:28:22Z","updated_at":"2013-10-07T05:58:24Z","pushed_at":"2013-10-07T05:49:55Z","git_url":"git:\/\/github.com\/Betterment\/better-core.git","ssh_url":"git@github.com:Betterment\/better-core.git","clone_url":"https:\/\/github.com\/Betterment\/better-core.git","svn_url":"https:\/\/github.com\/Betterment\/better-core","homepage":"","size":239210,"watchers_count":1,"language":"Java","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":2,"mirror_url":null,"open_issues_count":8,"forks":2,"open_issues":8,"watchers":1,"master_branch":"develop","default_branch":"develop"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/385"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/385\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385\/comments"},"status":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/statuses\/f148cbaf3196f58a876cf75babdb2b05bb90b55f"}},"merged":false,"mergeable":false,"mergeable_state":"dirty","merged_by":null,"comments":5,"review_comments":19,"commits":2,"additions":564,"deletions":1078,"changed_files":24,"review_comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6528854","id":6528854,"diff_hunk":"@@ -234,110 +236,33 @@ public BigDecimal getCurrentBalance(long accountID) throws BettermentException {\n public Map getCurrentBalancesByType(long accountID,\r\n List investmentTypes, Map prices) throws BettermentException {\r\n \r\n- Account account = accountService.getByAccountID(accountID);\r\n-\r\n \/* Get current cached prices and latest allocation Change and cash balance (as a check) *\/\r\n final BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n portfolioService.getCashPortfolio());\r\n- BigDecimal adjustedCashBalance = cashBalance;\r\n \r\n- Map balanceByTypeMap = new HashMap();\r\n+ Map balanceByTypeMap = new HashMap<>();\r\n AllocationChange latestAllocationChange = allocationChangeService\r\n .getLatestAllocationChangeIncludingPending(accountID);\r\n \r\n- List accountTransfers = allocationChangeService.getPendingAccountTransfers(account);\r\n-\r\n- \/*\r\n- * We capture portfolios of latest completed allocation change, excluding pending. Any traded amounts of an\r\n- * in-process allocation change will be captured by the cash portfolio and assigned back to their source\r\n- * portfolio\r\n- *\/\r\n- for (InvestmentType iType : investmentTypes) {\r\n- if (InvestmentType.CASH.equals(iType))\r\n- continue;\r\n-\r\n- Portfolio latestPortfolio = portfolioService.getLatestPortfolioExcludingPending(accountID, iType);\r\n+ Map userPositionMap = userPositionService.getLatestPositionsFromCompletedTransaction(latestAllocationChange);\r\n \r\n- BigDecimal balance = userPositionService.getLatestPortfolioBalanceUsingPrices(accountID, latestPortfolio,\r\n- prices);\r\n+ BigDecimal bondPortfolioBalance = BigDecimal.ZERO;\r\n+ BigDecimal stockPortfolioBalance = BigDecimal.ZERO;\r\n+ for (Ticker ticker : userPositionMap.keySet()) {\r\n+ UserPosition userPosition = userPositionMap.get(ticker);\r\n+ InvestmentType investmentType = userPosition.getPortfolio().getType();\r\n \r\n- \/*\r\n- * find pending allocation change if so, look at all portfolios that are in that allocation change that are\r\n- * not in latest portfolio excluding pending, then get latest portfolio balances using prices for that\r\n- * portfolio\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- Portfolio pendingPortfolio = portfolioService.getLatestPortfolioIncludingPending(accountID, iType);\r\n-\r\n- if (pendingPortfolio.getId() != latestPortfolio.getId()) {\r\n- BigDecimal pendingPortfoioBalance = userPositionService.getLatestPortfolioBalanceUsingPrices(\r\n- accountID, pendingPortfolio, prices);\r\n-\r\n- balance = balance.add(pendingPortfoioBalance);\r\n- }\r\n- }\r\n-\r\n- \/\/ If original cash balance is > $0\r\n- if (cashBalance.compareTo(BigDecimal.ZERO) > 0) {\r\n-\r\n- \/*\r\n- * Assign any cash balance according to pending IndividualTrades. A pendingIndividualTrade means that\r\n- * there's an allocationChange in process (which is the only reason we'd have a cash balance as of this\r\n- * writing). The sold shares should be assigned at sold value to the portfolio they came from until the\r\n- * allocationChange is complete.\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- for (IndividualTrade iTrade : individualTradeService\r\n- .getCompletedIndividualTrades(latestAllocationChange)) {\r\n- if (iTrade.getPortfolio().getType().equals(iType)) {\r\n-\r\n- \/*\r\n- * Balances are unsigned so even though these should be share sales, the amountTraded will\r\n- * be positive.\r\n- *\/\r\n- BigDecimal amount = iTrade.getAmountTraded();\r\n- balance = balance.add(amount);\r\n- adjustedCashBalance = adjustedCashBalance.subtract(amount);\r\n- }\r\n- }\r\n- }\r\n-\r\n- for (AllocationChange accountTransfer : accountTransfers) {\r\n- if (accountTransfer.isPending()) {\r\n- for (IndividualTrade iTrade : individualTradeService\r\n- .getCompletedIndividualTrades(accountTransfer)) {\r\n- if (iTrade.getPortfolio().getType().equals(iType)) {\r\n-\r\n- \/*\r\n- * Balances are unsigned so even though these should be share sales, the amountTraded\r\n- * will be positive.\r\n- *\/\r\n- BigDecimal amount = iTrade.getAmountTraded();\r\n- \/\/ balance = balance.add(amount);\r\n- adjustedCashBalance = adjustedCashBalance.subtract(amount);\r\n- }\r\n- }\r\n- for (PositionTransfer pT : userPositionService.getPositionTransfers(accountTransfer)) {\r\n- if (pT.getPortfolio().getType().equals(iType)) {\r\n- BigDecimal amount = pT.getPrice().multiply(pT.getSignedShares());\r\n- balance = balance.subtract(amount);\r\n- }\r\n- }\r\n- }\r\n- }\r\n+ if (investmentType == InvestmentType.STOCKS) {\r\n+ stockPortfolioBalance = stockPortfolioBalance\r\n+ .add(userPosition.getShares().multiply(prices.get(ticker)));\r\n+ } else if(investmentType == InvestmentType.BONDS) {\r\n+ bondPortfolioBalance = bondPortfolioBalance.add(userPosition.getShares().multiply(prices.get(ticker)));\r","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/BalanceServiceImpl.java","position":null,"original_position":125,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"8ab9662ec7d0787697add58eb30d33b5cfa70969","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"I think this userPosition.getShares.multiply(price) line should move to a helper method since it's used everywhere. not sure where to put it though","created_at":"2013-09-23T21:37:42Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6528854","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6528854"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6528854"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6528963","id":6528963,"diff_hunk":"@@ -234,110 +236,33 @@ public BigDecimal getCurrentBalance(long accountID) throws BettermentException {\n public Map getCurrentBalancesByType(long accountID,\r\n List investmentTypes, Map prices) throws BettermentException {\r\n \r\n- Account account = accountService.getByAccountID(accountID);\r\n-\r\n \/* Get current cached prices and latest allocation Change and cash balance (as a check) *\/\r\n final BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n portfolioService.getCashPortfolio());\r\n- BigDecimal adjustedCashBalance = cashBalance;\r\n \r\n- Map balanceByTypeMap = new HashMap();\r\n+ Map balanceByTypeMap = new HashMap<>();\r\n AllocationChange latestAllocationChange = allocationChangeService\r\n .getLatestAllocationChangeIncludingPending(accountID);\r\n \r\n- List accountTransfers = allocationChangeService.getPendingAccountTransfers(account);\r\n-\r\n- \/*\r\n- * We capture portfolios of latest completed allocation change, excluding pending. Any traded amounts of an\r\n- * in-process allocation change will be captured by the cash portfolio and assigned back to their source\r\n- * portfolio\r\n- *\/\r\n- for (InvestmentType iType : investmentTypes) {\r\n- if (InvestmentType.CASH.equals(iType))\r\n- continue;\r\n-\r\n- Portfolio latestPortfolio = portfolioService.getLatestPortfolioExcludingPending(accountID, iType);\r\n+ Map userPositionMap = userPositionService.getLatestPositionsFromCompletedTransaction(latestAllocationChange);\r\n \r\n- BigDecimal balance = userPositionService.getLatestPortfolioBalanceUsingPrices(accountID, latestPortfolio,\r\n- prices);\r\n+ BigDecimal bondPortfolioBalance = BigDecimal.ZERO;\r\n+ BigDecimal stockPortfolioBalance = BigDecimal.ZERO;\r\n+ for (Ticker ticker : userPositionMap.keySet()) {\r\n+ UserPosition userPosition = userPositionMap.get(ticker);\r\n+ InvestmentType investmentType = userPosition.getPortfolio().getType();\r\n \r\n- \/*\r\n- * find pending allocation change if so, look at all portfolios that are in that allocation change that are\r\n- * not in latest portfolio excluding pending, then get latest portfolio balances using prices for that\r\n- * portfolio\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- Portfolio pendingPortfolio = portfolioService.getLatestPortfolioIncludingPending(accountID, iType);\r\n-\r\n- if (pendingPortfolio.getId() != latestPortfolio.getId()) {\r\n- BigDecimal pendingPortfoioBalance = userPositionService.getLatestPortfolioBalanceUsingPrices(\r\n- accountID, pendingPortfolio, prices);\r\n-\r\n- balance = balance.add(pendingPortfoioBalance);\r\n- }\r\n- }\r\n-\r\n- \/\/ If original cash balance is > $0\r\n- if (cashBalance.compareTo(BigDecimal.ZERO) > 0) {\r\n-\r\n- \/*\r\n- * Assign any cash balance according to pending IndividualTrades. A pendingIndividualTrade means that\r\n- * there's an allocationChange in process (which is the only reason we'd have a cash balance as of this\r\n- * writing). The sold shares should be assigned at sold value to the portfolio they came from until the\r\n- * allocationChange is complete.\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- for (IndividualTrade iTrade : individualTradeService\r\n- .getCompletedIndividualTrades(latestAllocationChange)) {\r\n- if (iTrade.getPortfolio().getType().equals(iType)) {\r\n-\r\n- \/*\r\n- * Balances are unsigned so even though these should be share sales, the amountTraded will\r\n- * be positive.\r\n- *\/\r\n- BigDecimal amount = iTrade.getAmountTraded();\r\n- balance = balance.add(amount);\r\n- adjustedCashBalance = adjustedCashBalance.subtract(amount);\r","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/BalanceServiceImpl.java","position":152,"original_position":93,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"8ab9662ec7d0787697add58eb30d33b5cfa70969","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"Seems like some cases may have been lost here when these pieces were removed. The old code is hard to read though","created_at":"2013-09-23T21:40:55Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6528963","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6528963"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6528963"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6529019","id":6529019,"diff_hunk":"@@ -234,110 +236,33 @@ public BigDecimal getCurrentBalance(long accountID) throws BettermentException {\n public Map getCurrentBalancesByType(long accountID,\r\n List investmentTypes, Map prices) throws BettermentException {\r\n \r\n- Account account = accountService.getByAccountID(accountID);\r\n-\r\n \/* Get current cached prices and latest allocation Change and cash balance (as a check) *\/\r\n final BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n portfolioService.getCashPortfolio());\r\n- BigDecimal adjustedCashBalance = cashBalance;\r\n \r\n- Map balanceByTypeMap = new HashMap();\r\n+ Map balanceByTypeMap = new HashMap<>();\r\n AllocationChange latestAllocationChange = allocationChangeService\r\n .getLatestAllocationChangeIncludingPending(accountID);\r\n \r\n- List accountTransfers = allocationChangeService.getPendingAccountTransfers(account);\r\n-\r\n- \/*\r\n- * We capture portfolios of latest completed allocation change, excluding pending. Any traded amounts of an\r\n- * in-process allocation change will be captured by the cash portfolio and assigned back to their source\r\n- * portfolio\r\n- *\/\r\n- for (InvestmentType iType : investmentTypes) {\r\n- if (InvestmentType.CASH.equals(iType))\r\n- continue;\r\n-\r\n- Portfolio latestPortfolio = portfolioService.getLatestPortfolioExcludingPending(accountID, iType);\r\n+ Map userPositionMap = userPositionService.getLatestPositionsFromCompletedTransaction(latestAllocationChange);\r\n \r\n- BigDecimal balance = userPositionService.getLatestPortfolioBalanceUsingPrices(accountID, latestPortfolio,\r\n- prices);\r\n+ BigDecimal bondPortfolioBalance = BigDecimal.ZERO;\r\n+ BigDecimal stockPortfolioBalance = BigDecimal.ZERO;\r\n+ for (Ticker ticker : userPositionMap.keySet()) {\r\n+ UserPosition userPosition = userPositionMap.get(ticker);\r\n+ InvestmentType investmentType = userPosition.getPortfolio().getType();\r\n \r\n- \/*\r\n- * find pending allocation change if so, look at all portfolios that are in that allocation change that are\r\n- * not in latest portfolio excluding pending, then get latest portfolio balances using prices for that\r\n- * portfolio\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- Portfolio pendingPortfolio = portfolioService.getLatestPortfolioIncludingPending(accountID, iType);\r\n-\r\n- if (pendingPortfolio.getId() != latestPortfolio.getId()) {\r\n- BigDecimal pendingPortfoioBalance = userPositionService.getLatestPortfolioBalanceUsingPrices(\r\n- accountID, pendingPortfolio, prices);\r\n-\r\n- balance = balance.add(pendingPortfoioBalance);\r\n- }\r\n- }\r\n-\r\n- \/\/ If original cash balance is > $0\r\n- if (cashBalance.compareTo(BigDecimal.ZERO) > 0) {\r\n-\r\n- \/*\r\n- * Assign any cash balance according to pending IndividualTrades. A pendingIndividualTrade means that\r\n- * there's an allocationChange in process (which is the only reason we'd have a cash balance as of this\r\n- * writing). The sold shares should be assigned at sold value to the portfolio they came from until the\r\n- * allocationChange is complete.\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- for (IndividualTrade iTrade : individualTradeService\r\n- .getCompletedIndividualTrades(latestAllocationChange)) {\r\n- if (iTrade.getPortfolio().getType().equals(iType)) {\r\n-\r\n- \/*\r\n- * Balances are unsigned so even though these should be share sales, the amountTraded will\r\n- * be positive.\r\n- *\/\r\n- BigDecimal amount = iTrade.getAmountTraded();\r\n- balance = balance.add(amount);\r\n- adjustedCashBalance = adjustedCashBalance.subtract(amount);\r","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/BalanceServiceImpl.java","position":152,"original_position":93,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"8ab9662ec7d0787697add58eb30d33b5cfa70969","user":{"login":"jfairchild","id":1012652,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/7136b77872f8efd11aded1a3fc62c48a?d=https%3A%2F%2Fidenticons.github.com%2F5daa73500c0de987517d3e2cdac44dea.png","gravatar_id":"7136b77872f8efd11aded1a3fc62c48a","url":"https:\/\/api.github.com\/users\/jfairchild","html_url":"https:\/\/github.com\/jfairchild","followers_url":"https:\/\/api.github.com\/users\/jfairchild\/followers","following_url":"https:\/\/api.github.com\/users\/jfairchild\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/jfairchild\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/jfairchild\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/jfairchild\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/jfairchild\/orgs","repos_url":"https:\/\/api.github.com\/users\/jfairchild\/repos","events_url":"https:\/\/api.github.com\/users\/jfairchild\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/jfairchild\/received_events","type":"User"},"body":"@gsadowski I agree. This adjustment is used here, but then appears to be disregarded on lines 333-337. Let's go over it.","created_at":"2013-09-23T21:42:47Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6529019","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6529019"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6529019"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6529480","id":6529480,"diff_hunk":"@@ -525,118 +501,57 @@ public void writeConfirmationSummary(ResponseDataNode input, UserTransaction use\n CustomerDocumentSummary documentSummary = new CustomerDocumentSummary();\r\n \r\n Account account = userTransaction.getAccount();\r\n- Long accountID = account.getId();\r\n- DateTime completedDateTime = userTransaction.getCompletedDateTime();\r\n \r\n- List individualTradeList = individualTradeService\r\n- .getCompletedIndividualTrades(userTransaction);\r\n Map transactionPrices = transactionPriceService.getTransactionPrices(userTransaction);\r\n+ Map userPositionMap = userPositionService\r\n+ .getLatestPositionsFromCompletedTransaction(userTransaction);\r\n+ Map previousUserPositionsMap = userPositionService\r\n+ .getLatestPositionsBeforeTransaction(userTransaction);\r\n+ Set allTickers = userPositionMap.keySet();\r\n+ allTickers.addAll(previousUserPositionsMap.keySet());\r\n \r\n- \/*\r\n- * Get portfolios of the last completed allocationChange and, if this is an allocationChange, the portfolios of\r\n- * this allocationChange as well\r\n- *\/\r\n- Set portfoliosOfThisAndLastBefore = portfolioService\r\n- .getPortfoliosOfLastCompletedAllocationChangeBefore(accountID, completedDateTime);\r\n- if (userTransaction.isAllocationChange()) {\r\n- AllocationChange allocationChange = allocationChangeService.load(userTransaction.getId());\r\n- portfoliosOfThisAndLastBefore.addAll(portfolioService.getPortfoliosOfAllocationChange(allocationChange));\r\n- }\r\n+ for (Ticker ticker : allTickers) {\r\n \r\n- \/* For each individualTrade, add to a map of components and shares *\/\r\n- Map componentEndShares = new HashMap();\r\n- Map componentPreviousShares = new HashMap();\r\n- for (Portfolio portfolio : portfoliosOfThisAndLastBefore) {\r","path":"src\/main\/java\/com\/betterment\/service\/document\/impl\/CustomerDocumentWriterServiceImpl.java","position":231,"original_position":213,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"8ab9662ec7d0787697add58eb30d33b5cfa70969","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":":scream_cat: ","created_at":"2013-09-23T22:00:00Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6529480","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6529480"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6529480"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6529573","id":6529573,"diff_hunk":"@@ -525,118 +501,57 @@ public void writeConfirmationSummary(ResponseDataNode input, UserTransaction use\n CustomerDocumentSummary documentSummary = new CustomerDocumentSummary();\r\n \r\n Account account = userTransaction.getAccount();\r\n- Long accountID = account.getId();\r\n- DateTime completedDateTime = userTransaction.getCompletedDateTime();\r\n \r\n- List individualTradeList = individualTradeService\r\n- .getCompletedIndividualTrades(userTransaction);\r\n Map transactionPrices = transactionPriceService.getTransactionPrices(userTransaction);\r\n+ Map userPositionMap = userPositionService\r\n+ .getLatestPositionsFromCompletedTransaction(userTransaction);\r\n+ Map previousUserPositionsMap = userPositionService\r\n+ .getLatestPositionsBeforeTransaction(userTransaction);\r\n+ Set allTickers = userPositionMap.keySet();\r\n+ allTickers.addAll(previousUserPositionsMap.keySet());\r\n \r\n- \/*\r\n- * Get portfolios of the last completed allocationChange and, if this is an allocationChange, the portfolios of\r\n- * this allocationChange as well\r\n- *\/\r\n- Set portfoliosOfThisAndLastBefore = portfolioService\r\n- .getPortfoliosOfLastCompletedAllocationChangeBefore(accountID, completedDateTime);\r\n- if (userTransaction.isAllocationChange()) {\r\n- AllocationChange allocationChange = allocationChangeService.load(userTransaction.getId());\r\n- portfoliosOfThisAndLastBefore.addAll(portfolioService.getPortfoliosOfAllocationChange(allocationChange));\r\n- }\r\n+ for (Ticker ticker : allTickers) {\r\n \r\n- \/* For each individualTrade, add to a map of components and shares *\/\r\n- Map componentEndShares = new HashMap();\r\n- Map componentPreviousShares = new HashMap();\r\n- for (Portfolio portfolio : portfoliosOfThisAndLastBefore) {\r\n- for (Component component : portfolioService.getComponents(portfolio)) {\r\n- Ticker ticker = component.getTicker();\r\n- for (IndividualTrade individualTrade : individualTradeList) {\r\n- if (individualTrade.getTicker() == ticker) {\r\n- if (individualTrade.getPortfolio() == portfolio) {\r\n- BigDecimal endShares = userPositionService\r\n- .getLastPositionSharesBeforeOrIncluding(individualTrade);\r\n- componentEndShares.put(component, endShares);\r\n-\r\n- }\r\n- }\r\n- }\r\n- \/**\r\n- * FIXME Loop through positionTransfers and add IF we don't already have shares via an individualtrade\r\n- * (which comes later in sequence, and so would be the more recent position). This is only necessary in\r\n- * the case where we have a transaction after the one we're writing a confirmation for that has\r\n- * positions before the transaction completes - which is possible, now that complete trade and\r\n- * transaction happen separately\r\n- *\/\r\n- \/*\r\n- * for(PositionTransfer....) { get end shares }\r\n- *\/\r\n- \/** FIXME This method seems right (considers transfers), but should be refactored. *\/\r\n- BigDecimal previousShares = userPositionService.getLastPositionSharesBefore(userTransaction, ticker,\r\n- portfolio);\r\n- componentPreviousShares.put(component, previousShares);\r\n+ InvestmentType investmentType = null;\r\n+\r\n+ BigDecimal endShares = BigDecimal.ZERO;\r\n+ if (userPositionMap.get(ticker) != null) {\r\n+ endShares = userPositionMap.get(ticker).getShares();\r\n+ investmentType = userPositionMap.get(ticker).getPortfolio().getType();\r\n }\r\n- }\r\n \r\n- \/*\r\n- * Get endingBalance by Portfolio based on current and prior Component-Positions & current Ticker-Prices\r\n- *\/\r\n- for (Portfolio portfolio : portfoliosOfThisAndLastBefore) {\r\n- for (Component component : portfolioService.getComponents(portfolio)) {\r\n- Ticker ticker = component.getTicker();\r\n+ BigDecimal previousShares = BigDecimal.ZERO;\r\n+ if (previousUserPositionsMap.get(ticker) != null) {\r\n+ previousShares = previousUserPositionsMap.get(ticker).getShares();\r\n+ investmentType = userPositionMap.get(ticker).getPortfolio().getType();\r\n+ }\r\n+\r\n+ if (endShares.signum() != 0 || previousShares.signum() != 0) {\r\n \r\n \/*\r\n- * If there's an individualTrade, get the linked position share amount; if there's not, get the last\r\n- * shares before the completed time of the userTransaction\r\n- *\/\r\n- \/**\r\n- * Here we want to use end shares if that exists, else get last before, \/\/ And previous shares if that\r\n- * exists, else get last before - not end and previous \/\/ If end exists. JBS - ** I think this is the\r\n- * most important part of the fix regarding portfolio Update Confirmations\r\n+ * If there's a non-zero share balance, we must have a price, so create one if we don't have one already\r\n *\/\r\n- BigDecimal endShares;\r\n- if (componentEndShares.containsKey(component)) {\r\n- endShares = componentEndShares.get(component);\r\n- } else {\r\n- endShares = userPositionService\r\n- .getLastSharesBefore(accountID, ticker, portfolio, completedDateTime);\r\n+ if (!transactionPrices.containsKey(ticker)) {\r\n+ transactionPriceService.createAndSaveTransactionPrice(ticker, marketPrices.get(ticker),\r\n+ userTransaction);\r\n+ transactionPrices.put(ticker, marketPrices.get(ticker));\r\n }\r\n \r\n- BigDecimal previousShares;\r\n- if (componentPreviousShares.containsKey(component)) {\r\n- previousShares = componentPreviousShares.get(component);\r\n+ \/* Get the price and calculate the balance *\/\r\n+ BigDecimal price = transactionPrices.get(ticker);\r\n+ BigDecimal endBalance = RoundingUtils.roundCurrency(endShares.multiply(price));\r\n+ BigDecimal previousBalance = RoundingUtils.roundCurrency(previousShares.multiply(price));\r\n+ log.debug(\"ticker: \" + ticker + \"; endBal: \" + endBalance + \"; prevBal: \" + previousBalance\r\n+ + \"; price: \" + price);\r\n+ \/* Add values to documentSummary *\/\r\n+ if (investmentType != null && investmentType.equals(InvestmentType.STOCKS)) {\r\n+ documentSummary.stockPreviousBalance = documentSummary.stockPreviousBalance.add(previousBalance);\r\n+ documentSummary.stockEndBalance = documentSummary.stockEndBalance.add(endBalance);\r\n } else {\r\n- previousShares = userPositionService.getLastSharesBefore(accountID, ticker, portfolio,\r\n- completedDateTime);\r\n+ documentSummary.bondPreviousBalance = documentSummary.bondPreviousBalance.add(previousBalance);\r\n+ documentSummary.bondEndBalance = documentSummary.bondEndBalance.add(endBalance);\r\n }\r\n \r\n- if (endShares.signum() != 0 || previousShares.signum() != 0) {\r\n-\r\n- \/*\r\n- * If there's a non-zero share balance, we must have a price, so create one if we don't have one\r\n- * already\r\n- *\/\r\n- if (!transactionPrices.containsKey(ticker)) {\r\n- transactionPriceService.createAndSaveTransactionPrice(ticker, marketPrices.get(ticker),\r\n- userTransaction);\r\n- transactionPrices.put(ticker, marketPrices.get(ticker));\r\n- }\r\n-\r\n- \/* Get the price and calculate the balance *\/\r\n- BigDecimal price = transactionPrices.get(ticker);\r\n- BigDecimal endBalance = RoundingUtils.roundCurrency(endShares.multiply(price));\r\n- BigDecimal previousBalance = RoundingUtils.roundCurrency(previousShares.multiply(price));\r\n- log.debug(\"Component: \" + component + \"; endBal: \" + endBalance + \"; prevBal: \" + previousBalance\r\n- + \"; price: \" + price);\r\n- \/* Add values to documentSummary *\/\r\n- if (portfolio.getType().equals(InvestmentType.STOCKS)) {\r\n- documentSummary.stockPreviousBalance = documentSummary.stockPreviousBalance\r\n- .add(previousBalance);\r\n- documentSummary.stockEndBalance = documentSummary.stockEndBalance.add(endBalance);\r\n- } else {\r\n- documentSummary.bondPreviousBalance = documentSummary.bondPreviousBalance.add(previousBalance);\r\n- documentSummary.bondEndBalance = documentSummary.bondEndBalance.add(endBalance);\r\n- }\r\n-\r\n- }\r","path":"src\/main\/java\/com\/betterment\/service\/document\/impl\/CustomerDocumentWriterServiceImpl.java","position":351,"original_position":333,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"8ab9662ec7d0787697add58eb30d33b5cfa70969","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"let's set aside two days and go over this method too","created_at":"2013-09-23T22:03:26Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6529573","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6529573"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6529573"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6529920","id":6529920,"diff_hunk":"@@ -1332,106 +1332,46 @@ public void maybeSendUserEmail(UserTransaction userTransaction, EmailTemplate op\n }\r\n \r\n \/**\r\n- * Retrieve balance as of the end of a userTransaction using individualTrade prices and positions. Used to complete\r\n- * transactions; this balance is assigned as the endingBalance for most transactions in BigDecimal\r\n- * accounTransactionService.completeTransactionMaybeWithMarketChanges(UserTransaction)\r\n- * \r\n- * Note: the transaction must have been completed before passing it into this function. (This is because we get\r\n- * portfolios for latestCompletedAllocationChange; if it's not completed, we may have the wrong portfolios with\r\n- * which to calculate the endingBalance.\r\n- * \r\n- * Typically, we always will find an individualTrade for each component that a user has. We will not always find a\r\n- * position for each individualTrade. In the future, we might find a tradePrice for each component, rather than an\r\n- * individualTrade.\r\n- * \r\n- * DEPRECATION NOTICE. For new implementation, consider using\r\n+ * Retrieve balance as of the end of a userTransaction using\r\n * {@link UserPositionService#getLatestPositionsFromCompletedTransaction(UserTransaction)} instead. Note the\r\n * UserPositionService impl does not restrict positions to the latest portfolio.\r\n * \r\n- * The below implementation will eventually be phased out in favor of the UserPositionService impl. Test thoroughly!\r\n- * -yuriy & edwin\r\n+ * No longer Deprecated?\r\n *\/\r\n @Override\r\n @Deprecated\r\n public BigDecimal getEndingBalanceForTransaction(UserTransaction userTransaction,\r\n Map marketPrices) {\r\n \r\n- Long accountID = userTransaction.getAccount().getId();\r\n- DateTime dateTime = userTransaction.getCompletedDateTime();\r\n-\r\n- List individualTradeList = individualTradeService\r\n- .getCompletedIndividualTrades(userTransaction);\r\n Map transactionPrices = transactionPriceService.getTransactionPrices(userTransaction);\r\n+ Map positions = userPositionService\r\n+ .getLatestPositionsFromCompletedTransaction(userTransaction);\r\n \r\n- \/* Get portfolios of latest completed allocationChange *\/\r\n- Set portfoliosOfLastCompletedAC = null;\r\n- if (userTransaction.isAllocationChange()) {\r\n- AllocationChange allocationChange = allocationChangeService.load(userTransaction.getId());\r\n- portfoliosOfLastCompletedAC = portfolioService.getPortfoliosOfAllocationChange(allocationChange);\r\n- } else {\r\n- portfoliosOfLastCompletedAC = portfolioService.getPortfoliosOfLastCompletedAllocationChangeBefore(\r\n- accountID, userTransaction.getCompletedDateTime());\r\n- }\r\n-\r\n- \/* For each individualTrade, add to a map of components and shares *\/\r\n- Map componentShares = new HashMap();\r\n- for (Portfolio portfolio : portfoliosOfLastCompletedAC) {\r\n- for (Component component : portfolioService.getComponents(portfolio)) {\r\n- Ticker ticker = component.getTicker();\r\n- for (IndividualTrade individualTrade : individualTradeList) {\r\n- if (individualTrade.getTicker() == ticker) {\r\n- if (individualTrade.getPortfolio() == portfolio) {\r\n- BigDecimal shares = userPositionService\r\n- .getLastPositionSharesBeforeOrIncluding(individualTrade);\r\n- componentShares.put(component, shares);\r\n- }\r\n- }\r\n- }\r\n- }\r\n- }\r\n-\r\n- \/* Get endingBalance by Component-Position & Ticker-Price for the just completed transaction *\/\r\n+ \/* Get endingBalance by Position & Ticker-Price for the just completed transaction *\/\r\n BigDecimal balance = BigDecimal.ZERO;\r\n- for (Portfolio portfolio : portfoliosOfLastCompletedAC) {\r\n- for (Component component : portfolioService.getComponents(portfolio)) {\r\n- Ticker ticker = component.getTicker();\r\n \r\n+ for (Ticker ticker : positions.keySet()) {\r\n+ UserPosition userPosition = positions.get(ticker);\r\n+\r\n+ if (userPosition.getShares().signum() != 0) {\r\n \/*\r\n- * If there's an individualTrade, get the linked position share amount; if there's not, get the last\r\n- * shares before the completed time of the userTransaction\r\n+ * If there's a non-zero share balance, we must have a price, so create one if we don't have one already\r\n *\/\r\n- \/\/ TODO: if we use polymorphism for individualTrades and transaction prices,\r\n- \/\/ we may be able to get last before (transactionPrice) here instead of this\r\n- \/\/ if individualTrade exists, get the individual trade-linked position, otherwise\r\n- \/\/ get last sharesBefore\r\n- BigDecimal shares;\r\n- if (componentShares.containsKey(component)) {\r\n- shares = componentShares.get(component);\r\n- } else {\r\n- shares = userPositionService.getLastSharesBefore(accountID, ticker, portfolio, dateTime);\r\n+ if (!transactionPrices.containsKey(ticker)) {\r\n+ transactionPriceService.createAndSaveTransactionPrice(ticker, marketPrices.get(ticker),\r\n+ userTransaction);\r\n+ transactionPrices.put(ticker, marketPrices.get(ticker));\r\n }\r\n \r\n- if (shares.signum() != 0) {\r\n- \/*\r\n- * If there's a non-zero share balance, we must have a price, so create one if we don't have one\r\n- * already\r\n- *\/\r\n- if (!transactionPrices.containsKey(ticker)) {\r\n- transactionPriceService.createAndSaveTransactionPrice(ticker, marketPrices.get(ticker),\r\n- userTransaction);\r\n- transactionPrices.put(ticker, marketPrices.get(ticker));\r\n- }\r\n-\r\n- \/*\r\n- * Get the price and calculate the balance. We round each component so this will equal the summary\r\n- * balance on confirmations, which is by component to match the individual component ending balances\r\n- * shown on confirms.\r\n- *\/\r\n- BigDecimal price = transactionPrices.get(ticker);\r\n- BigDecimal componentBalance = RoundingUtils.roundCurrency(price.multiply(shares));\r\n- balance = balance.add(componentBalance);\r\n- log.debug(\" component: \" + component + \"; balance: \" + componentBalance + \"; price: \" + price);\r\n- }\r\n+ \/*\r\n+ * Get the price and calculate the balance. We round each component so this will equal the summary\r\n+ * balance on confirmations, which is by component to match the individual component ending balances\r\n+ * shown on confirms.\r\n+ *\/\r\n+ BigDecimal price = transactionPrices.get(ticker);\r\n+ BigDecimal componentBalance = price.multiply(userPosition.getShares());\r\n+ balance = balance.add(componentBalance);\r\n+ log.debug(\" ticker: \" + ticker + \"; balance: \" + componentBalance + \"; price: \" + price);\r","path":"src\/main\/java\/com\/betterment\/service\/transaction\/impl\/AccountTransactionServiceImpl.java","position":null,"original_position":126,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"8ab9662ec7d0787697add58eb30d33b5cfa70969","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"add this one to the list","created_at":"2013-09-23T22:16:47Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6529920","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6529920"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6529920"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6610334","id":6610334,"diff_hunk":"@@ -234,110 +236,33 @@ public BigDecimal getCurrentBalance(long accountID) throws BettermentException {\n public Map getCurrentBalancesByType(long accountID,\r\n List investmentTypes, Map prices) throws BettermentException {\r\n \r\n- Account account = accountService.getByAccountID(accountID);\r\n-\r\n \/* Get current cached prices and latest allocation Change and cash balance (as a check) *\/\r\n final BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n portfolioService.getCashPortfolio());\r\n- BigDecimal adjustedCashBalance = cashBalance;\r\n \r\n- Map balanceByTypeMap = new HashMap();\r\n+ Map balanceByTypeMap = new HashMap<>();\r\n AllocationChange latestAllocationChange = allocationChangeService\r\n .getLatestAllocationChangeIncludingPending(accountID);\r\n \r\n- List accountTransfers = allocationChangeService.getPendingAccountTransfers(account);\r\n-\r\n- \/*\r\n- * We capture portfolios of latest completed allocation change, excluding pending. Any traded amounts of an\r\n- * in-process allocation change will be captured by the cash portfolio and assigned back to their source\r\n- * portfolio\r\n- *\/\r\n- for (InvestmentType iType : investmentTypes) {\r\n- if (InvestmentType.CASH.equals(iType))\r\n- continue;\r\n-\r\n- Portfolio latestPortfolio = portfolioService.getLatestPortfolioExcludingPending(accountID, iType);\r\n+ Map userPositionMap = userPositionService.getLatestPositionsFromCompletedTransaction(latestAllocationChange);\r\n \r\n- BigDecimal balance = userPositionService.getLatestPortfolioBalanceUsingPrices(accountID, latestPortfolio,\r\n- prices);\r\n+ BigDecimal bondPortfolioBalance = BigDecimal.ZERO;\r\n+ BigDecimal stockPortfolioBalance = BigDecimal.ZERO;\r\n+ for (Ticker ticker : userPositionMap.keySet()) {\r\n+ UserPosition userPosition = userPositionMap.get(ticker);\r\n+ InvestmentType investmentType = userPosition.getPortfolio().getType();\r\n \r\n- \/*\r\n- * find pending allocation change if so, look at all portfolios that are in that allocation change that are\r\n- * not in latest portfolio excluding pending, then get latest portfolio balances using prices for that\r\n- * portfolio\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- Portfolio pendingPortfolio = portfolioService.getLatestPortfolioIncludingPending(accountID, iType);\r\n-\r\n- if (pendingPortfolio.getId() != latestPortfolio.getId()) {\r\n- BigDecimal pendingPortfoioBalance = userPositionService.getLatestPortfolioBalanceUsingPrices(\r\n- accountID, pendingPortfolio, prices);\r\n-\r\n- balance = balance.add(pendingPortfoioBalance);\r\n- }\r\n- }\r\n-\r\n- \/\/ If original cash balance is > $0\r\n- if (cashBalance.compareTo(BigDecimal.ZERO) > 0) {\r\n-\r\n- \/*\r\n- * Assign any cash balance according to pending IndividualTrades. A pendingIndividualTrade means that\r\n- * there's an allocationChange in process (which is the only reason we'd have a cash balance as of this\r\n- * writing). The sold shares should be assigned at sold value to the portfolio they came from until the\r\n- * allocationChange is complete.\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- for (IndividualTrade iTrade : individualTradeService\r\n- .getCompletedIndividualTrades(latestAllocationChange)) {\r\n- if (iTrade.getPortfolio().getType().equals(iType)) {\r\n-\r\n- \/*\r\n- * Balances are unsigned so even though these should be share sales, the amountTraded will\r\n- * be positive.\r\n- *\/\r\n- BigDecimal amount = iTrade.getAmountTraded();\r\n- balance = balance.add(amount);\r\n- adjustedCashBalance = adjustedCashBalance.subtract(amount);\r","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/BalanceServiceImpl.java","position":152,"original_position":93,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"8ab9662ec7d0787697add58eb30d33b5cfa70969","user":{"login":"jfairchild","id":1012652,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/7136b77872f8efd11aded1a3fc62c48a?d=https%3A%2F%2Fidenticons.github.com%2F5daa73500c0de987517d3e2cdac44dea.png","gravatar_id":"7136b77872f8efd11aded1a3fc62c48a","url":"https:\/\/api.github.com\/users\/jfairchild","html_url":"https:\/\/github.com\/jfairchild","followers_url":"https:\/\/api.github.com\/users\/jfairchild\/followers","following_url":"https:\/\/api.github.com\/users\/jfairchild\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/jfairchild\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/jfairchild\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/jfairchild\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/jfairchild\/orgs","repos_url":"https:\/\/api.github.com\/users\/jfairchild\/repos","events_url":"https:\/\/api.github.com\/users\/jfairchild\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/jfairchild\/received_events","type":"User"},"body":"@gsadowski @nonrational @ygoldman @chauzer I've included calculations for pending AllocationChanges. For pending AccountTransfers we also get the shares transferred and apply that to the cash balance.\r\n\r\nFor completed IndividualTrades on a pending AllocationChange, get the Amount Traded and apply to both the cash balance and the portfolio balance.","created_at":"2013-09-26T18:49:01Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6610334","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6610334"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6610334"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6611627","id":6611627,"diff_hunk":"@@ -229,117 +234,120 @@ public BigDecimal getCurrentBalance(long accountID) throws BettermentException {\n * \r\n * This function is designed to return a map of cached market price based balances and is used by the\r\n * homeInfoService\r\n+ * \r\n+ * @param accountID\r\n+ * @param investmentTypes\r\n+ * @param prices\r\n+ * @return\r\n+ * @throws BettermentException\r\n *\/\r\n @Override\r\n public Map getCurrentBalancesByType(long accountID,\r\n List investmentTypes, Map prices) throws BettermentException {\r\n \r\n- Account account = accountService.getByAccountID(accountID);\r\n-\r\n \/* Get current cached prices and latest allocation Change and cash balance (as a check) *\/\r\n- final BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n+ BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n portfolioService.getCashPortfolio());\r\n- BigDecimal adjustedCashBalance = cashBalance;\r\n \r\n- Map balanceByTypeMap = new HashMap();\r\n- AllocationChange latestAllocationChange = allocationChangeService\r\n- .getLatestAllocationChangeIncludingPending(accountID);\r\n+ final Set pendingAllocationChanges = getPendingAllocationChanges(accountID);\r\n+ \/\/ Amount to only be applied to Cash Balance\r\n+ final BigDecimal positionTransferAmount = getPositionTransferAmount(pendingAllocationChanges);\r","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/BalanceServiceImpl.java","position":null,"original_position":75,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"e1ce31953f18b46362fffa14c47df8503ff4a435","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"We aren't sure if we need this. It might be handled by user positions.","created_at":"2013-09-26T19:28:32Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6611627","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6611627"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6611627"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6611718","id":6611718,"diff_hunk":"@@ -229,117 +234,120 @@ public BigDecimal getCurrentBalance(long accountID) throws BettermentException {\n * \r\n * This function is designed to return a map of cached market price based balances and is used by the\r\n * homeInfoService\r\n+ * \r\n+ * @param accountID\r\n+ * @param investmentTypes\r\n+ * @param prices\r\n+ * @return\r\n+ * @throws BettermentException\r\n *\/\r\n @Override\r\n public Map getCurrentBalancesByType(long accountID,\r\n List investmentTypes, Map prices) throws BettermentException {\r\n \r\n- Account account = accountService.getByAccountID(accountID);\r\n-\r\n \/* Get current cached prices and latest allocation Change and cash balance (as a check) *\/\r\n- final BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n+ BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n portfolioService.getCashPortfolio());\r\n- BigDecimal adjustedCashBalance = cashBalance;\r\n \r\n- Map balanceByTypeMap = new HashMap();\r\n- AllocationChange latestAllocationChange = allocationChangeService\r\n- .getLatestAllocationChangeIncludingPending(accountID);\r\n+ final Set pendingAllocationChanges = getPendingAllocationChanges(accountID);\r\n+ \/\/ Amount to only be applied to Cash Balance\r\n+ final BigDecimal positionTransferAmount = getPositionTransferAmount(pendingAllocationChanges);\r\n+ if (cashBalance.signum() == 1) {\r\n+ cashBalance = cashBalance.add(positionTransferAmount);\r\n+ }\r\n \r\n- List accountTransfers = allocationChangeService.getPendingAccountTransfers(account);\r\n+ \/\/ Amount applied to Cash and Portfolio balances\r\n+ final Map completedTradeAmounts = getCompletedTradesMap(pendingAllocationChanges);\r\n+ final Account account = accountService.getByAccountID(accountID);\r\n+ final List userPositions = userPositionService.getLatestPositionsForAccount(account);\r\n \r\n- \/*\r\n- * We capture portfolios of latest completed allocation change, excluding pending. Any traded amounts of an\r\n- * in-process allocation change will be captured by the cash portfolio and assigned back to their source\r\n- * portfolio\r\n- *\/\r\n- for (InvestmentType iType : investmentTypes) {\r\n- if (InvestmentType.CASH.equals(iType))\r\n- continue;\r\n-\r\n- Portfolio latestPortfolio = portfolioService.getLatestPortfolioExcludingPending(accountID, iType);\r\n+ Map balanceByTypeMap = new HashMap<>();\r\n+ BigDecimal bondPortfolioBalance = BigDecimal.ZERO;\r\n+ BigDecimal stockPortfolioBalance = BigDecimal.ZERO;\r\n+ for (UserPosition userPosition : userPositions) {\r\n \r\n- BigDecimal balance = userPositionService.getLatestPortfolioBalanceUsingPrices(accountID, latestPortfolio,\r\n- prices);\r\n+ Ticker ticker = userPosition.getTicker();\r\n+ InvestmentType investmentType = userPosition.getPortfolio().getType();\r\n \r\n- \/*\r\n- * find pending allocation change if so, look at all portfolios that are in that allocation change that are\r\n- * not in latest portfolio excluding pending, then get latest portfolio balances using prices for that\r\n- * portfolio\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- Portfolio pendingPortfolio = portfolioService.getLatestPortfolioIncludingPending(accountID, iType);\r\n+ BigDecimal adjustmentValue = BigDecimal.ZERO;\r\n+ if (cashBalance.signum() == 1 && completedTradeAmounts.containsKey(ticker)) {\r\n+ adjustmentValue = completedTradeAmounts.get(ticker);\r\n+ cashBalance = cashBalance.subtract(adjustmentValue);\r\n+ }\r\n \r\n- if (pendingPortfolio.getId() != latestPortfolio.getId()) {\r\n- BigDecimal pendingPortfoioBalance = userPositionService.getLatestPortfolioBalanceUsingPrices(\r\n- accountID, pendingPortfolio, prices);\r\n+ BigDecimal tickerBalance = RoundingUtils.roundCurrency(userPosition.getShares()\r\n+ .multiply(prices.get(ticker)));\r\n+ tickerBalance = tickerBalance.add(adjustmentValue);\r\n \r\n- balance = balance.add(pendingPortfoioBalance);\r\n- }\r\n+ if (investmentType == InvestmentType.STOCKS) {\r\n+ stockPortfolioBalance = stockPortfolioBalance.add(tickerBalance);\r\n+ } else if (investmentType == InvestmentType.BONDS) {\r\n+ bondPortfolioBalance = bondPortfolioBalance.add(tickerBalance);\r\n }\r\n+ }\r\n+ balanceByTypeMap.put(InvestmentType.BONDS, bondPortfolioBalance);\r\n+ balanceByTypeMap.put(InvestmentType.STOCKS, stockPortfolioBalance);\r\n+ balanceByTypeMap.put(InvestmentType.CASH, cashBalance);\r\n \r\n- \/\/ If original cash balance is > $0\r\n- if (cashBalance.compareTo(BigDecimal.ZERO) > 0) {\r\n-\r\n- \/*\r\n- * Assign any cash balance according to pending IndividualTrades. A pendingIndividualTrade means that\r\n- * there's an allocationChange in process (which is the only reason we'd have a cash balance as of this\r\n- * writing). The sold shares should be assigned at sold value to the portfolio they came from until the\r\n- * allocationChange is complete.\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- for (IndividualTrade iTrade : individualTradeService\r\n- .getCompletedIndividualTrades(latestAllocationChange)) {\r\n- if (iTrade.getPortfolio().getType().equals(iType)) {\r\n-\r\n- \/*\r\n- * Balances are unsigned so even though these should be share sales, the amountTraded will\r\n- * be positive.\r\n- *\/\r\n- BigDecimal amount = iTrade.getAmountTraded();\r\n- balance = balance.add(amount);\r\n- adjustedCashBalance = adjustedCashBalance.subtract(amount);\r\n- }\r\n- }\r\n- }\r\n-\r\n- for (AllocationChange accountTransfer : accountTransfers) {\r\n- if (accountTransfer.isPending()) {\r\n- for (IndividualTrade iTrade : individualTradeService\r\n- .getCompletedIndividualTrades(accountTransfer)) {\r\n- if (iTrade.getPortfolio().getType().equals(iType)) {\r\n-\r\n- \/*\r\n- * Balances are unsigned so even though these should be share sales, the amountTraded\r\n- * will be positive.\r\n- *\/\r\n- BigDecimal amount = iTrade.getAmountTraded();\r\n- \/\/ balance = balance.add(amount);\r\n- adjustedCashBalance = adjustedCashBalance.subtract(amount);\r\n- }\r\n- }\r\n- for (PositionTransfer pT : userPositionService.getPositionTransfers(accountTransfer)) {\r\n- if (pT.getPortfolio().getType().equals(iType)) {\r\n- BigDecimal amount = pT.getPrice().multiply(pT.getSignedShares());\r\n- balance = balance.subtract(amount);\r\n- }\r\n- }\r\n- }\r\n- }\r\n+ return balanceByTypeMap;\r\n+ }\r\n+\r\n+ \/**\r\n+ * Ticker to Amount Traded map.\r\n+ * \r\n+ * @param pendingAllocationChanges\r\n+ * @return\r\n+ *\/\r\n+ private Map getCompletedTradesMap(Set pendingAllocationChanges) {\r\n+ Map completedTradeAmounts = new HashMap<>();\r\n+ for (AllocationChange allocationChange : pendingAllocationChanges) {\r\n+ for (IndividualTrade individualTrade : individualTradeService\r\n+ .getCompletedIndividualTrades(allocationChange)) {\r\n+ completedTradeAmounts.put(individualTrade.getTicker(), individualTrade.getAmountTraded());\r","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/BalanceServiceImpl.java","position":null,"original_position":200,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"e1ce31953f18b46362fffa14c47df8503ff4a435","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"Should this be a running sum? Could data be overwritten here? Also I don't know if it's possible to have two pending allocation changes in this spot.","created_at":"2013-09-26T19:31:31Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6611718","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6611718"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6611718"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6611776","id":6611776,"diff_hunk":"@@ -229,117 +234,120 @@ public BigDecimal getCurrentBalance(long accountID) throws BettermentException {\n * \r\n * This function is designed to return a map of cached market price based balances and is used by the\r\n * homeInfoService\r\n+ * \r\n+ * @param accountID\r\n+ * @param investmentTypes\r\n+ * @param prices\r\n+ * @return\r\n+ * @throws BettermentException\r\n *\/\r\n @Override\r\n public Map getCurrentBalancesByType(long accountID,\r\n List investmentTypes, Map prices) throws BettermentException {\r\n \r\n- Account account = accountService.getByAccountID(accountID);\r\n-\r\n \/* Get current cached prices and latest allocation Change and cash balance (as a check) *\/\r\n- final BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n+ BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n portfolioService.getCashPortfolio());\r\n- BigDecimal adjustedCashBalance = cashBalance;\r\n \r\n- Map balanceByTypeMap = new HashMap();\r\n- AllocationChange latestAllocationChange = allocationChangeService\r\n- .getLatestAllocationChangeIncludingPending(accountID);\r\n+ final Set pendingAllocationChanges = getPendingAllocationChanges(accountID);\r\n+ \/\/ Amount to only be applied to Cash Balance\r\n+ final BigDecimal positionTransferAmount = getPositionTransferAmount(pendingAllocationChanges);\r\n+ if (cashBalance.signum() == 1) {\r\n+ cashBalance = cashBalance.add(positionTransferAmount);\r\n+ }\r\n \r\n- List accountTransfers = allocationChangeService.getPendingAccountTransfers(account);\r\n+ \/\/ Amount applied to Cash and Portfolio balances\r\n+ final Map completedTradeAmounts = getCompletedTradesMap(pendingAllocationChanges);\r\n+ final Account account = accountService.getByAccountID(accountID);\r\n+ final List userPositions = userPositionService.getLatestPositionsForAccount(account);\r\n \r\n- \/*\r\n- * We capture portfolios of latest completed allocation change, excluding pending. Any traded amounts of an\r\n- * in-process allocation change will be captured by the cash portfolio and assigned back to their source\r\n- * portfolio\r\n- *\/\r\n- for (InvestmentType iType : investmentTypes) {\r\n- if (InvestmentType.CASH.equals(iType))\r\n- continue;\r\n-\r\n- Portfolio latestPortfolio = portfolioService.getLatestPortfolioExcludingPending(accountID, iType);\r\n+ Map balanceByTypeMap = new HashMap<>();\r\n+ BigDecimal bondPortfolioBalance = BigDecimal.ZERO;\r\n+ BigDecimal stockPortfolioBalance = BigDecimal.ZERO;\r\n+ for (UserPosition userPosition : userPositions) {\r\n \r\n- BigDecimal balance = userPositionService.getLatestPortfolioBalanceUsingPrices(accountID, latestPortfolio,\r\n- prices);\r\n+ Ticker ticker = userPosition.getTicker();\r\n+ InvestmentType investmentType = userPosition.getPortfolio().getType();\r\n \r\n- \/*\r\n- * find pending allocation change if so, look at all portfolios that are in that allocation change that are\r\n- * not in latest portfolio excluding pending, then get latest portfolio balances using prices for that\r\n- * portfolio\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- Portfolio pendingPortfolio = portfolioService.getLatestPortfolioIncludingPending(accountID, iType);\r\n+ BigDecimal adjustmentValue = BigDecimal.ZERO;\r\n+ if (cashBalance.signum() == 1 && completedTradeAmounts.containsKey(ticker)) {\r","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/BalanceServiceImpl.java","position":107,"original_position":114,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"e1ce31953f18b46362fffa14c47df8503ff4a435","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"What would it mean if cashBalance was <= 0 and we had pending allocation changes? Is that possible?","created_at":"2013-09-26T19:33:20Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6611776","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6611776"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6611776"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6612279","id":6612279,"diff_hunk":"@@ -229,117 +234,120 @@ public BigDecimal getCurrentBalance(long accountID) throws BettermentException {\n * \r\n * This function is designed to return a map of cached market price based balances and is used by the\r\n * homeInfoService\r\n+ * \r\n+ * @param accountID\r\n+ * @param investmentTypes\r\n+ * @param prices\r\n+ * @return\r\n+ * @throws BettermentException\r\n *\/\r\n @Override\r\n public Map getCurrentBalancesByType(long accountID,\r\n List investmentTypes, Map prices) throws BettermentException {\r\n \r\n- Account account = accountService.getByAccountID(accountID);\r\n-\r\n \/* Get current cached prices and latest allocation Change and cash balance (as a check) *\/\r\n- final BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n+ BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n portfolioService.getCashPortfolio());\r\n- BigDecimal adjustedCashBalance = cashBalance;\r\n \r\n- Map balanceByTypeMap = new HashMap();\r\n- AllocationChange latestAllocationChange = allocationChangeService\r\n- .getLatestAllocationChangeIncludingPending(accountID);\r\n+ final Set pendingAllocationChanges = getPendingAllocationChanges(accountID);\r\n+ \/\/ Amount to only be applied to Cash Balance\r\n+ final BigDecimal positionTransferAmount = getPositionTransferAmount(pendingAllocationChanges);\r\n+ if (cashBalance.signum() == 1) {\r\n+ cashBalance = cashBalance.add(positionTransferAmount);\r\n+ }\r\n \r\n- List accountTransfers = allocationChangeService.getPendingAccountTransfers(account);\r\n+ \/\/ Amount applied to Cash and Portfolio balances\r\n+ final Map completedTradeAmounts = getCompletedTradesMap(pendingAllocationChanges);\r\n+ final Account account = accountService.getByAccountID(accountID);\r\n+ final List userPositions = userPositionService.getLatestPositionsForAccount(account);\r\n \r\n- \/*\r\n- * We capture portfolios of latest completed allocation change, excluding pending. Any traded amounts of an\r\n- * in-process allocation change will be captured by the cash portfolio and assigned back to their source\r\n- * portfolio\r\n- *\/\r\n- for (InvestmentType iType : investmentTypes) {\r\n- if (InvestmentType.CASH.equals(iType))\r\n- continue;\r\n-\r\n- Portfolio latestPortfolio = portfolioService.getLatestPortfolioExcludingPending(accountID, iType);\r\n+ Map balanceByTypeMap = new HashMap<>();\r\n+ BigDecimal bondPortfolioBalance = BigDecimal.ZERO;\r\n+ BigDecimal stockPortfolioBalance = BigDecimal.ZERO;\r\n+ for (UserPosition userPosition : userPositions) {\r\n \r\n- BigDecimal balance = userPositionService.getLatestPortfolioBalanceUsingPrices(accountID, latestPortfolio,\r\n- prices);\r\n+ Ticker ticker = userPosition.getTicker();\r\n+ InvestmentType investmentType = userPosition.getPortfolio().getType();\r\n \r\n- \/*\r\n- * find pending allocation change if so, look at all portfolios that are in that allocation change that are\r\n- * not in latest portfolio excluding pending, then get latest portfolio balances using prices for that\r\n- * portfolio\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- Portfolio pendingPortfolio = portfolioService.getLatestPortfolioIncludingPending(accountID, iType);\r\n+ BigDecimal adjustmentValue = BigDecimal.ZERO;\r\n+ if (cashBalance.signum() == 1 && completedTradeAmounts.containsKey(ticker)) {\r\n+ adjustmentValue = completedTradeAmounts.get(ticker);\r\n+ cashBalance = cashBalance.subtract(adjustmentValue);\r\n+ }\r\n \r\n- if (pendingPortfolio.getId() != latestPortfolio.getId()) {\r\n- BigDecimal pendingPortfoioBalance = userPositionService.getLatestPortfolioBalanceUsingPrices(\r\n- accountID, pendingPortfolio, prices);\r\n+ BigDecimal tickerBalance = RoundingUtils.roundCurrency(userPosition.getShares()\r\n+ .multiply(prices.get(ticker)));\r\n+ tickerBalance = tickerBalance.add(adjustmentValue);\r\n \r\n- balance = balance.add(pendingPortfoioBalance);\r\n- }\r\n+ if (investmentType == InvestmentType.STOCKS) {\r\n+ stockPortfolioBalance = stockPortfolioBalance.add(tickerBalance);\r\n+ } else if (investmentType == InvestmentType.BONDS) {\r\n+ bondPortfolioBalance = bondPortfolioBalance.add(tickerBalance);\r\n }\r\n+ }\r\n+ balanceByTypeMap.put(InvestmentType.BONDS, bondPortfolioBalance);\r\n+ balanceByTypeMap.put(InvestmentType.STOCKS, stockPortfolioBalance);\r\n+ balanceByTypeMap.put(InvestmentType.CASH, cashBalance);\r\n \r\n- \/\/ If original cash balance is > $0\r\n- if (cashBalance.compareTo(BigDecimal.ZERO) > 0) {\r\n-\r\n- \/*\r\n- * Assign any cash balance according to pending IndividualTrades. A pendingIndividualTrade means that\r\n- * there's an allocationChange in process (which is the only reason we'd have a cash balance as of this\r\n- * writing). The sold shares should be assigned at sold value to the portfolio they came from until the\r\n- * allocationChange is complete.\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- for (IndividualTrade iTrade : individualTradeService\r\n- .getCompletedIndividualTrades(latestAllocationChange)) {\r\n- if (iTrade.getPortfolio().getType().equals(iType)) {\r\n-\r\n- \/*\r\n- * Balances are unsigned so even though these should be share sales, the amountTraded will\r\n- * be positive.\r\n- *\/\r\n- BigDecimal amount = iTrade.getAmountTraded();\r\n- balance = balance.add(amount);\r\n- adjustedCashBalance = adjustedCashBalance.subtract(amount);\r\n- }\r\n- }\r\n- }\r\n-\r\n- for (AllocationChange accountTransfer : accountTransfers) {\r\n- if (accountTransfer.isPending()) {\r\n- for (IndividualTrade iTrade : individualTradeService\r\n- .getCompletedIndividualTrades(accountTransfer)) {\r\n- if (iTrade.getPortfolio().getType().equals(iType)) {\r\n-\r\n- \/*\r\n- * Balances are unsigned so even though these should be share sales, the amountTraded\r\n- * will be positive.\r\n- *\/\r\n- BigDecimal amount = iTrade.getAmountTraded();\r\n- \/\/ balance = balance.add(amount);\r\n- adjustedCashBalance = adjustedCashBalance.subtract(amount);\r\n- }\r\n- }\r\n- for (PositionTransfer pT : userPositionService.getPositionTransfers(accountTransfer)) {\r\n- if (pT.getPortfolio().getType().equals(iType)) {\r\n- BigDecimal amount = pT.getPrice().multiply(pT.getSignedShares());\r\n- balance = balance.subtract(amount);\r\n- }\r\n- }\r\n- }\r\n- }\r\n+ return balanceByTypeMap;\r\n+ }\r\n+\r\n+ \/**\r\n+ * Ticker to Amount Traded map.\r\n+ * \r\n+ * @param pendingAllocationChanges\r\n+ * @return\r\n+ *\/\r\n+ private Map getCompletedTradesMap(Set pendingAllocationChanges) {\r\n+ Map completedTradeAmounts = new HashMap<>();\r\n+ for (AllocationChange allocationChange : pendingAllocationChanges) {\r\n+ for (IndividualTrade individualTrade : individualTradeService\r\n+ .getCompletedIndividualTrades(allocationChange)) {\r\n+ completedTradeAmounts.put(individualTrade.getTicker(), individualTrade.getAmountTraded());\r","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/BalanceServiceImpl.java","position":null,"original_position":200,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"e1ce31953f18b46362fffa14c47df8503ff4a435","user":{"login":"jfairchild","id":1012652,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/7136b77872f8efd11aded1a3fc62c48a?d=https%3A%2F%2Fidenticons.github.com%2F5daa73500c0de987517d3e2cdac44dea.png","gravatar_id":"7136b77872f8efd11aded1a3fc62c48a","url":"https:\/\/api.github.com\/users\/jfairchild","html_url":"https:\/\/github.com\/jfairchild","followers_url":"https:\/\/api.github.com\/users\/jfairchild\/followers","following_url":"https:\/\/api.github.com\/users\/jfairchild\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/jfairchild\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/jfairchild\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/jfairchild\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/jfairchild\/orgs","repos_url":"https:\/\/api.github.com\/users\/jfairchild\/repos","events_url":"https:\/\/api.github.com\/users\/jfairchild\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/jfairchild\/received_events","type":"User"},"body":"yes, forgot to update. Thanks :+1: ","created_at":"2013-09-26T19:48:47Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6612279","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6612279"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6612279"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6612515","id":6612515,"diff_hunk":"@@ -229,117 +234,120 @@ public BigDecimal getCurrentBalance(long accountID) throws BettermentException {\n * \r\n * This function is designed to return a map of cached market price based balances and is used by the\r\n * homeInfoService\r\n+ * \r\n+ * @param accountID\r\n+ * @param investmentTypes\r\n+ * @param prices\r\n+ * @return\r\n+ * @throws BettermentException\r\n *\/\r\n @Override\r\n public Map getCurrentBalancesByType(long accountID,\r\n List investmentTypes, Map prices) throws BettermentException {\r\n \r\n- Account account = accountService.getByAccountID(accountID);\r\n-\r\n \/* Get current cached prices and latest allocation Change and cash balance (as a check) *\/\r\n- final BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n+ BigDecimal cashBalance = userPositionService.getLatestShares(accountID, tickerService.getBySymbol(\"USD\"),\r\n portfolioService.getCashPortfolio());\r\n- BigDecimal adjustedCashBalance = cashBalance;\r\n \r\n- Map balanceByTypeMap = new HashMap();\r\n- AllocationChange latestAllocationChange = allocationChangeService\r\n- .getLatestAllocationChangeIncludingPending(accountID);\r\n+ final Set pendingAllocationChanges = getPendingAllocationChanges(accountID);\r\n+ \/\/ Amount to only be applied to Cash Balance\r\n+ final BigDecimal positionTransferAmount = getPositionTransferAmount(pendingAllocationChanges);\r\n+ if (cashBalance.signum() == 1) {\r\n+ cashBalance = cashBalance.add(positionTransferAmount);\r\n+ }\r\n \r\n- List accountTransfers = allocationChangeService.getPendingAccountTransfers(account);\r\n+ \/\/ Amount applied to Cash and Portfolio balances\r\n+ final Map completedTradeAmounts = getCompletedTradesMap(pendingAllocationChanges);\r\n+ final Account account = accountService.getByAccountID(accountID);\r\n+ final List userPositions = userPositionService.getLatestPositionsForAccount(account);\r\n \r\n- \/*\r\n- * We capture portfolios of latest completed allocation change, excluding pending. Any traded amounts of an\r\n- * in-process allocation change will be captured by the cash portfolio and assigned back to their source\r\n- * portfolio\r\n- *\/\r\n- for (InvestmentType iType : investmentTypes) {\r\n- if (InvestmentType.CASH.equals(iType))\r\n- continue;\r\n-\r\n- Portfolio latestPortfolio = portfolioService.getLatestPortfolioExcludingPending(accountID, iType);\r\n+ Map balanceByTypeMap = new HashMap<>();\r\n+ BigDecimal bondPortfolioBalance = BigDecimal.ZERO;\r\n+ BigDecimal stockPortfolioBalance = BigDecimal.ZERO;\r\n+ for (UserPosition userPosition : userPositions) {\r\n \r\n- BigDecimal balance = userPositionService.getLatestPortfolioBalanceUsingPrices(accountID, latestPortfolio,\r\n- prices);\r\n+ Ticker ticker = userPosition.getTicker();\r\n+ InvestmentType investmentType = userPosition.getPortfolio().getType();\r\n \r\n- \/*\r\n- * find pending allocation change if so, look at all portfolios that are in that allocation change that are\r\n- * not in latest portfolio excluding pending, then get latest portfolio balances using prices for that\r\n- * portfolio\r\n- *\/\r\n- if (latestAllocationChange.isPending()) {\r\n- Portfolio pendingPortfolio = portfolioService.getLatestPortfolioIncludingPending(accountID, iType);\r\n+ BigDecimal adjustmentValue = BigDecimal.ZERO;\r\n+ if (cashBalance.signum() == 1 && completedTradeAmounts.containsKey(ticker)) {\r","path":"src\/main\/java\/com\/betterment\/service\/account\/impl\/BalanceServiceImpl.java","position":107,"original_position":114,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"e1ce31953f18b46362fffa14c47df8503ff4a435","user":{"login":"jfairchild","id":1012652,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/7136b77872f8efd11aded1a3fc62c48a?d=https%3A%2F%2Fidenticons.github.com%2F5daa73500c0de987517d3e2cdac44dea.png","gravatar_id":"7136b77872f8efd11aded1a3fc62c48a","url":"https:\/\/api.github.com\/users\/jfairchild","html_url":"https:\/\/github.com\/jfairchild","followers_url":"https:\/\/api.github.com\/users\/jfairchild\/followers","following_url":"https:\/\/api.github.com\/users\/jfairchild\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/jfairchild\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/jfairchild\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/jfairchild\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/jfairchild\/orgs","repos_url":"https:\/\/api.github.com\/users\/jfairchild\/repos","events_url":"https:\/\/api.github.com\/users\/jfairchild\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/jfairchild\/received_events","type":"User"},"body":"cashbalance == 0 is good :+1: I think what we want to avoid is showing a negative cash balance on the frontend. It is possible to have cashbalance < 0 but it should be for a short time period. Maybe the case where we have AllocationChange and AccountTransfers happening at the same time.","created_at":"2013-09-26T19:56:02Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6612515","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6612515"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6612515"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6631177","id":6631177,"diff_hunk":"@@ -295,56 +290,36 @@ private AccountSummaryVO getAccountInfo(Account account, Map\n * Retrieves a list of positions by type for the given account\r\n * \r\n * @param account\r\n- * @param iTypes\r\n * @param currentBalance\r\n * @return\r\n * @throws ServletException\r\n *\/\r\n- private List getAccountPositions(Account account, List iTypes,\r\n- BigDecimal currentBalance, Map prices) throws ServletException {\r\n-\r\n- List positionObjects = new ArrayList();\r\n-\r\n- \/*\r\n- * Set the portfolios by investmentType\r\n- * \r\n- * TODO: This should likely eventually include get cash balances and include the cash ticker for completeness\r\n- * \r\n- * FIXME: Include pending portfolios\r\n- * \r\n- * Excludes pending allocationChagne portfolios; this is what user actually owns\r\n- *\/\r\n- for (InvestmentType iType : iTypes) {\r\n- Portfolio portfolio;\r\n- if (InvestmentType.CASH.equals(iType)) {\r\n- portfolio = portfolioService.getCashPortfolio();\r\n- } else {\r\n- portfolio = portfolioService.getLatestPortfolioExcludingPending(account.getId(), iType);\r\n- }\r\n+ private List getAccountPositions(Account account, BigDecimal currentBalance)\r\n+ throws ServletException {\r\n \r\n- Iterator componentIterator = portfolioService.getComponents(portfolio).iterator();\r\n- while (componentIterator.hasNext()) {\r\n- Component component = componentIterator.next();\r\n- Ticker ticker = component.getTicker();\r\n-\r\n- BigDecimal shares = userPositionService.getLatestShares(account.getId(), ticker, portfolio);\r\n- BigDecimal marketPrice = priceService.getCachedMarketPrice(ticker);\r\n-\r\n- BigDecimal tickerAllocation = currentBalance.compareTo(BigDecimal.ZERO) == 0 ? BigDecimal.ZERO : shares\r\n- .multiply(marketPrice).divide(currentBalance, 8, RoundingMode.HALF_UP);\r\n-\r\n- \/\/ rather than storing in a ResponseDataNode, store in a transfer object with convenient accessors and\r\n- \/\/ data types we can calculate on\r\n- AccountPositionVO apo = new AccountPositionVO();\r\n- apo.setSymbol(ticker.getSymbol());\r\n- apo.setDescription(ticker.getDescription());\r\n- apo.setDisplayName(ticker.getDisplayName());\r\n- apo.setInvestmentTypeByID(portfolio.getTypeByID());\r\n- apo.setAllocation(tickerAllocation);\r\n- apo.setShares(shares);\r\n- apo.setBalance(shares.multiply(marketPrice));\r\n- positionObjects.add(apo);\r\n- }\r\n+ List positionObjects = new ArrayList<>();\r\n+\r\n+ for (UserPosition userPosition : userPositionService.getLatestPositionsForAccount(account)) {\r","path":"src\/main\/java\/com\/betterment\/service\/access\/impl\/HomePageServiceImpl.java","position":132,"original_position":132,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"e1ce31953f18b46362fffa14c47df8503ff4a435","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"I think this includes pending positions, while the old function excluded them.","created_at":"2013-09-27T15:46:09Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6631177","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6631177"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6631177"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6631312","id":6631312,"diff_hunk":"@@ -136,47 +145,34 @@ private ResponseDataNode getPositionInfo(HttpServletRequest request, Account acc\n positions_header.addChild(\"INVESTMENT_ALLOCATION\", \"\");\n positions.addChild(positions_header);\n \n- for (Portfolio portfolio : portfolioService.getPortfoliosOfLatestCompletedAllocationChange(account.getId())) {\n- Iterator componentIterator = portfolioService.getComponents(portfolio).iterator();\n- while (componentIterator.hasNext()) {\n- Component component = componentIterator.next();\n- Ticker ticker = component.getTicker();\n-\n- BigDecimal shares = userPositionService.getLatestShares(account.getId(), ticker, portfolio);\n- BigDecimal marketPrice = marketPrices.get(ticker);\n- BigDecimal lastClosingPrice = historicPriceService.getHistoricPrice(ticker,\n- historicPriceService.getLastDate(ticker)).getSharePrice();\n- double dailyPercentChange = marketPrice.doubleValue() \/ lastClosingPrice.doubleValue() - 1.0;\n- BigDecimal costBasis = BigDecimal.ONE;\/\/calculateCostBasis(ticker, portfolio, account);\n- double percentChange = shares.multiply(marketPrice).doubleValue() \/ costBasis.doubleValue() - 1.0;\n- if (Double.isNaN(percentChange)) {\n- percentChange = 0;\n- }\n- BigDecimal allocation = balance.compareTo(BigDecimal.ZERO) == 0 ? BigDecimal.ZERO : shares.multiply(\n- marketPrice).divide(balance, RoundingMode.HALF_UP);\n- Date effectiveDate = new Date();\n- UserPosition currentPosition = userPositionService\n- .getLatestPosition(account.getId(), ticker, portfolio);\n- if (currentPosition != null) {\n- effectiveDate = currentPosition.getDate();\n- }\n-\n- ResponseDataNode item = new ResponseDataNode(ticker.getSymbol());\n- item.addChild(\"SYMBOL\", ticker.getSymbol());\n- item.addChild(\"ASSET_CLASS\", portfolio.getType() == InvestmentType.BONDS ? \"Bond\" : \"Stock\");\n- item.addChild(\"DESCRIPTION\", ticker.getDisplayName());\n- item.addChild(\"QUANTITY\", shares.doubleValue());\n- item.addChild(\"CURRENT_PRICE\", marketPrice.doubleValue());\n- item.addChild(\"DAILY_CHANGE\", String.format(\"%.3f%%\", dailyPercentChange * 100));\n- item.addChild(\"PAID_PRICE\", costBasis);\n- item.addChild(\"COST_BASIS\", costBasis);\n- item.addChild(\"MARKET_VALUE\", shares.multiply(marketPrice).doubleValue());\n- item.addChild(\"CHANGE_PCT\", String.format(\"%.3f%%\", 1.0));\n- item.addChild(\"EFFECTIVE_DATE\", new SimpleDateFormat(\"MM\/dd\/yyyy\").format(effectiveDate));\n- item.addChild(\"INVESTMENT_ALLOCATION\", String.format(\"%.3f%%\", allocation.doubleValue() * 100));\n-\n- positions.addChild(item);\n- }\n+ for (UserPosition userPosition : userPositionService.getLatestPositionsForAccount(account)) {","path":"src\/main\/java\/com\/betterment\/service\/access\/impl\/MintServiceImpl.java","position":87,"original_position":87,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"e1ce31953f18b46362fffa14c47df8503ff4a435","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"same here","created_at":"2013-09-27T15:50:46Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6631312","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6631312"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6631312"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6632013","id":6632013,"diff_hunk":"@@ -525,118 +501,57 @@ public void writeConfirmationSummary(ResponseDataNode input, UserTransaction use\n CustomerDocumentSummary documentSummary = new CustomerDocumentSummary();\r\n \r\n Account account = userTransaction.getAccount();\r\n- Long accountID = account.getId();\r\n- DateTime completedDateTime = userTransaction.getCompletedDateTime();\r\n \r\n- List individualTradeList = individualTradeService\r\n- .getCompletedIndividualTrades(userTransaction);\r\n Map transactionPrices = transactionPriceService.getTransactionPrices(userTransaction);\r\n+ Map userPositionMap = userPositionService\r\n+ .getLatestPositionsFromCompletedTransaction(userTransaction);\r\n+ Map previousUserPositionsMap = userPositionService\r\n+ .getLatestPositionsBeforeTransaction(userTransaction);\r\n+ Set allTickers = userPositionMap.keySet();\r\n+ allTickers.addAll(previousUserPositionsMap.keySet());\r\n \r\n- \/*\r\n- * Get portfolios of the last completed allocationChange and, if this is an allocationChange, the portfolios of\r\n- * this allocationChange as well\r\n- *\/\r\n- Set portfoliosOfThisAndLastBefore = portfolioService\r\n- .getPortfoliosOfLastCompletedAllocationChangeBefore(accountID, completedDateTime);\r\n- if (userTransaction.isAllocationChange()) {\r\n- AllocationChange allocationChange = allocationChangeService.load(userTransaction.getId());\r\n- portfoliosOfThisAndLastBefore.addAll(portfolioService.getPortfoliosOfAllocationChange(allocationChange));\r\n- }\r\n+ for (Ticker ticker : allTickers) {\r\n \r\n- \/* For each individualTrade, add to a map of components and shares *\/\r\n- Map componentEndShares = new HashMap();\r\n- Map componentPreviousShares = new HashMap();\r\n- for (Portfolio portfolio : portfoliosOfThisAndLastBefore) {\r","path":"src\/main\/java\/com\/betterment\/service\/document\/impl\/CustomerDocumentWriterServiceImpl.java","position":231,"original_position":213,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"8ab9662ec7d0787697add58eb30d33b5cfa70969","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"This method looks good to me, but it's one that @chauzer @nonrational @ygoldman should look at too. ","created_at":"2013-09-27T16:16:15Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6632013","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6632013"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6632013"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6632059","id":6632059,"diff_hunk":"@@ -295,56 +290,36 @@ private AccountSummaryVO getAccountInfo(Account account, Map\n * Retrieves a list of positions by type for the given account\r\n * \r\n * @param account\r\n- * @param iTypes\r\n * @param currentBalance\r\n * @return\r\n * @throws ServletException\r\n *\/\r\n- private List getAccountPositions(Account account, List iTypes,\r\n- BigDecimal currentBalance, Map prices) throws ServletException {\r\n-\r\n- List positionObjects = new ArrayList();\r\n-\r\n- \/*\r\n- * Set the portfolios by investmentType\r\n- * \r\n- * TODO: This should likely eventually include get cash balances and include the cash ticker for completeness\r\n- * \r\n- * FIXME: Include pending portfolios\r\n- * \r\n- * Excludes pending allocationChagne portfolios; this is what user actually owns\r\n- *\/\r\n- for (InvestmentType iType : iTypes) {\r\n- Portfolio portfolio;\r\n- if (InvestmentType.CASH.equals(iType)) {\r\n- portfolio = portfolioService.getCashPortfolio();\r\n- } else {\r\n- portfolio = portfolioService.getLatestPortfolioExcludingPending(account.getId(), iType);\r\n- }\r\n+ private List getAccountPositions(Account account, BigDecimal currentBalance)\r\n+ throws ServletException {\r\n \r\n- Iterator componentIterator = portfolioService.getComponents(portfolio).iterator();\r\n- while (componentIterator.hasNext()) {\r\n- Component component = componentIterator.next();\r\n- Ticker ticker = component.getTicker();\r\n-\r\n- BigDecimal shares = userPositionService.getLatestShares(account.getId(), ticker, portfolio);\r\n- BigDecimal marketPrice = priceService.getCachedMarketPrice(ticker);\r\n-\r\n- BigDecimal tickerAllocation = currentBalance.compareTo(BigDecimal.ZERO) == 0 ? BigDecimal.ZERO : shares\r\n- .multiply(marketPrice).divide(currentBalance, 8, RoundingMode.HALF_UP);\r\n-\r\n- \/\/ rather than storing in a ResponseDataNode, store in a transfer object with convenient accessors and\r\n- \/\/ data types we can calculate on\r\n- AccountPositionVO apo = new AccountPositionVO();\r\n- apo.setSymbol(ticker.getSymbol());\r\n- apo.setDescription(ticker.getDescription());\r\n- apo.setDisplayName(ticker.getDisplayName());\r\n- apo.setInvestmentTypeByID(portfolio.getTypeByID());\r\n- apo.setAllocation(tickerAllocation);\r\n- apo.setShares(shares);\r\n- apo.setBalance(shares.multiply(marketPrice));\r\n- positionObjects.add(apo);\r\n- }\r\n+ List positionObjects = new ArrayList<>();\r\n+\r\n+ for (UserPosition userPosition : userPositionService.getLatestPositionsForAccount(account)) {\r","path":"src\/main\/java\/com\/betterment\/service\/access\/impl\/HomePageServiceImpl.java","position":132,"original_position":132,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"e1ce31953f18b46362fffa14c47df8503ff4a435","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"This applies in several places in this PR - what do you think?","created_at":"2013-09-27T16:18:07Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6632059","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6632059"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6632059"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6632236","id":6632236,"diff_hunk":"@@ -295,56 +290,36 @@ private AccountSummaryVO getAccountInfo(Account account, Map\n * Retrieves a list of positions by type for the given account\r\n * \r\n * @param account\r\n- * @param iTypes\r\n * @param currentBalance\r\n * @return\r\n * @throws ServletException\r\n *\/\r\n- private List getAccountPositions(Account account, List iTypes,\r\n- BigDecimal currentBalance, Map prices) throws ServletException {\r\n-\r\n- List positionObjects = new ArrayList();\r\n-\r\n- \/*\r\n- * Set the portfolios by investmentType\r\n- * \r\n- * TODO: This should likely eventually include get cash balances and include the cash ticker for completeness\r\n- * \r\n- * FIXME: Include pending portfolios\r\n- * \r\n- * Excludes pending allocationChagne portfolios; this is what user actually owns\r\n- *\/\r\n- for (InvestmentType iType : iTypes) {\r\n- Portfolio portfolio;\r\n- if (InvestmentType.CASH.equals(iType)) {\r\n- portfolio = portfolioService.getCashPortfolio();\r\n- } else {\r\n- portfolio = portfolioService.getLatestPortfolioExcludingPending(account.getId(), iType);\r\n- }\r\n+ private List getAccountPositions(Account account, BigDecimal currentBalance)\r\n+ throws ServletException {\r\n \r\n- Iterator componentIterator = portfolioService.getComponents(portfolio).iterator();\r\n- while (componentIterator.hasNext()) {\r\n- Component component = componentIterator.next();\r\n- Ticker ticker = component.getTicker();\r\n-\r\n- BigDecimal shares = userPositionService.getLatestShares(account.getId(), ticker, portfolio);\r\n- BigDecimal marketPrice = priceService.getCachedMarketPrice(ticker);\r\n-\r\n- BigDecimal tickerAllocation = currentBalance.compareTo(BigDecimal.ZERO) == 0 ? BigDecimal.ZERO : shares\r\n- .multiply(marketPrice).divide(currentBalance, 8, RoundingMode.HALF_UP);\r\n-\r\n- \/\/ rather than storing in a ResponseDataNode, store in a transfer object with convenient accessors and\r\n- \/\/ data types we can calculate on\r\n- AccountPositionVO apo = new AccountPositionVO();\r\n- apo.setSymbol(ticker.getSymbol());\r\n- apo.setDescription(ticker.getDescription());\r\n- apo.setDisplayName(ticker.getDisplayName());\r\n- apo.setInvestmentTypeByID(portfolio.getTypeByID());\r\n- apo.setAllocation(tickerAllocation);\r\n- apo.setShares(shares);\r\n- apo.setBalance(shares.multiply(marketPrice));\r\n- positionObjects.add(apo);\r\n- }\r\n+ List positionObjects = new ArrayList<>();\r\n+\r\n+ for (UserPosition userPosition : userPositionService.getLatestPositionsForAccount(account)) {\r","path":"src\/main\/java\/com\/betterment\/service\/access\/impl\/HomePageServiceImpl.java","position":132,"original_position":132,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"e1ce31953f18b46362fffa14c47df8503ff4a435","user":{"login":"jfairchild","id":1012652,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/7136b77872f8efd11aded1a3fc62c48a?d=https%3A%2F%2Fidenticons.github.com%2F5daa73500c0de987517d3e2cdac44dea.png","gravatar_id":"7136b77872f8efd11aded1a3fc62c48a","url":"https:\/\/api.github.com\/users\/jfairchild","html_url":"https:\/\/github.com\/jfairchild","followers_url":"https:\/\/api.github.com\/users\/jfairchild\/followers","following_url":"https:\/\/api.github.com\/users\/jfairchild\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/jfairchild\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/jfairchild\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/jfairchild\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/jfairchild\/orgs","repos_url":"https:\/\/api.github.com\/users\/jfairchild\/repos","events_url":"https:\/\/api.github.com\/users\/jfairchild\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/jfairchild\/received_events","type":"User"},"body":"I'm not sure what you mean by a Pending Position. Positions are written when trades or transfers complete.","created_at":"2013-09-27T16:26:11Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6632236","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6632236"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6632236"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6632289","id":6632289,"diff_hunk":"@@ -295,56 +290,36 @@ private AccountSummaryVO getAccountInfo(Account account, Map\n * Retrieves a list of positions by type for the given account\r\n * \r\n * @param account\r\n- * @param iTypes\r\n * @param currentBalance\r\n * @return\r\n * @throws ServletException\r\n *\/\r\n- private List getAccountPositions(Account account, List iTypes,\r\n- BigDecimal currentBalance, Map prices) throws ServletException {\r\n-\r\n- List positionObjects = new ArrayList();\r\n-\r\n- \/*\r\n- * Set the portfolios by investmentType\r\n- * \r\n- * TODO: This should likely eventually include get cash balances and include the cash ticker for completeness\r\n- * \r\n- * FIXME: Include pending portfolios\r\n- * \r\n- * Excludes pending allocationChagne portfolios; this is what user actually owns\r\n- *\/\r\n- for (InvestmentType iType : iTypes) {\r\n- Portfolio portfolio;\r\n- if (InvestmentType.CASH.equals(iType)) {\r\n- portfolio = portfolioService.getCashPortfolio();\r\n- } else {\r\n- portfolio = portfolioService.getLatestPortfolioExcludingPending(account.getId(), iType);\r\n- }\r\n+ private List getAccountPositions(Account account, BigDecimal currentBalance)\r\n+ throws ServletException {\r\n \r\n- Iterator componentIterator = portfolioService.getComponents(portfolio).iterator();\r\n- while (componentIterator.hasNext()) {\r\n- Component component = componentIterator.next();\r\n- Ticker ticker = component.getTicker();\r\n-\r\n- BigDecimal shares = userPositionService.getLatestShares(account.getId(), ticker, portfolio);\r\n- BigDecimal marketPrice = priceService.getCachedMarketPrice(ticker);\r\n-\r\n- BigDecimal tickerAllocation = currentBalance.compareTo(BigDecimal.ZERO) == 0 ? BigDecimal.ZERO : shares\r\n- .multiply(marketPrice).divide(currentBalance, 8, RoundingMode.HALF_UP);\r\n-\r\n- \/\/ rather than storing in a ResponseDataNode, store in a transfer object with convenient accessors and\r\n- \/\/ data types we can calculate on\r\n- AccountPositionVO apo = new AccountPositionVO();\r\n- apo.setSymbol(ticker.getSymbol());\r\n- apo.setDescription(ticker.getDescription());\r\n- apo.setDisplayName(ticker.getDisplayName());\r\n- apo.setInvestmentTypeByID(portfolio.getTypeByID());\r\n- apo.setAllocation(tickerAllocation);\r\n- apo.setShares(shares);\r\n- apo.setBalance(shares.multiply(marketPrice));\r\n- positionObjects.add(apo);\r\n- }\r\n+ List positionObjects = new ArrayList<>();\r\n+\r\n+ for (UserPosition userPosition : userPositionService.getLatestPositionsForAccount(account)) {\r","path":"src\/main\/java\/com\/betterment\/service\/access\/impl\/HomePageServiceImpl.java","position":132,"original_position":132,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"e1ce31953f18b46362fffa14c47df8503ff4a435","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"Ok nevermind, I was confusing myself.","created_at":"2013-09-27T16:28:12Z","updated_at":"2013-09-30T17:06:04Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6632289","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6632289"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6632289"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6669709","id":6669709,"diff_hunk":"@@ -295,56 +290,36 @@ private AccountSummaryVO getAccountInfo(Account account, Map\n * Retrieves a list of positions by type for the given account\r\n * \r\n * @param account\r\n- * @param iTypes\r\n * @param currentBalance\r\n * @return\r\n * @throws ServletException\r\n *\/\r\n- private List getAccountPositions(Account account, List iTypes,\r\n- BigDecimal currentBalance, Map prices) throws ServletException {\r\n-\r\n- List positionObjects = new ArrayList();\r\n-\r\n- \/*\r\n- * Set the portfolios by investmentType\r\n- * \r\n- * TODO: This should likely eventually include get cash balances and include the cash ticker for completeness\r\n- * \r\n- * FIXME: Include pending portfolios\r\n- * \r\n- * Excludes pending allocationChagne portfolios; this is what user actually owns\r\n- *\/\r\n- for (InvestmentType iType : iTypes) {\r\n- Portfolio portfolio;\r\n- if (InvestmentType.CASH.equals(iType)) {\r\n- portfolio = portfolioService.getCashPortfolio();\r\n- } else {\r\n- portfolio = portfolioService.getLatestPortfolioExcludingPending(account.getId(), iType);\r\n- }\r\n+ private List getAccountPositions(Account account, BigDecimal currentBalance)\r\n+ throws ServletException {\r\n \r\n- Iterator componentIterator = portfolioService.getComponents(portfolio).iterator();\r\n- while (componentIterator.hasNext()) {\r\n- Component component = componentIterator.next();\r\n- Ticker ticker = component.getTicker();\r\n-\r\n- BigDecimal shares = userPositionService.getLatestShares(account.getId(), ticker, portfolio);\r\n- BigDecimal marketPrice = priceService.getCachedMarketPrice(ticker);\r\n-\r\n- BigDecimal tickerAllocation = currentBalance.compareTo(BigDecimal.ZERO) == 0 ? BigDecimal.ZERO : shares\r\n- .multiply(marketPrice).divide(currentBalance, 8, RoundingMode.HALF_UP);\r\n-\r\n- \/\/ rather than storing in a ResponseDataNode, store in a transfer object with convenient accessors and\r\n- \/\/ data types we can calculate on\r\n- AccountPositionVO apo = new AccountPositionVO();\r\n- apo.setSymbol(ticker.getSymbol());\r\n- apo.setDescription(ticker.getDescription());\r\n- apo.setDisplayName(ticker.getDisplayName());\r\n- apo.setInvestmentTypeByID(portfolio.getTypeByID());\r\n- apo.setAllocation(tickerAllocation);\r\n- apo.setShares(shares);\r\n- apo.setBalance(shares.multiply(marketPrice));\r\n- positionObjects.add(apo);\r\n- }\r\n+ List positionObjects = new ArrayList<>();\r\n+\r\n+ for (UserPosition userPosition : userPositionService.getLatestPositionsForAccount(account)) {\r\n+\r\n+ Ticker ticker = userPosition.getTicker();\r\n+\r\n+ BigDecimal shares = userPosition.getShares();\r\n+ BigDecimal marketPrice = priceService.getCachedMarketPrice(ticker);\r\n+\r\n+ BigDecimal tickerAllocation = currentBalance.compareTo(BigDecimal.ZERO) == 0 ? BigDecimal.ZERO : shares\r\n+ .multiply(marketPrice).divide(currentBalance, 8, RoundingMode.HALF_UP);\r\n+\r\n+ \/\/ rather than storing in a ResponseDataNode, store in a transfer object with convenient accessors and\r\n+ \/\/ data types we can calculate on\r\n+ AccountPositionVO apo = new AccountPositionVO();\r\n+ apo.setSymbol(ticker.getSymbol());\r\n+ apo.setDescription(ticker.getDescription());\r\n+ apo.setDisplayName(ticker.getDisplayName());\r\n+ apo.setInvestmentTypeByID(userPosition.getPortfolio().getTypeByID());\r","path":"src\/main\/java\/com\/betterment\/service\/access\/impl\/HomePageServiceImpl.java","position":148,"original_position":148,"commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","original_commit_id":"f148cbaf3196f58a876cf75babdb2b05bb90b55f","user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"body":"we'll have to update some of the old data model classes that are sticking around to point to the new data model classes at some point. not sure which card will take care of that.","created_at":"2013-09-30T20:21:35Z","updated_at":"2013-09-30T20:21:35Z","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6669709","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/comments\/6669709"},"html":{"href":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#discussion_r6669709"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/pulls\/385"}}}],"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/24960139","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#issuecomment-24960139","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/385","id":24960139,"user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"created_at":"2013-09-23T22:18:48Z","updated_at":"2013-09-23T22:18:48Z","body":"a bit scary, but looks like things are moving in the right direction"},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/24961249","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#issuecomment-24961249","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/385","id":24961249,"user":{"login":"jfairchild","id":1012652,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/7136b77872f8efd11aded1a3fc62c48a?d=https%3A%2F%2Fidenticons.github.com%2F5daa73500c0de987517d3e2cdac44dea.png","gravatar_id":"7136b77872f8efd11aded1a3fc62c48a","url":"https:\/\/api.github.com\/users\/jfairchild","html_url":"https:\/\/github.com\/jfairchild","followers_url":"https:\/\/api.github.com\/users\/jfairchild\/followers","following_url":"https:\/\/api.github.com\/users\/jfairchild\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/jfairchild\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/jfairchild\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/jfairchild\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/jfairchild\/orgs","repos_url":"https:\/\/api.github.com\/users\/jfairchild\/repos","events_url":"https:\/\/api.github.com\/users\/jfairchild\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/jfairchild\/received_events","type":"User"},"created_at":"2013-09-23T22:38:07Z","updated_at":"2013-09-26T22:15:55Z","body":"Current plan is to put tests on DEVELOP for the following methods:\r\n- [x] AccountTransactionServiceImpl#getEndingBalanceForTransaction\r\n- [x] CustomerDocumentWriterServiceImpl#writeConfirmationSummary\r\n- [ ] BalanceServiceImpl#getCurrentBalancesByType"},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/25022856","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#issuecomment-25022856","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/385","id":25022856,"user":{"login":"jfairchild","id":1012652,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/7136b77872f8efd11aded1a3fc62c48a?d=https%3A%2F%2Fidenticons.github.com%2F5daa73500c0de987517d3e2cdac44dea.png","gravatar_id":"7136b77872f8efd11aded1a3fc62c48a","url":"https:\/\/api.github.com\/users\/jfairchild","html_url":"https:\/\/github.com\/jfairchild","followers_url":"https:\/\/api.github.com\/users\/jfairchild\/followers","following_url":"https:\/\/api.github.com\/users\/jfairchild\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/jfairchild\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/jfairchild\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/jfairchild\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/jfairchild\/orgs","repos_url":"https:\/\/api.github.com\/users\/jfairchild\/repos","events_url":"https:\/\/api.github.com\/users\/jfairchild\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/jfairchild\/received_events","type":"User"},"created_at":"2013-09-24T17:00:17Z","updated_at":"2013-09-24T17:00:17Z","body":"Added a test for CustomerDocumentWriterService. I'm going to move it to develop."},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/25196909","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#issuecomment-25196909","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/385","id":25196909,"user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"created_at":"2013-09-26T19:38:28Z","updated_at":"2013-09-26T19:38:28Z","body":"cleaner code :+1: \r\n\r\nStill not sure about the correctness of the original method, the new method, what the callers of this method expect to get back, and various other things :scream_cat: ."},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/comments\/25258054","html_url":"https:\/\/github.com\/Betterment\/better-core\/pull\/385#issuecomment-25258054","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/better-core\/issues\/385","id":25258054,"user":{"login":"gsadowski","id":1158354,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/3661a62a8e24068d6be1c2b3c31161f7?d=https%3A%2F%2Fidenticons.github.com%2F65fa4e0e5c46078aded851a354bde47b.png","gravatar_id":"3661a62a8e24068d6be1c2b3c31161f7","url":"https:\/\/api.github.com\/users\/gsadowski","html_url":"https:\/\/github.com\/gsadowski","followers_url":"https:\/\/api.github.com\/users\/gsadowski\/followers","following_url":"https:\/\/api.github.com\/users\/gsadowski\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/gsadowski\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/gsadowski\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/gsadowski\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/gsadowski\/orgs","repos_url":"https:\/\/api.github.com\/users\/gsadowski\/repos","events_url":"https:\/\/api.github.com\/users\/gsadowski\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/gsadowski\/received_events","type":"User"},"created_at":"2013-09-27T16:26:44Z","updated_at":"2013-09-27T16:26:44Z","body":"the only three methods that may still need to be modified are:\r\n\r\nUserPositionService .getInvestmentTypeBalancesHistory\r\nUserPositionDAO.getHistoricTotalBalanceFromPositionsBefore\r\nAllocationChangeService.rebalanceAllocation\r\n\r\nso you got almost all of them in the first pass :100: :100: :100: "}]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/pulls\/7","id":8851246,"html_url":"https:\/\/github.com\/Betterment\/better-boxen\/pull\/7","diff_url":"https:\/\/github.com\/Betterment\/better-boxen\/pull\/7.diff","patch_url":"https:\/\/github.com\/Betterment\/better-boxen\/pull\/7.patch","issue_url":"https:\/\/github.com\/Betterment\/better-boxen\/pull\/7","number":7,"state":"open","title":"Boxen upgrade","user":{"login":"dustinlucien","id":48741,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/4dec79e18a8a046618a4ab71c73500c0?d=https%3A%2F%2Fidenticons.github.com%2F39169088cafa898f69c7bad07a3b09b0.png","gravatar_id":"4dec79e18a8a046618a4ab71c73500c0","url":"https:\/\/api.github.com\/users\/dustinlucien","html_url":"https:\/\/github.com\/dustinlucien","followers_url":"https:\/\/api.github.com\/users\/dustinlucien\/followers","following_url":"https:\/\/api.github.com\/users\/dustinlucien\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/dustinlucien\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/dustinlucien\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/dustinlucien\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/dustinlucien\/orgs","repos_url":"https:\/\/api.github.com\/users\/dustinlucien\/repos","events_url":"https:\/\/api.github.com\/users\/dustinlucien\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/dustinlucien\/received_events","type":"User"},"body":"@nonrational \r\n\r\nUpgrade of Boxen to version 2.0.3\r\n\r\nSteps:\r\n1. checkout the branch\r\n2. run scripts\/bootstrap\r\n3. run boxen\r\n4. (maybe run boxen again?)","created_at":"2013-10-04T19:52:12Z","updated_at":"2013-10-04T19:52:30Z","closed_at":null,"merged_at":null,"merge_commit_sha":"9421dc8b44ffb388466d956320338e42ec43f59d","assignee":null,"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/better-boxen\/pull\/7\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/better-boxen\/pull\/7\/comments","review_comment_url":"\/repos\/Betterment\/better-boxen\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/issues\/7\/comments","status_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/statuses\/cc5e59cf38926ee96ce8758a3effdcd1423e0a2d","head":{"label":"Betterment:boxen-upgrade","ref":"boxen-upgrade","sha":"cc5e59cf38926ee96ce8758a3effdcd1423e0a2d","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8801621,"name":"better-boxen","full_name":"Betterment\/better-boxen","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-boxen","description":"","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/labels{\/name}","created_at":"2013-03-15T14:51:21Z","updated_at":"2013-10-04T19:52:30Z","pushed_at":"2013-10-02T22:50:00Z","git_url":"git:\/\/github.com\/Betterment\/better-boxen.git","ssh_url":"git@github.com:Betterment\/better-boxen.git","clone_url":"https:\/\/github.com\/Betterment\/better-boxen.git","svn_url":"https:\/\/github.com\/Betterment\/better-boxen","homepage":null,"size":58900,"watchers_count":0,"language":"Puppet","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":1,"mirror_url":null,"open_issues_count":1,"forks":1,"open_issues":1,"watchers":0,"master_branch":"master","default_branch":"master"}},"base":{"label":"Betterment:master","ref":"master","sha":"e346cb53ad7aaddaa14dde74503e2f3d409cc998","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":8801621,"name":"better-boxen","full_name":"Betterment\/better-boxen","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/better-boxen","description":"","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/labels{\/name}","created_at":"2013-03-15T14:51:21Z","updated_at":"2013-10-04T19:52:30Z","pushed_at":"2013-10-02T22:50:00Z","git_url":"git:\/\/github.com\/Betterment\/better-boxen.git","ssh_url":"git@github.com:Betterment\/better-boxen.git","clone_url":"https:\/\/github.com\/Betterment\/better-boxen.git","svn_url":"https:\/\/github.com\/Betterment\/better-boxen","homepage":null,"size":58900,"watchers_count":0,"language":"Puppet","has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":1,"mirror_url":null,"open_issues_count":1,"forks":1,"open_issues":1,"watchers":0,"master_branch":"master","default_branch":"master"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/pulls\/7"},"html":{"href":"https:\/\/github.com\/Betterment\/better-boxen\/pull\/7"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/issues\/7"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/issues\/7\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/pulls\/7\/comments"},"status":{"href":"https:\/\/api.github.com\/repos\/Betterment\/better-boxen\/statuses\/cc5e59cf38926ee96ce8758a3effdcd1423e0a2d"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":0,"review_comments":0,"commits":98,"additions":337,"deletions":132,"changed_files":68,"review_comments_list":[],"comments_list":[]},{"url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls\/1","id":7509115,"html_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1","diff_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1.diff","patch_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1.patch","issue_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1","number":1,"state":"open","title":"Added google docs demo","user":{"login":"kristinahu","id":4601821,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/e32a5b1796c2a45805639eca31c1d6bc?d=https%3A%2F%2Fidenticons.github.com%2F2f2fbeae1324b1e15b1fea7344e394a0.png","gravatar_id":"e32a5b1796c2a45805639eca31c1d6bc","url":"https:\/\/api.github.com\/users\/kristinahu","html_url":"https:\/\/github.com\/kristinahu","followers_url":"https:\/\/api.github.com\/users\/kristinahu\/followers","following_url":"https:\/\/api.github.com\/users\/kristinahu\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/kristinahu\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/kristinahu\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/kristinahu\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/kristinahu\/orgs","repos_url":"https:\/\/api.github.com\/users\/kristinahu\/repos","events_url":"https:\/\/api.github.com\/users\/kristinahu\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/kristinahu\/received_events","type":"User"},"body":"@nonrational @ygoldman ","created_at":"2013-08-09T16:16:23Z","updated_at":"2013-08-09T22:59:48Z","closed_at":null,"merged_at":null,"merge_commit_sha":"0484be32eaca12ae188a7a8581e9b76c76c0449d","assignee":{"login":"nonrational","id":550903,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/97f0c80f3166a533fdadf0f014abedc0?d=https%3A%2F%2Fidenticons.github.com%2Fdc6dd57a10e767211d8b1b15491fcbe3.png","gravatar_id":"97f0c80f3166a533fdadf0f014abedc0","url":"https:\/\/api.github.com\/users\/nonrational","html_url":"https:\/\/github.com\/nonrational","followers_url":"https:\/\/api.github.com\/users\/nonrational\/followers","following_url":"https:\/\/api.github.com\/users\/nonrational\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/nonrational\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/nonrational\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/nonrational\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/nonrational\/orgs","repos_url":"https:\/\/api.github.com\/users\/nonrational\/repos","events_url":"https:\/\/api.github.com\/users\/nonrational\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/nonrational\/received_events","type":"User"},"milestone":null,"commits_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1\/commits","review_comments_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1\/comments","review_comment_url":"\/repos\/Betterment\/oh-i-get-it\/pulls\/comments\/{number}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/1\/comments","status_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/statuses\/b4dcf8ae11ac065545d6c83b4b23edce501ebf89","head":{"label":"Betterment:kristina\/google-spreadsheets-java-demo","ref":"kristina\/google-spreadsheets-java-demo","sha":"b4dcf8ae11ac065545d6c83b4b23edce501ebf89","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":12004775,"name":"oh-i-get-it","full_name":"Betterment\/oh-i-get-it","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/oh-i-get-it","description":"so, you finally get it huh? now help other people get it too.","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/labels{\/name}","created_at":"2013-08-09T15:59:46Z","updated_at":"2013-09-19T19:17:43Z","pushed_at":"2013-08-09T16:27:07Z","git_url":"git:\/\/github.com\/Betterment\/oh-i-get-it.git","ssh_url":"git@github.com:Betterment\/oh-i-get-it.git","clone_url":"https:\/\/github.com\/Betterment\/oh-i-get-it.git","svn_url":"https:\/\/github.com\/Betterment\/oh-i-get-it","homepage":null,"size":562,"watchers_count":0,"language":null,"has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":0,"mirror_url":null,"open_issues_count":1,"forks":0,"open_issues":1,"watchers":0,"master_branch":"master","default_branch":"master"}},"base":{"label":"Betterment:master","ref":"master","sha":"82ada7192bd56db6518b7ce4acf5b0ae8207b132","user":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"repo":{"id":12004775,"name":"oh-i-get-it","full_name":"Betterment\/oh-i-get-it","owner":{"login":"Betterment","id":871554,"avatar_url":"https:\/\/1.gravatar.com\/avatar\/9a6ce831703f062001db04e3954fdf16?d=https%3A%2F%2Fidenticons.github.com%2Fbf19396c8ce1a0b60109f11ade6f249f.png","gravatar_id":"9a6ce831703f062001db04e3954fdf16","url":"https:\/\/api.github.com\/users\/Betterment","html_url":"https:\/\/github.com\/Betterment","followers_url":"https:\/\/api.github.com\/users\/Betterment\/followers","following_url":"https:\/\/api.github.com\/users\/Betterment\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/Betterment\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/Betterment\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/Betterment\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/Betterment\/orgs","repos_url":"https:\/\/api.github.com\/users\/Betterment\/repos","events_url":"https:\/\/api.github.com\/users\/Betterment\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/Betterment\/received_events","type":"Organization"},"private":true,"html_url":"https:\/\/github.com\/Betterment\/oh-i-get-it","description":"so, you finally get it huh? now help other people get it too.","fork":false,"url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it","forks_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/forks","keys_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/keys{\/key_id}","collaborators_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/collaborators{\/collaborator}","teams_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/teams","hooks_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/hooks","issue_events_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/events{\/number}","events_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/events","assignees_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/assignees{\/user}","branches_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/branches{\/branch}","tags_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/tags","blobs_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/blobs{\/sha}","git_tags_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/tags{\/sha}","git_refs_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/refs{\/sha}","trees_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/trees{\/sha}","statuses_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/statuses\/{sha}","languages_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/languages","stargazers_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/stargazers","contributors_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/contributors","subscribers_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/subscribers","subscription_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/subscription","commits_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/commits{\/sha}","git_commits_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/git\/commits{\/sha}","comments_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/comments{\/number}","issue_comment_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/comments\/{number}","contents_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/contents\/{+path}","compare_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/compare\/{base}...{head}","merges_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/merges","archive_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/{archive_format}{\/ref}","downloads_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/downloads","issues_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues{\/number}","pulls_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls{\/number}","milestones_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/milestones{\/number}","notifications_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/notifications{?since,all,participating}","labels_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/labels{\/name}","created_at":"2013-08-09T15:59:46Z","updated_at":"2013-09-19T19:17:43Z","pushed_at":"2013-08-09T16:27:07Z","git_url":"git:\/\/github.com\/Betterment\/oh-i-get-it.git","ssh_url":"git@github.com:Betterment\/oh-i-get-it.git","clone_url":"https:\/\/github.com\/Betterment\/oh-i-get-it.git","svn_url":"https:\/\/github.com\/Betterment\/oh-i-get-it","homepage":null,"size":562,"watchers_count":0,"language":null,"has_issues":true,"has_downloads":true,"has_wiki":true,"forks_count":0,"mirror_url":null,"open_issues_count":1,"forks":0,"open_issues":1,"watchers":0,"master_branch":"master","default_branch":"master"}},"_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls\/1"},"html":{"href":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1"},"issue":{"href":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/1"},"comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/1\/comments"},"review_comments":{"href":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls\/1\/comments"},"status":{"href":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/statuses\/b4dcf8ae11ac065545d6c83b4b23edce501ebf89"}},"merged":false,"mergeable":true,"mergeable_state":"clean","merged_by":null,"comments":1,"review_comments":1,"commits":3,"additions":237,"deletions":0,"changed_files":8,"review_comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls\/comments\/5695347","id":5695347,"diff_hunk":"@@ -0,0 +1 @@\n+{\"credentials\":{\"user\":{\"access_token\":\"ya29.AHES6ZTKxgxudJA3ZRUjmbwda76441Ytchu4K5Qkd-Zb5Lq7A9ja\",\"expiration_time_millis\":1374773051102,\"refresh_token\":\"1\/bzvnhjboCJOkqQ-N9vIEiHoivrfsNNtS-rKvhiKi4zA\"}}}","path":"GoogleSpreadsheetsJavaDemo\/testUser","position":1,"original_position":1,"commit_id":"b4dcf8ae11ac065545d6c83b4b23edce501ebf89","original_commit_id":"b4dcf8ae11ac065545d6c83b4b23edce501ebf89","user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/0.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"body":"Are these our actual credentials? If so, cant commit this.","created_at":"2013-08-09T22:59:47Z","updated_at":"2013-08-09T22:59:47Z","html_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1#discussion_r5695347","pull_request_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls\/1","_links":{"self":{"href":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls\/comments\/5695347"},"html":{"href":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1#discussion_r5695347"},"pull_request":{"href":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/pulls\/1"}}}],"comments_list":[{"url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/comments\/22427987","html_url":"https:\/\/github.com\/Betterment\/oh-i-get-it\/pull\/1#issuecomment-22427987","issue_url":"https:\/\/api.github.com\/repos\/Betterment\/oh-i-get-it\/issues\/1","id":22427987,"user":{"login":"ygoldman","id":2130372,"avatar_url":"https:\/\/2.gravatar.com\/avatar\/30e058a6b67277169cdf3228d5262970?d=https%3A%2F%2Fidenticons.github.com%2Fcff950194260542dd9b9594c6baf768a.png","gravatar_id":"30e058a6b67277169cdf3228d5262970","url":"https:\/\/api.github.com\/users\/ygoldman","html_url":"https:\/\/github.com\/ygoldman","followers_url":"https:\/\/api.github.com\/users\/ygoldman\/followers","following_url":"https:\/\/api.github.com\/users\/ygoldman\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/ygoldman\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/ygoldman\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/ygoldman\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/ygoldman\/orgs","repos_url":"https:\/\/api.github.com\/users\/ygoldman\/repos","events_url":"https:\/\/api.github.com\/users\/ygoldman\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/ygoldman\/received_events","type":"User"},"created_at":"2013-08-09T22:59:00Z","updated_at":"2013-08-09T22:59:00Z","body":"lgtm"}]}]),
        user = new GithubUser();

    App.settings = new Settings({
        id: 2
    });


    $.when(
        // pull_requests.fetch(),
        App.settings.fetch(),
        user.fetch()
    ).done(function(){
        _.extend(App.collections, {
            pull_requests: pull_requests,
            user: user
        });

        App.vent = _.extend({}, Backbone.Events);
        App.router = new Router();
        Backbone.history.start();
    });
});
